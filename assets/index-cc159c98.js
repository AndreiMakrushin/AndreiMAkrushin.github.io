function Fd(e,t){for(var i=0;i<t.length;i++){const n=t[i];if(typeof n!="string"&&!Array.isArray(n)){for(const r in n)if(r!=="default"&&!(r in e)){const s=Object.getOwnPropertyDescriptor(n,r);s&&Object.defineProperty(e,r,s.get?s:{enumerable:!0,get:()=>n[r]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function i(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=i(r);fetch(r.href,s)}})();function Oo(e,t){const i=Object.create(null),n=e.split(",");for(let r=0;r<n.length;r++)i[n[r]]=!0;return t?r=>!!i[r.toLowerCase()]:r=>!!i[r]}const Te={},Ni=[],vt=()=>{},Ud=()=>!1,Hd=/^on[^a-z]/,Ms=e=>Hd.test(e),Po=e=>e.startsWith("onUpdate:"),Ue=Object.assign,Mo=(e,t)=>{const i=e.indexOf(t);i>-1&&e.splice(i,1)},Wd=Object.prototype.hasOwnProperty,he=(e,t)=>Wd.call(e,t),Z=Array.isArray,Bi=e=>Is(e)==="[object Map]",mc=e=>Is(e)==="[object Set]",re=e=>typeof e=="function",Me=e=>typeof e=="string",$s=e=>typeof e=="symbol",Re=e=>e!==null&&typeof e=="object",gc=e=>(Re(e)||re(e))&&re(e.then)&&re(e.catch),vc=Object.prototype.toString,Is=e=>vc.call(e),Vd=e=>Is(e).slice(8,-1),wc=e=>Is(e)==="[object Object]",$o=e=>Me(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,ds=Oo(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ks=e=>{const t=Object.create(null);return i=>t[i]||(t[i]=e(i))},qd=/-(\w)/g,Pt=ks(e=>e.replace(qd,(t,i)=>i?i.toUpperCase():"")),Gd=/\B([A-Z])/g,en=ks(e=>e.replace(Gd,"-$1").toLowerCase()),zs=ks(e=>e.charAt(0).toUpperCase()+e.slice(1)),lr=ks(e=>e?`on${zs(e)}`:""),_i=(e,t)=>!Object.is(e,t),hs=(e,t)=>{for(let i=0;i<e.length;i++)e[i](t)},bs=(e,t,i)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:i})},Wr=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Sa;const Vr=()=>Sa||(Sa=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Ls(e){if(Z(e)){const t={};for(let i=0;i<e.length;i++){const n=e[i],r=Me(n)?Xd(n):Ls(n);if(r)for(const s in r)t[s]=r[s]}return t}else if(Me(e)||Re(e))return e}const Kd=/;(?![^(]*\))/g,Jd=/:([^]+)/,Yd=/\/\*[^]*?\*\//g;function Xd(e){const t={};return e.replace(Yd,"").split(Kd).forEach(i=>{if(i){const n=i.split(Jd);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function Ke(e){let t="";if(Me(e))t=e;else if(Z(e))for(let i=0;i<e.length;i++){const n=Ke(e[i]);n&&(t+=n+" ")}else if(Re(e))for(const i in e)e[i]&&(t+=i+" ");return t.trim()}const Zd="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Qd=Oo(Zd);function bc(e){return!!e||e===""}const Se=e=>Me(e)?e:e==null?"":Z(e)||Re(e)&&(e.toString===vc||!re(e.toString))?JSON.stringify(e,yc,2):String(e),yc=(e,t)=>t&&t.__v_isRef?yc(e,t.value):Bi(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((i,[n,r])=>(i[`${n} =>`]=r,i),{})}:mc(t)?{[`Set(${t.size})`]:[...t.values()]}:Re(t)&&!Z(t)&&!wc(t)?String(t):t;let tt;class _c{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=tt,!t&&tt&&(this.index=(tt.scopes||(tt.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const i=tt;try{return tt=this,t()}finally{tt=i}}}on(){tt=this}off(){tt=this.parent}stop(t){if(this._active){let i,n;for(i=0,n=this.effects.length;i<n;i++)this.effects[i].stop();for(i=0,n=this.cleanups.length;i<n;i++)this.cleanups[i]();if(this.scopes)for(i=0,n=this.scopes.length;i<n;i++)this.scopes[i].stop(!0);if(!this.detached&&this.parent&&!t){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0,this._active=!1}}}function Sc(e){return new _c(e)}function eh(e,t=tt){t&&t.active&&t.effects.push(e)}function xc(){return tt}function th(e){tt&&tt.cleanups.push(e)}const Io=e=>{const t=new Set(e);return t.w=0,t.n=0,t},Ec=e=>(e.w&oi)>0,Tc=e=>(e.n&oi)>0,ih=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=oi},nh=e=>{const{deps:t}=e;if(t.length){let i=0;for(let n=0;n<t.length;n++){const r=t[n];Ec(r)&&!Tc(r)?r.delete(e):t[i++]=r,r.w&=~oi,r.n&=~oi}t.length=i}},ys=new WeakMap;let mn=0,oi=1;const qr=30;let mt;const wi=Symbol(""),Gr=Symbol("");class ko{constructor(t,i=null,n){this.fn=t,this.scheduler=i,this.active=!0,this.deps=[],this.parent=void 0,eh(this,n)}run(){if(!this.active)return this.fn();let t=mt,i=ii;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=mt,mt=this,ii=!0,oi=1<<++mn,mn<=qr?ih(this):xa(this),this.fn()}finally{mn<=qr&&nh(this),oi=1<<--mn,mt=this.parent,ii=i,this.parent=void 0,this.deferStop&&this.stop()}}stop(){mt===this?this.deferStop=!0:this.active&&(xa(this),this.onStop&&this.onStop(),this.active=!1)}}function xa(e){const{deps:t}=e;if(t.length){for(let i=0;i<t.length;i++)t[i].delete(e);t.length=0}}let ii=!0;const Ac=[];function tn(){Ac.push(ii),ii=!1}function nn(){const e=Ac.pop();ii=e===void 0?!0:e}function Ze(e,t,i){if(ii&&mt){let n=ys.get(e);n||ys.set(e,n=new Map);let r=n.get(i);r||n.set(i,r=Io()),Cc(r)}}function Cc(e,t){let i=!1;mn<=qr?Tc(e)||(e.n|=oi,i=!Ec(e)):i=!e.has(mt),i&&(e.add(mt),mt.deps.push(e))}function Ft(e,t,i,n,r,s){const o=ys.get(e);if(!o)return;let l=[];if(t==="clear")l=[...o.values()];else if(i==="length"&&Z(e)){const a=Number(n);o.forEach((c,u)=>{(u==="length"||!$s(u)&&u>=a)&&l.push(c)})}else switch(i!==void 0&&l.push(o.get(i)),t){case"add":Z(e)?$o(i)&&l.push(o.get("length")):(l.push(o.get(wi)),Bi(e)&&l.push(o.get(Gr)));break;case"delete":Z(e)||(l.push(o.get(wi)),Bi(e)&&l.push(o.get(Gr)));break;case"set":Bi(e)&&l.push(o.get(wi));break}if(l.length===1)l[0]&&Kr(l[0]);else{const a=[];for(const c of l)c&&a.push(...c);Kr(Io(a))}}function Kr(e,t){const i=Z(e)?e:[...e];for(const n of i)n.computed&&Ea(n);for(const n of i)n.computed||Ea(n)}function Ea(e,t){(e!==mt||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}function sh(e,t){var i;return(i=ys.get(e))==null?void 0:i.get(t)}const rh=Oo("__proto__,__v_isRef,__isVue"),Rc=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter($s)),Ta=oh();function oh(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...i){const n=fe(this);for(let s=0,o=this.length;s<o;s++)Ze(n,"get",s+"");const r=n[t](...i);return r===-1||r===!1?n[t](...i.map(fe)):r}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...i){tn();const n=fe(this)[t].apply(this,i);return nn(),n}}),e}function ah(e){const t=fe(this);return Ze(t,"has",e),t.hasOwnProperty(e)}class Oc{constructor(t=!1,i=!1){this._isReadonly=t,this._shallow=i}get(t,i,n){const r=this._isReadonly,s=this._shallow;if(i==="__v_isReactive")return!r;if(i==="__v_isReadonly")return r;if(i==="__v_isShallow")return s;if(i==="__v_raw"&&n===(r?s?yh:Ic:s?$c:Mc).get(t))return t;const o=Z(t);if(!r){if(o&&he(Ta,i))return Reflect.get(Ta,i,n);if(i==="hasOwnProperty")return ah}const l=Reflect.get(t,i,n);return($s(i)?Rc.has(i):rh(i))||(r||Ze(t,"get",i),s)?l:Pe(l)?o&&$o(i)?l:l.value:Re(l)?r?zc(l):Ei(l):l}}class Pc extends Oc{constructor(t=!1){super(!1,t)}set(t,i,n,r){let s=t[i];if(Wi(s)&&Pe(s)&&!Pe(n))return!1;if(!this._shallow&&(!_s(n)&&!Wi(n)&&(s=fe(s),n=fe(n)),!Z(t)&&Pe(s)&&!Pe(n)))return s.value=n,!0;const o=Z(t)&&$o(i)?Number(i)<t.length:he(t,i),l=Reflect.set(t,i,n,r);return t===fe(r)&&(o?_i(n,s)&&Ft(t,"set",i,n):Ft(t,"add",i,n)),l}deleteProperty(t,i){const n=he(t,i);t[i];const r=Reflect.deleteProperty(t,i);return r&&n&&Ft(t,"delete",i,void 0),r}has(t,i){const n=Reflect.has(t,i);return(!$s(i)||!Rc.has(i))&&Ze(t,"has",i),n}ownKeys(t){return Ze(t,"iterate",Z(t)?"length":wi),Reflect.ownKeys(t)}}class lh extends Oc{constructor(t=!1){super(!0,t)}set(t,i){return!0}deleteProperty(t,i){return!0}}const ch=new Pc,uh=new lh,dh=new Pc(!0),zo=e=>e,js=e=>Reflect.getPrototypeOf(e);function Kn(e,t,i=!1,n=!1){e=e.__v_raw;const r=fe(e),s=fe(t);i||(_i(t,s)&&Ze(r,"get",t),Ze(r,"get",s));const{has:o}=js(r),l=n?zo:i?Do:Mn;if(o.call(r,t))return l(e.get(t));if(o.call(r,s))return l(e.get(s));e!==r&&e.get(t)}function Jn(e,t=!1){const i=this.__v_raw,n=fe(i),r=fe(e);return t||(_i(e,r)&&Ze(n,"has",e),Ze(n,"has",r)),e===r?i.has(e):i.has(e)||i.has(r)}function Yn(e,t=!1){return e=e.__v_raw,!t&&Ze(fe(e),"iterate",wi),Reflect.get(e,"size",e)}function Aa(e){e=fe(e);const t=fe(this);return js(t).has.call(t,e)||(t.add(e),Ft(t,"add",e,e)),this}function Ca(e,t){t=fe(t);const i=fe(this),{has:n,get:r}=js(i);let s=n.call(i,e);s||(e=fe(e),s=n.call(i,e));const o=r.call(i,e);return i.set(e,t),s?_i(t,o)&&Ft(i,"set",e,t):Ft(i,"add",e,t),this}function Ra(e){const t=fe(this),{has:i,get:n}=js(t);let r=i.call(t,e);r||(e=fe(e),r=i.call(t,e)),n&&n.call(t,e);const s=t.delete(e);return r&&Ft(t,"delete",e,void 0),s}function Oa(){const e=fe(this),t=e.size!==0,i=e.clear();return t&&Ft(e,"clear",void 0,void 0),i}function Xn(e,t){return function(n,r){const s=this,o=s.__v_raw,l=fe(o),a=t?zo:e?Do:Mn;return!e&&Ze(l,"iterate",wi),o.forEach((c,u)=>n.call(r,a(c),a(u),s))}}function Zn(e,t,i){return function(...n){const r=this.__v_raw,s=fe(r),o=Bi(s),l=e==="entries"||e===Symbol.iterator&&o,a=e==="keys"&&o,c=r[e](...n),u=i?zo:t?Do:Mn;return!t&&Ze(s,"iterate",a?Gr:wi),{next(){const{value:d,done:h}=c.next();return h?{value:d,done:h}:{value:l?[u(d[0]),u(d[1])]:u(d),done:h}},[Symbol.iterator](){return this}}}}function Vt(e){return function(...t){return e==="delete"?!1:this}}function hh(){const e={get(s){return Kn(this,s)},get size(){return Yn(this)},has:Jn,add:Aa,set:Ca,delete:Ra,clear:Oa,forEach:Xn(!1,!1)},t={get(s){return Kn(this,s,!1,!0)},get size(){return Yn(this)},has:Jn,add:Aa,set:Ca,delete:Ra,clear:Oa,forEach:Xn(!1,!0)},i={get(s){return Kn(this,s,!0)},get size(){return Yn(this,!0)},has(s){return Jn.call(this,s,!0)},add:Vt("add"),set:Vt("set"),delete:Vt("delete"),clear:Vt("clear"),forEach:Xn(!0,!1)},n={get(s){return Kn(this,s,!0,!0)},get size(){return Yn(this,!0)},has(s){return Jn.call(this,s,!0)},add:Vt("add"),set:Vt("set"),delete:Vt("delete"),clear:Vt("clear"),forEach:Xn(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{e[s]=Zn(s,!1,!1),i[s]=Zn(s,!0,!1),t[s]=Zn(s,!1,!0),n[s]=Zn(s,!0,!0)}),[e,i,t,n]}const[fh,ph,mh,gh]=hh();function Lo(e,t){const i=t?e?gh:mh:e?ph:fh;return(n,r,s)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?n:Reflect.get(he(i,r)&&r in n?i:n,r,s)}const vh={get:Lo(!1,!1)},wh={get:Lo(!1,!0)},bh={get:Lo(!0,!1)},Mc=new WeakMap,$c=new WeakMap,Ic=new WeakMap,yh=new WeakMap;function _h(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Sh(e){return e.__v_skip||!Object.isExtensible(e)?0:_h(Vd(e))}function Ei(e){return Wi(e)?e:jo(e,!1,ch,vh,Mc)}function kc(e){return jo(e,!1,dh,wh,$c)}function zc(e){return jo(e,!0,uh,bh,Ic)}function jo(e,t,i,n,r){if(!Re(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const s=r.get(e);if(s)return s;const o=Sh(e);if(o===0)return e;const l=new Proxy(e,o===2?n:i);return r.set(e,l),l}function ni(e){return Wi(e)?ni(e.__v_raw):!!(e&&e.__v_isReactive)}function Wi(e){return!!(e&&e.__v_isReadonly)}function _s(e){return!!(e&&e.__v_isShallow)}function Lc(e){return ni(e)||Wi(e)}function fe(e){const t=e&&e.__v_raw;return t?fe(t):e}function Ds(e){return bs(e,"__v_skip",!0),e}const Mn=e=>Re(e)?Ei(e):e,Do=e=>Re(e)?zc(e):e;function jc(e){ii&&mt&&(e=fe(e),Cc(e.dep||(e.dep=Io())))}function Dc(e,t){e=fe(e);const i=e.dep;i&&Kr(i)}function Pe(e){return!!(e&&e.__v_isRef===!0)}function se(e){return Nc(e,!1)}function xh(e){return Nc(e,!0)}function Nc(e,t){return Pe(e)?e:new Eh(e,t)}class Eh{constructor(t,i){this.__v_isShallow=i,this.dep=void 0,this.__v_isRef=!0,this._rawValue=i?t:fe(t),this._value=i?t:Mn(t)}get value(){return jc(this),this._value}set value(t){const i=this.__v_isShallow||_s(t)||Wi(t);t=i?t:fe(t),_i(t,this._rawValue)&&(this._rawValue=t,this._value=i?t:Mn(t),Dc(this))}}function q(e){return Pe(e)?e.value:e}const Th={get:(e,t,i)=>q(Reflect.get(e,t,i)),set:(e,t,i,n)=>{const r=e[t];return Pe(r)&&!Pe(i)?(r.value=i,!0):Reflect.set(e,t,i,n)}};function Bc(e){return ni(e)?e:new Proxy(e,Th)}function Ah(e){const t=Z(e)?new Array(e.length):{};for(const i in e)t[i]=Rh(e,i);return t}class Ch{constructor(t,i,n){this._object=t,this._key=i,this._defaultValue=n,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return sh(fe(this._object),this._key)}}function Rh(e,t,i){const n=e[t];return Pe(n)?n:new Ch(e,t,i)}class Oh{constructor(t,i,n,r){this._setter=i,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new ko(t,()=>{this._dirty||(this._dirty=!0,Dc(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!r,this.__v_isReadonly=n}get value(){const t=fe(this);return jc(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function Ph(e,t,i=!1){let n,r;const s=re(e);return s?(n=e,r=vt):(n=e.get,r=e.set),new Oh(n,r,s||!r,i)}function si(e,t,i,n){let r;try{r=n?e(...n):e()}catch(s){Fn(s,t,i)}return r}function wt(e,t,i,n){if(re(e)){const s=si(e,t,i,n);return s&&gc(s)&&s.catch(o=>{Fn(o,t,i)}),s}const r=[];for(let s=0;s<e.length;s++)r.push(wt(e[s],t,i,n));return r}function Fn(e,t,i,n=!0){const r=t?t.vnode:null;if(t){let s=t.parent;const o=t.proxy,l=i;for(;s;){const c=s.ec;if(c){for(let u=0;u<c.length;u++)if(c[u](e,o,l)===!1)return}s=s.parent}const a=t.appContext.config.errorHandler;if(a){si(a,null,10,[e,o,l]);return}}Mh(e,i,r,n)}function Mh(e,t,i,n=!0){console.error(e)}let $n=!1,Jr=!1;const qe=[];let At=0;const Fi=[];let Dt=null,fi=0;const Fc=Promise.resolve();let No=null;function Ns(e){const t=No||Fc;return e?t.then(this?e.bind(this):e):t}function $h(e){let t=At+1,i=qe.length;for(;t<i;){const n=t+i>>>1,r=qe[n],s=In(r);s<e||s===e&&r.pre?t=n+1:i=n}return t}function Bs(e){(!qe.length||!qe.includes(e,$n&&e.allowRecurse?At+1:At))&&(e.id==null?qe.push(e):qe.splice($h(e.id),0,e),Uc())}function Uc(){!$n&&!Jr&&(Jr=!0,No=Fc.then(Wc))}function Ih(e){const t=qe.indexOf(e);t>At&&qe.splice(t,1)}function kh(e){Z(e)?Fi.push(...e):(!Dt||!Dt.includes(e,e.allowRecurse?fi+1:fi))&&Fi.push(e),Uc()}function Pa(e,t=$n?At+1:0){for(;t<qe.length;t++){const i=qe[t];i&&i.pre&&(qe.splice(t,1),t--,i())}}function Hc(e){if(Fi.length){const t=[...new Set(Fi)];if(Fi.length=0,Dt){Dt.push(...t);return}for(Dt=t,Dt.sort((i,n)=>In(i)-In(n)),fi=0;fi<Dt.length;fi++)Dt[fi]();Dt=null,fi=0}}const In=e=>e.id==null?1/0:e.id,zh=(e,t)=>{const i=In(e)-In(t);if(i===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return i};function Wc(e){Jr=!1,$n=!0,qe.sort(zh);const t=vt;try{for(At=0;At<qe.length;At++){const i=qe[At];i&&i.active!==!1&&si(i,null,14)}}finally{At=0,qe.length=0,Hc(),$n=!1,No=null,(qe.length||Fi.length)&&Wc()}}function Lh(e,t,...i){if(e.isUnmounted)return;const n=e.vnode.props||Te;let r=i;const s=t.startsWith("update:"),o=s&&t.slice(7);if(o&&o in n){const u=`${o==="modelValue"?"model":o}Modifiers`,{number:d,trim:h}=n[u]||Te;h&&(r=i.map(f=>Me(f)?f.trim():f)),d&&(r=i.map(Wr))}let l,a=n[l=lr(t)]||n[l=lr(Pt(t))];!a&&s&&(a=n[l=lr(en(t))]),a&&wt(a,e,6,r);const c=n[l+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,wt(c,e,6,r)}}function Vc(e,t,i=!1){const n=t.emitsCache,r=n.get(e);if(r!==void 0)return r;const s=e.emits;let o={},l=!1;if(!re(e)){const a=c=>{const u=Vc(c,t,!0);u&&(l=!0,Ue(o,u))};!i&&t.mixins.length&&t.mixins.forEach(a),e.extends&&a(e.extends),e.mixins&&e.mixins.forEach(a)}return!s&&!l?(Re(e)&&n.set(e,null),null):(Z(s)?s.forEach(a=>o[a]=null):Ue(o,s),Re(e)&&n.set(e,o),o)}function Fs(e,t){return!e||!Ms(t)?!1:(t=t.slice(2).replace(/Once$/,""),he(e,t[0].toLowerCase()+t.slice(1))||he(e,en(t))||he(e,t))}let Ne=null,Us=null;function Ss(e){const t=Ne;return Ne=e,Us=e&&e.type.__scopeId||null,t}function qc(e){Us=e}function Gc(){Us=null}function ge(e,t=Ne,i){if(!t||e._n)return e;const n=(...r)=>{n._d&&Ua(-1);const s=Ss(t);let o;try{o=e(...r)}finally{Ss(s),n._d&&Ua(1)}return o};return n._n=!0,n._c=!0,n._d=!0,n}function cr(e){const{type:t,vnode:i,proxy:n,withProxy:r,props:s,propsOptions:[o],slots:l,attrs:a,emit:c,render:u,renderCache:d,data:h,setupState:f,ctx:p,inheritAttrs:m}=e;let w,b;const _=Ss(e);try{if(i.shapeFlag&4){const S=r||n;w=Et(u.call(S,S,d,s,f,h,p)),b=a}else{const S=t;w=Et(S.length>1?S(s,{attrs:a,slots:l,emit:c}):S(s,null)),b=t.props?a:jh(a)}}catch(S){Sn.length=0,Fn(S,e,1),w=k(ai)}let x=w;if(b&&m!==!1){const S=Object.keys(b),{shapeFlag:P}=x;S.length&&P&7&&(o&&S.some(Po)&&(b=Dh(b,o)),x=Vi(x,b))}return i.dirs&&(x=Vi(x),x.dirs=x.dirs?x.dirs.concat(i.dirs):i.dirs),i.transition&&(x.transition=i.transition),w=x,Ss(_),w}const jh=e=>{let t;for(const i in e)(i==="class"||i==="style"||Ms(i))&&((t||(t={}))[i]=e[i]);return t},Dh=(e,t)=>{const i={};for(const n in e)(!Po(n)||!(n.slice(9)in t))&&(i[n]=e[n]);return i};function Nh(e,t,i){const{props:n,children:r,component:s}=e,{props:o,children:l,patchFlag:a}=t,c=s.emitsOptions;if(t.dirs||t.transition)return!0;if(i&&a>=0){if(a&1024)return!0;if(a&16)return n?Ma(n,o,c):!!o;if(a&8){const u=t.dynamicProps;for(let d=0;d<u.length;d++){const h=u[d];if(o[h]!==n[h]&&!Fs(c,h))return!0}}}else return(r||l)&&(!l||!l.$stable)?!0:n===o?!1:n?o?Ma(n,o,c):!0:!!o;return!1}function Ma(e,t,i){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let r=0;r<n.length;r++){const s=n[r];if(t[s]!==e[s]&&!Fs(i,s))return!0}return!1}function Bh({vnode:e,parent:t},i){for(;t&&t.subTree===e;)(e=t.vnode).el=i,t=t.parent}const Fh=e=>e.__isSuspense;function Uh(e,t){t&&t.pendingBranch?Z(e)?t.effects.push(...e):t.effects.push(e):kh(e)}const Qn={};function bt(e,t,i){return Kc(e,t,i)}function Kc(e,t,{immediate:i,deep:n,flush:r,onTrack:s,onTrigger:o}=Te){var l;const a=xc()===((l=Le)==null?void 0:l.scope)?Le:null;let c,u=!1,d=!1;if(Pe(e)?(c=()=>e.value,u=_s(e)):ni(e)?(c=()=>e,n=!0):Z(e)?(d=!0,u=e.some(S=>ni(S)||_s(S)),c=()=>e.map(S=>{if(Pe(S))return S.value;if(ni(S))return vi(S);if(re(S))return si(S,a,2)})):re(e)?t?c=()=>si(e,a,2):c=()=>{if(!(a&&a.isUnmounted))return h&&h(),wt(e,a,3,[f])}:c=vt,t&&n){const S=c;c=()=>vi(S())}let h,f=S=>{h=_.onStop=()=>{si(S,a,4)}},p;if(Gi)if(f=vt,t?i&&wt(t,a,3,[c(),d?[]:void 0,f]):c(),r==="sync"){const S=kf();p=S.__watcherHandles||(S.__watcherHandles=[])}else return vt;let m=d?new Array(e.length).fill(Qn):Qn;const w=()=>{if(_.active)if(t){const S=_.run();(n||u||(d?S.some((P,V)=>_i(P,m[V])):_i(S,m)))&&(h&&h(),wt(t,a,3,[S,m===Qn?void 0:d&&m[0]===Qn?[]:m,f]),m=S)}else _.run()};w.allowRecurse=!!t;let b;r==="sync"?b=w:r==="post"?b=()=>Je(w,a&&a.suspense):(w.pre=!0,a&&(w.id=a.uid),b=()=>Bs(w));const _=new ko(c,b);t?i?w():m=_.run():r==="post"?Je(_.run.bind(_),a&&a.suspense):_.run();const x=()=>{_.stop(),a&&a.scope&&Mo(a.scope.effects,_)};return p&&p.push(x),x}function Hh(e,t,i){const n=this.proxy,r=Me(e)?e.includes(".")?Jc(n,e):()=>n[e]:e.bind(n,n);let s;re(t)?s=t:(s=t.handler,i=t);const o=Le;qi(this);const l=Kc(r,s.bind(n),i);return o?qi(o):bi(),l}function Jc(e,t){const i=t.split(".");return()=>{let n=e;for(let r=0;r<i.length&&n;r++)n=n[i[r]];return n}}function vi(e,t){if(!Re(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),Pe(e))vi(e.value,t);else if(Z(e))for(let i=0;i<e.length;i++)vi(e[i],t);else if(mc(e)||Bi(e))e.forEach(i=>{vi(i,t)});else if(wc(e))for(const i in e)vi(e[i],t);return e}function Bo(e,t){const i=Ne;if(i===null)return e;const n=Gs(i)||i.proxy,r=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[o,l,a,c=Te]=t[s];o&&(re(o)&&(o={mounted:o,updated:o}),o.deep&&vi(l),r.push({dir:o,instance:n,value:l,oldValue:void 0,arg:a,modifiers:c}))}return e}function ci(e,t,i,n){const r=e.dirs,s=t&&t.dirs;for(let o=0;o<r.length;o++){const l=r[o];s&&(l.oldValue=s[o].value);let a=l.dir[n];a&&(tn(),wt(a,i,8,[e.el,l,e,t]),nn())}}/*! #__NO_SIDE_EFFECTS__ */function Ae(e,t){return re(e)?(()=>Ue({name:e.name},t,{setup:e}))():e}const bn=e=>!!e.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function Wh(e){re(e)&&(e={loader:e});const{loader:t,loadingComponent:i,errorComponent:n,delay:r=200,timeout:s,suspensible:o=!0,onError:l}=e;let a=null,c,u=0;const d=()=>(u++,a=null,h()),h=()=>{let f;return a||(f=a=t().catch(p=>{if(p=p instanceof Error?p:new Error(String(p)),l)return new Promise((m,w)=>{l(p,()=>m(d()),()=>w(p),u+1)});throw p}).then(p=>f!==a&&a?a:(p&&(p.__esModule||p[Symbol.toStringTag]==="Module")&&(p=p.default),c=p,p)))};return Ae({name:"AsyncComponentWrapper",__asyncLoader:h,get __asyncResolved(){return c},setup(){const f=Le;if(c)return()=>ur(c,f);const p=_=>{a=null,Fn(_,f,13,!n)};if(o&&f.suspense||Gi)return h().then(_=>()=>ur(_,f)).catch(_=>(p(_),()=>n?k(n,{error:_}):null));const m=se(!1),w=se(),b=se(!!r);return r&&setTimeout(()=>{b.value=!1},r),s!=null&&setTimeout(()=>{if(!m.value&&!w.value){const _=new Error(`Async component timed out after ${s}ms.`);p(_),w.value=_}},s),h().then(()=>{m.value=!0,f.parent&&Fo(f.parent.vnode)&&Bs(f.parent.update)}).catch(_=>{p(_),w.value=_}),()=>{if(m.value&&c)return ur(c,f);if(w.value&&n)return k(n,{error:w.value});if(i&&!b.value)return k(i)}}})}function ur(e,t){const{ref:i,props:n,children:r,ce:s}=t.vnode,o=k(e,n,r);return o.ref=i,o.ce=s,delete t.vnode.ce,o}const Fo=e=>e.type.__isKeepAlive;function Vh(e,t){Yc(e,"a",t)}function qh(e,t){Yc(e,"da",t)}function Yc(e,t,i=Le){const n=e.__wdc||(e.__wdc=()=>{let r=i;for(;r;){if(r.isDeactivated)return;r=r.parent}return e()});if(Hs(t,n,i),i){let r=i.parent;for(;r&&r.parent;)Fo(r.parent.vnode)&&Gh(n,t,i,r),r=r.parent}}function Gh(e,t,i,n){const r=Hs(t,e,n,!0);Zc(()=>{Mo(n[t],r)},i)}function Hs(e,t,i=Le,n=!1){if(i){const r=i[e]||(i[e]=[]),s=t.__weh||(t.__weh=(...o)=>{if(i.isUnmounted)return;tn(),qi(i);const l=wt(t,i,e,o);return bi(),nn(),l});return n?r.unshift(s):r.push(s),s}}const Wt=e=>(t,i=Le)=>(!Gi||e==="sp")&&Hs(e,(...n)=>t(...n),i),Kh=Wt("bm"),li=Wt("m"),Xc=Wt("bu"),Uo=Wt("u"),Un=Wt("bum"),Zc=Wt("um"),Jh=Wt("sp"),Yh=Wt("rtg"),Xh=Wt("rtc");function Zh(e,t=Le){Hs("ec",e,t)}const Ho="components";function Ut(e,t){return eu(Ho,e,!0,t)||e}const Qc=Symbol.for("v-ndc");function xs(e){return Me(e)?eu(Ho,e,!1)||e:e||Qc}function eu(e,t,i=!0,n=!1){const r=Ne||Le;if(r){const s=r.type;if(e===Ho){const l=Mf(s,!1);if(l&&(l===t||l===Pt(t)||l===zs(Pt(t))))return s}const o=$a(r[e]||s[e],t)||$a(r.appContext[e],t);return!o&&n?s:o}}function $a(e,t){return e&&(e[t]||e[Pt(t)]||e[zs(Pt(t))])}function Ot(e,t,i,n){let r;const s=i&&i[n];if(Z(e)||Me(e)){r=new Array(e.length);for(let o=0,l=e.length;o<l;o++)r[o]=t(e[o],o,void 0,s&&s[o])}else if(typeof e=="number"){r=new Array(e);for(let o=0;o<e;o++)r[o]=t(o+1,o,void 0,s&&s[o])}else if(Re(e))if(e[Symbol.iterator])r=Array.from(e,(o,l)=>t(o,l,void 0,s&&s[l]));else{const o=Object.keys(e);r=new Array(o.length);for(let l=0,a=o.length;l<a;l++){const c=o[l];r[l]=t(e[c],c,l,s&&s[l])}}else r=[];return i&&(i[n]=r),r}function $t(e,t,i={},n,r){if(Ne.isCE||Ne.parent&&bn(Ne.parent)&&Ne.parent.isCE)return t!=="default"&&(i.name=t),k("slot",i,n&&n());let s=e[t];s&&s._c&&(s._d=!1),j();const o=s&&tu(s(i)),l=oe(Oe,{key:i.key||o&&o.key||`_${t}`},o||(n?n():[]),o&&e._===1?64:-2);return!r&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),s&&s._c&&(s._d=!0),l}function tu(e){return e.some(t=>Ts(t)?!(t.type===ai||t.type===Oe&&!tu(t.children)):!0)?e:null}const Yr=e=>e?pu(e)?Gs(e)||e.proxy:Yr(e.parent):null,yn=Ue(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Yr(e.parent),$root:e=>Yr(e.root),$emit:e=>e.emit,$options:e=>Wo(e),$forceUpdate:e=>e.f||(e.f=()=>Bs(e.update)),$nextTick:e=>e.n||(e.n=Ns.bind(e.proxy)),$watch:e=>Hh.bind(e)}),dr=(e,t)=>e!==Te&&!e.__isScriptSetup&&he(e,t),Qh={get({_:e},t){const{ctx:i,setupState:n,data:r,props:s,accessCache:o,type:l,appContext:a}=e;let c;if(t[0]!=="$"){const f=o[t];if(f!==void 0)switch(f){case 1:return n[t];case 2:return r[t];case 4:return i[t];case 3:return s[t]}else{if(dr(n,t))return o[t]=1,n[t];if(r!==Te&&he(r,t))return o[t]=2,r[t];if((c=e.propsOptions[0])&&he(c,t))return o[t]=3,s[t];if(i!==Te&&he(i,t))return o[t]=4,i[t];Xr&&(o[t]=0)}}const u=yn[t];let d,h;if(u)return t==="$attrs"&&Ze(e,"get",t),u(e);if((d=l.__cssModules)&&(d=d[t]))return d;if(i!==Te&&he(i,t))return o[t]=4,i[t];if(h=a.config.globalProperties,he(h,t))return h[t]},set({_:e},t,i){const{data:n,setupState:r,ctx:s}=e;return dr(r,t)?(r[t]=i,!0):n!==Te&&he(n,t)?(n[t]=i,!0):he(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(s[t]=i,!0)},has({_:{data:e,setupState:t,accessCache:i,ctx:n,appContext:r,propsOptions:s}},o){let l;return!!i[o]||e!==Te&&he(e,o)||dr(t,o)||(l=s[0])&&he(l,o)||he(n,o)||he(yn,o)||he(r.config.globalProperties,o)},defineProperty(e,t,i){return i.get!=null?e._.accessCache[t]=0:he(i,"value")&&this.set(e,t,i.value,null),Reflect.defineProperty(e,t,i)}};function Ia(e){return Z(e)?e.reduce((t,i)=>(t[i]=null,t),{}):e}let Xr=!0;function ef(e){const t=Wo(e),i=e.proxy,n=e.ctx;Xr=!1,t.beforeCreate&&ka(t.beforeCreate,e,"bc");const{data:r,computed:s,methods:o,watch:l,provide:a,inject:c,created:u,beforeMount:d,mounted:h,beforeUpdate:f,updated:p,activated:m,deactivated:w,beforeDestroy:b,beforeUnmount:_,destroyed:x,unmounted:S,render:P,renderTracked:V,renderTriggered:te,errorCaptured:z,serverPrefetch:R,expose:M,inheritAttrs:B,components:X,directives:W,filters:ue}=t;if(c&&tf(c,n,null),o)for(const Q in o){const ae=o[Q];re(ae)&&(n[Q]=ae.bind(i))}if(r){const Q=r.call(i,i);Re(Q)&&(e.data=Ei(Q))}if(Xr=!0,s)for(const Q in s){const ae=s[Q],st=re(ae)?ae.bind(i,i):re(ae.get)?ae.get.bind(i,i):vt,dt=!re(ae)&&re(ae.set)?ae.set.bind(i):vt,rt=Ce({get:st,set:dt});Object.defineProperty(n,Q,{enumerable:!0,configurable:!0,get:()=>rt.value,set:He=>rt.value=He})}if(l)for(const Q in l)iu(l[Q],n,i,Q);if(a){const Q=re(a)?a.call(i):a;Reflect.ownKeys(Q).forEach(ae=>{Ui(ae,Q[ae])})}u&&ka(u,e,"c");function ie(Q,ae){Z(ae)?ae.forEach(st=>Q(st.bind(i))):ae&&Q(ae.bind(i))}if(ie(Kh,d),ie(li,h),ie(Xc,f),ie(Uo,p),ie(Vh,m),ie(qh,w),ie(Zh,z),ie(Xh,V),ie(Yh,te),ie(Un,_),ie(Zc,S),ie(Jh,R),Z(M))if(M.length){const Q=e.exposed||(e.exposed={});M.forEach(ae=>{Object.defineProperty(Q,ae,{get:()=>i[ae],set:st=>i[ae]=st})})}else e.exposed||(e.exposed={});P&&e.render===vt&&(e.render=P),B!=null&&(e.inheritAttrs=B),X&&(e.components=X),W&&(e.directives=W)}function tf(e,t,i=vt){Z(e)&&(e=Zr(e));for(const n in e){const r=e[n];let s;Re(r)?"default"in r?s=lt(r.from||n,r.default,!0):s=lt(r.from||n):s=lt(r),Pe(s)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):t[n]=s}}function ka(e,t,i){wt(Z(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,i)}function iu(e,t,i,n){const r=n.includes(".")?Jc(i,n):()=>i[n];if(Me(e)){const s=t[e];re(s)&&bt(r,s)}else if(re(e))bt(r,e.bind(i));else if(Re(e))if(Z(e))e.forEach(s=>iu(s,t,i,n));else{const s=re(e.handler)?e.handler.bind(i):t[e.handler];re(s)&&bt(r,s,e)}}function Wo(e){const t=e.type,{mixins:i,extends:n}=t,{mixins:r,optionsCache:s,config:{optionMergeStrategies:o}}=e.appContext,l=s.get(t);let a;return l?a=l:!r.length&&!i&&!n?a=t:(a={},r.length&&r.forEach(c=>Es(a,c,o,!0)),Es(a,t,o)),Re(t)&&s.set(t,a),a}function Es(e,t,i,n=!1){const{mixins:r,extends:s}=t;s&&Es(e,s,i,!0),r&&r.forEach(o=>Es(e,o,i,!0));for(const o in t)if(!(n&&o==="expose")){const l=nf[o]||i&&i[o];e[o]=l?l(e[o],t[o]):t[o]}return e}const nf={data:za,props:La,emits:La,methods:gn,computed:gn,beforeCreate:Ge,created:Ge,beforeMount:Ge,mounted:Ge,beforeUpdate:Ge,updated:Ge,beforeDestroy:Ge,beforeUnmount:Ge,destroyed:Ge,unmounted:Ge,activated:Ge,deactivated:Ge,errorCaptured:Ge,serverPrefetch:Ge,components:gn,directives:gn,watch:rf,provide:za,inject:sf};function za(e,t){return t?e?function(){return Ue(re(e)?e.call(this,this):e,re(t)?t.call(this,this):t)}:t:e}function sf(e,t){return gn(Zr(e),Zr(t))}function Zr(e){if(Z(e)){const t={};for(let i=0;i<e.length;i++)t[e[i]]=e[i];return t}return e}function Ge(e,t){return e?[...new Set([].concat(e,t))]:t}function gn(e,t){return e?Ue(Object.create(null),e,t):t}function La(e,t){return e?Z(e)&&Z(t)?[...new Set([...e,...t])]:Ue(Object.create(null),Ia(e),Ia(t??{})):t}function rf(e,t){if(!e)return t;if(!t)return e;const i=Ue(Object.create(null),e);for(const n in t)i[n]=Ge(e[n],t[n]);return i}function nu(){return{app:null,config:{isNativeTag:Ud,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let of=0;function af(e,t){return function(n,r=null){re(n)||(n=Ue({},n)),r!=null&&!Re(r)&&(r=null);const s=nu(),o=new WeakSet;let l=!1;const a=s.app={_uid:of++,_component:n,_props:r,_container:null,_context:s,_instance:null,version:zf,get config(){return s.config},set config(c){},use(c,...u){return o.has(c)||(c&&re(c.install)?(o.add(c),c.install(a,...u)):re(c)&&(o.add(c),c(a,...u))),a},mixin(c){return s.mixins.includes(c)||s.mixins.push(c),a},component(c,u){return u?(s.components[c]=u,a):s.components[c]},directive(c,u){return u?(s.directives[c]=u,a):s.directives[c]},mount(c,u,d){if(!l){const h=k(n,r);return h.appContext=s,u&&t?t(h,c):e(h,c,d),l=!0,a._container=c,c.__vue_app__=a,Gs(h.component)||h.component.proxy}},unmount(){l&&(e(null,a._container),delete a._container.__vue_app__)},provide(c,u){return s.provides[c]=u,a},runWithContext(c){kn=a;try{return c()}finally{kn=null}}};return a}}let kn=null;function Ui(e,t){if(Le){let i=Le.provides;const n=Le.parent&&Le.parent.provides;n===i&&(i=Le.provides=Object.create(n)),i[e]=t}}function lt(e,t,i=!1){const n=Le||Ne;if(n||kn){const r=n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:kn._context.provides;if(r&&e in r)return r[e];if(arguments.length>1)return i&&re(t)?t.call(n&&n.proxy):t}}function lf(){return!!(Le||Ne||kn)}function cf(e,t,i,n=!1){const r={},s={};bs(s,Vs,1),e.propsDefaults=Object.create(null),su(e,t,r,s);for(const o in e.propsOptions[0])o in r||(r[o]=void 0);i?e.props=n?r:kc(r):e.type.props?e.props=r:e.props=s,e.attrs=s}function uf(e,t,i,n){const{props:r,attrs:s,vnode:{patchFlag:o}}=e,l=fe(r),[a]=e.propsOptions;let c=!1;if((n||o>0)&&!(o&16)){if(o&8){const u=e.vnode.dynamicProps;for(let d=0;d<u.length;d++){let h=u[d];if(Fs(e.emitsOptions,h))continue;const f=t[h];if(a)if(he(s,h))f!==s[h]&&(s[h]=f,c=!0);else{const p=Pt(h);r[p]=Qr(a,l,p,f,e,!1)}else f!==s[h]&&(s[h]=f,c=!0)}}}else{su(e,t,r,s)&&(c=!0);let u;for(const d in l)(!t||!he(t,d)&&((u=en(d))===d||!he(t,u)))&&(a?i&&(i[d]!==void 0||i[u]!==void 0)&&(r[d]=Qr(a,l,d,void 0,e,!0)):delete r[d]);if(s!==l)for(const d in s)(!t||!he(t,d))&&(delete s[d],c=!0)}c&&Ft(e,"set","$attrs")}function su(e,t,i,n){const[r,s]=e.propsOptions;let o=!1,l;if(t)for(let a in t){if(ds(a))continue;const c=t[a];let u;r&&he(r,u=Pt(a))?!s||!s.includes(u)?i[u]=c:(l||(l={}))[u]=c:Fs(e.emitsOptions,a)||(!(a in n)||c!==n[a])&&(n[a]=c,o=!0)}if(s){const a=fe(i),c=l||Te;for(let u=0;u<s.length;u++){const d=s[u];i[d]=Qr(r,a,d,c[d],e,!he(c,d))}}return o}function Qr(e,t,i,n,r,s){const o=e[i];if(o!=null){const l=he(o,"default");if(l&&n===void 0){const a=o.default;if(o.type!==Function&&!o.skipFactory&&re(a)){const{propsDefaults:c}=r;i in c?n=c[i]:(qi(r),n=c[i]=a.call(null,t),bi())}else n=a}o[0]&&(s&&!l?n=!1:o[1]&&(n===""||n===en(i))&&(n=!0))}return n}function ru(e,t,i=!1){const n=t.propsCache,r=n.get(e);if(r)return r;const s=e.props,o={},l=[];let a=!1;if(!re(e)){const u=d=>{a=!0;const[h,f]=ru(d,t,!0);Ue(o,h),f&&l.push(...f)};!i&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!s&&!a)return Re(e)&&n.set(e,Ni),Ni;if(Z(s))for(let u=0;u<s.length;u++){const d=Pt(s[u]);ja(d)&&(o[d]=Te)}else if(s)for(const u in s){const d=Pt(u);if(ja(d)){const h=s[u],f=o[d]=Z(h)||re(h)?{type:h}:Ue({},h);if(f){const p=Ba(Boolean,f.type),m=Ba(String,f.type);f[0]=p>-1,f[1]=m<0||p<m,(p>-1||he(f,"default"))&&l.push(d)}}}const c=[o,l];return Re(e)&&n.set(e,c),c}function ja(e){return e[0]!=="$"}function Da(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function Na(e,t){return Da(e)===Da(t)}function Ba(e,t){return Z(t)?t.findIndex(i=>Na(i,e)):re(t)&&Na(t,e)?0:-1}const ou=e=>e[0]==="_"||e==="$stable",Vo=e=>Z(e)?e.map(Et):[Et(e)],df=(e,t,i)=>{if(t._n)return t;const n=ge((...r)=>Vo(t(...r)),i);return n._c=!1,n},au=(e,t,i)=>{const n=e._ctx;for(const r in e){if(ou(r))continue;const s=e[r];if(re(s))t[r]=df(r,s,n);else if(s!=null){const o=Vo(s);t[r]=()=>o}}},lu=(e,t)=>{const i=Vo(t);e.slots.default=()=>i},hf=(e,t)=>{if(e.vnode.shapeFlag&32){const i=t._;i?(e.slots=fe(t),bs(t,"_",i)):au(t,e.slots={})}else e.slots={},t&&lu(e,t);bs(e.slots,Vs,1)},ff=(e,t,i)=>{const{vnode:n,slots:r}=e;let s=!0,o=Te;if(n.shapeFlag&32){const l=t._;l?i&&l===1?s=!1:(Ue(r,t),!i&&l===1&&delete r._):(s=!t.$stable,au(t,r)),o=t}else t&&(lu(e,t),o={default:1});if(s)for(const l in r)!ou(l)&&o[l]==null&&delete r[l]};function eo(e,t,i,n,r=!1){if(Z(e)){e.forEach((h,f)=>eo(h,t&&(Z(t)?t[f]:t),i,n,r));return}if(bn(n)&&!r)return;const s=n.shapeFlag&4?Gs(n.component)||n.component.proxy:n.el,o=r?null:s,{i:l,r:a}=e,c=t&&t.r,u=l.refs===Te?l.refs={}:l.refs,d=l.setupState;if(c!=null&&c!==a&&(Me(c)?(u[c]=null,he(d,c)&&(d[c]=null)):Pe(c)&&(c.value=null)),re(a))si(a,l,12,[o,u]);else{const h=Me(a),f=Pe(a);if(h||f){const p=()=>{if(e.f){const m=h?he(d,a)?d[a]:u[a]:a.value;r?Z(m)&&Mo(m,s):Z(m)?m.includes(s)||m.push(s):h?(u[a]=[s],he(d,a)&&(d[a]=u[a])):(a.value=[s],e.k&&(u[e.k]=a.value))}else h?(u[a]=o,he(d,a)&&(d[a]=o)):f&&(a.value=o,e.k&&(u[e.k]=o))};o?(p.id=-1,Je(p,i)):p()}}}const Je=Uh;function pf(e){return mf(e)}function mf(e,t){const i=Vr();i.__VUE__=!0;const{insert:n,remove:r,patchProp:s,createElement:o,createText:l,createComment:a,setText:c,setElementText:u,parentNode:d,nextSibling:h,setScopeId:f=vt,insertStaticContent:p}=e,m=(g,v,y,E=null,O=null,$=null,F=!1,L=null,D=!!v.dynamicChildren)=>{if(g===v)return;g&&!un(g,v)&&(E=A(g),He(g,O,$,!0),g=null),v.patchFlag===-2&&(D=!1,v.dynamicChildren=null);const{type:I,ref:J,shapeFlag:H}=v;switch(I){case Ws:w(g,v,y,E);break;case ai:b(g,v,y,E);break;case hr:g==null&&_(v,y,E,F);break;case Oe:X(g,v,y,E,O,$,F,L,D);break;default:H&1?P(g,v,y,E,O,$,F,L,D):H&6?W(g,v,y,E,O,$,F,L,D):(H&64||H&128)&&I.process(g,v,y,E,O,$,F,L,D,N)}J!=null&&O&&eo(J,g&&g.ref,$,v||g,!v)},w=(g,v,y,E)=>{if(g==null)n(v.el=l(v.children),y,E);else{const O=v.el=g.el;v.children!==g.children&&c(O,v.children)}},b=(g,v,y,E)=>{g==null?n(v.el=a(v.children||""),y,E):v.el=g.el},_=(g,v,y,E)=>{[g.el,g.anchor]=p(g.children,v,y,E,g.el,g.anchor)},x=({el:g,anchor:v},y,E)=>{let O;for(;g&&g!==v;)O=h(g),n(g,y,E),g=O;n(v,y,E)},S=({el:g,anchor:v})=>{let y;for(;g&&g!==v;)y=h(g),r(g),g=y;r(v)},P=(g,v,y,E,O,$,F,L,D)=>{F=F||v.type==="svg",g==null?V(v,y,E,O,$,F,L,D):R(g,v,O,$,F,L,D)},V=(g,v,y,E,O,$,F,L)=>{let D,I;const{type:J,props:H,shapeFlag:Y,transition:ne,dirs:le}=g;if(D=g.el=o(g.type,$,H&&H.is,H),Y&8?u(D,g.children):Y&16&&z(g.children,D,null,E,O,$&&J!=="foreignObject",F,L),le&&ci(g,null,E,"created"),te(D,g,g.scopeId,F,E),H){for(const _e in H)_e!=="value"&&!ds(_e)&&s(D,_e,null,H[_e],$,g.children,E,O,We);"value"in H&&s(D,"value",null,H.value),(I=H.onVnodeBeforeMount)&&xt(I,E,g)}le&&ci(g,null,E,"beforeMount");const xe=gf(O,ne);xe&&ne.beforeEnter(D),n(D,v,y),((I=H&&H.onVnodeMounted)||xe||le)&&Je(()=>{I&&xt(I,E,g),xe&&ne.enter(D),le&&ci(g,null,E,"mounted")},O)},te=(g,v,y,E,O)=>{if(y&&f(g,y),E)for(let $=0;$<E.length;$++)f(g,E[$]);if(O){let $=O.subTree;if(v===$){const F=O.vnode;te(g,F,F.scopeId,F.slotScopeIds,O.parent)}}},z=(g,v,y,E,O,$,F,L,D=0)=>{for(let I=D;I<g.length;I++){const J=g[I]=L?Yt(g[I]):Et(g[I]);m(null,J,v,y,E,O,$,F,L)}},R=(g,v,y,E,O,$,F)=>{const L=v.el=g.el;let{patchFlag:D,dynamicChildren:I,dirs:J}=v;D|=g.patchFlag&16;const H=g.props||Te,Y=v.props||Te;let ne;y&&ui(y,!1),(ne=Y.onVnodeBeforeUpdate)&&xt(ne,y,v,g),J&&ci(v,g,y,"beforeUpdate"),y&&ui(y,!0);const le=O&&v.type!=="foreignObject";if(I?M(g.dynamicChildren,I,L,y,E,le,$):F||ae(g,v,L,null,y,E,le,$,!1),D>0){if(D&16)B(L,v,H,Y,y,E,O);else if(D&2&&H.class!==Y.class&&s(L,"class",null,Y.class,O),D&4&&s(L,"style",H.style,Y.style,O),D&8){const xe=v.dynamicProps;for(let _e=0;_e<xe.length;_e++){const $e=xe[_e],ht=H[$e],Ri=Y[$e];(Ri!==ht||$e==="value")&&s(L,$e,ht,Ri,O,g.children,y,E,We)}}D&1&&g.children!==v.children&&u(L,v.children)}else!F&&I==null&&B(L,v,H,Y,y,E,O);((ne=Y.onVnodeUpdated)||J)&&Je(()=>{ne&&xt(ne,y,v,g),J&&ci(v,g,y,"updated")},E)},M=(g,v,y,E,O,$,F)=>{for(let L=0;L<v.length;L++){const D=g[L],I=v[L],J=D.el&&(D.type===Oe||!un(D,I)||D.shapeFlag&70)?d(D.el):y;m(D,I,J,null,E,O,$,F,!0)}},B=(g,v,y,E,O,$,F)=>{if(y!==E){if(y!==Te)for(const L in y)!ds(L)&&!(L in E)&&s(g,L,y[L],null,F,v.children,O,$,We);for(const L in E){if(ds(L))continue;const D=E[L],I=y[L];D!==I&&L!=="value"&&s(g,L,I,D,F,v.children,O,$,We)}"value"in E&&s(g,"value",y.value,E.value)}},X=(g,v,y,E,O,$,F,L,D)=>{const I=v.el=g?g.el:l(""),J=v.anchor=g?g.anchor:l("");let{patchFlag:H,dynamicChildren:Y,slotScopeIds:ne}=v;ne&&(L=L?L.concat(ne):ne),g==null?(n(I,y,E),n(J,y,E),z(v.children,y,J,O,$,F,L,D)):H>0&&H&64&&Y&&g.dynamicChildren?(M(g.dynamicChildren,Y,y,O,$,F,L),(v.key!=null||O&&v===O.subTree)&&qo(g,v,!0)):ae(g,v,y,J,O,$,F,L,D)},W=(g,v,y,E,O,$,F,L,D)=>{v.slotScopeIds=L,g==null?v.shapeFlag&512?O.ctx.activate(v,y,E,F,D):ue(v,y,E,O,$,F,D):we(g,v,D)},ue=(g,v,y,E,O,$,F)=>{const L=g.component=Af(g,E,O);if(Fo(g)&&(L.ctx.renderer=N),Cf(L),L.asyncDep){if(O&&O.registerDep(L,ie),!g.el){const D=L.subTree=k(ai);b(null,D,v,y)}return}ie(L,g,v,y,O,$,F)},we=(g,v,y)=>{const E=v.component=g.component;if(Nh(g,v,y))if(E.asyncDep&&!E.asyncResolved){Q(E,v,y);return}else E.next=v,Ih(E.update),E.update();else v.el=g.el,E.vnode=v},ie=(g,v,y,E,O,$,F)=>{const L=()=>{if(g.isMounted){let{next:J,bu:H,u:Y,parent:ne,vnode:le}=g,xe=J,_e;ui(g,!1),J?(J.el=le.el,Q(g,J,F)):J=le,H&&hs(H),(_e=J.props&&J.props.onVnodeBeforeUpdate)&&xt(_e,ne,J,le),ui(g,!0);const $e=cr(g),ht=g.subTree;g.subTree=$e,m(ht,$e,d(ht.el),A(ht),g,O,$),J.el=$e.el,xe===null&&Bh(g,$e.el),Y&&Je(Y,O),(_e=J.props&&J.props.onVnodeUpdated)&&Je(()=>xt(_e,ne,J,le),O)}else{let J;const{el:H,props:Y}=v,{bm:ne,m:le,parent:xe}=g,_e=bn(v);if(ui(g,!1),ne&&hs(ne),!_e&&(J=Y&&Y.onVnodeBeforeMount)&&xt(J,xe,v),ui(g,!0),H&&be){const $e=()=>{g.subTree=cr(g),be(H,g.subTree,g,O,null)};_e?v.type.__asyncLoader().then(()=>!g.isUnmounted&&$e()):$e()}else{const $e=g.subTree=cr(g);m(null,$e,y,E,g,O,$),v.el=$e.el}if(le&&Je(le,O),!_e&&(J=Y&&Y.onVnodeMounted)){const $e=v;Je(()=>xt(J,xe,$e),O)}(v.shapeFlag&256||xe&&bn(xe.vnode)&&xe.vnode.shapeFlag&256)&&g.a&&Je(g.a,O),g.isMounted=!0,v=y=E=null}},D=g.effect=new ko(L,()=>Bs(I),g.scope),I=g.update=()=>D.run();I.id=g.uid,ui(g,!0),I()},Q=(g,v,y)=>{v.component=g;const E=g.vnode.props;g.vnode=v,g.next=null,uf(g,v.props,E,y),ff(g,v.children,y),tn(),Pa(),nn()},ae=(g,v,y,E,O,$,F,L,D=!1)=>{const I=g&&g.children,J=g?g.shapeFlag:0,H=v.children,{patchFlag:Y,shapeFlag:ne}=v;if(Y>0){if(Y&128){dt(I,H,y,E,O,$,F,L,D);return}else if(Y&256){st(I,H,y,E,O,$,F,L,D);return}}ne&8?(J&16&&We(I,O,$),H!==I&&u(y,H)):J&16?ne&16?dt(I,H,y,E,O,$,F,L,D):We(I,O,$,!0):(J&8&&u(y,""),ne&16&&z(H,y,E,O,$,F,L,D))},st=(g,v,y,E,O,$,F,L,D)=>{g=g||Ni,v=v||Ni;const I=g.length,J=v.length,H=Math.min(I,J);let Y;for(Y=0;Y<H;Y++){const ne=v[Y]=D?Yt(v[Y]):Et(v[Y]);m(g[Y],ne,y,null,O,$,F,L,D)}I>J?We(g,O,$,!0,!1,H):z(v,y,E,O,$,F,L,D,H)},dt=(g,v,y,E,O,$,F,L,D)=>{let I=0;const J=v.length;let H=g.length-1,Y=J-1;for(;I<=H&&I<=Y;){const ne=g[I],le=v[I]=D?Yt(v[I]):Et(v[I]);if(un(ne,le))m(ne,le,y,null,O,$,F,L,D);else break;I++}for(;I<=H&&I<=Y;){const ne=g[H],le=v[Y]=D?Yt(v[Y]):Et(v[Y]);if(un(ne,le))m(ne,le,y,null,O,$,F,L,D);else break;H--,Y--}if(I>H){if(I<=Y){const ne=Y+1,le=ne<J?v[ne].el:E;for(;I<=Y;)m(null,v[I]=D?Yt(v[I]):Et(v[I]),y,le,O,$,F,L,D),I++}}else if(I>Y)for(;I<=H;)He(g[I],O,$,!0),I++;else{const ne=I,le=I,xe=new Map;for(I=le;I<=Y;I++){const Qe=v[I]=D?Yt(v[I]):Et(v[I]);Qe.key!=null&&xe.set(Qe.key,I)}let _e,$e=0;const ht=Y-le+1;let Ri=!1,ba=0;const cn=new Array(ht);for(I=0;I<ht;I++)cn[I]=0;for(I=ne;I<=H;I++){const Qe=g[I];if($e>=ht){He(Qe,O,$,!0);continue}let St;if(Qe.key!=null)St=xe.get(Qe.key);else for(_e=le;_e<=Y;_e++)if(cn[_e-le]===0&&un(Qe,v[_e])){St=_e;break}St===void 0?He(Qe,O,$,!0):(cn[St-le]=I+1,St>=ba?ba=St:Ri=!0,m(Qe,v[St],y,null,O,$,F,L,D),$e++)}const ya=Ri?vf(cn):Ni;for(_e=ya.length-1,I=ht-1;I>=0;I--){const Qe=le+I,St=v[Qe],_a=Qe+1<J?v[Qe+1].el:E;cn[I]===0?m(null,St,y,_a,O,$,F,L,D):Ri&&(_e<0||I!==ya[_e]?rt(St,y,_a,2):_e--)}}},rt=(g,v,y,E,O=null)=>{const{el:$,type:F,transition:L,children:D,shapeFlag:I}=g;if(I&6){rt(g.component.subTree,v,y,E);return}if(I&128){g.suspense.move(v,y,E);return}if(I&64){F.move(g,v,y,N);return}if(F===Oe){n($,v,y);for(let H=0;H<D.length;H++)rt(D[H],v,y,E);n(g.anchor,v,y);return}if(F===hr){x(g,v,y);return}if(E!==2&&I&1&&L)if(E===0)L.beforeEnter($),n($,v,y),Je(()=>L.enter($),O);else{const{leave:H,delayLeave:Y,afterLeave:ne}=L,le=()=>n($,v,y),xe=()=>{H($,()=>{le(),ne&&ne()})};Y?Y($,le,xe):xe()}else n($,v,y)},He=(g,v,y,E=!1,O=!1)=>{const{type:$,props:F,ref:L,children:D,dynamicChildren:I,shapeFlag:J,patchFlag:H,dirs:Y}=g;if(L!=null&&eo(L,null,y,g,!0),J&256){v.ctx.deactivate(g);return}const ne=J&1&&Y,le=!bn(g);let xe;if(le&&(xe=F&&F.onVnodeBeforeUnmount)&&xt(xe,v,g),J&6)Gn(g.component,y,E);else{if(J&128){g.suspense.unmount(y,E);return}ne&&ci(g,null,v,"beforeUnmount"),J&64?g.type.remove(g,v,y,O,N,E):I&&($!==Oe||H>0&&H&64)?We(I,v,y,!1,!0):($===Oe&&H&384||!O&&J&16)&&We(D,v,y),E&&Ai(g)}(le&&(xe=F&&F.onVnodeUnmounted)||ne)&&Je(()=>{xe&&xt(xe,v,g),ne&&ci(g,null,v,"unmounted")},y)},Ai=g=>{const{type:v,el:y,anchor:E,transition:O}=g;if(v===Oe){Ci(y,E);return}if(v===hr){S(g);return}const $=()=>{r(y),O&&!O.persisted&&O.afterLeave&&O.afterLeave()};if(g.shapeFlag&1&&O&&!O.persisted){const{leave:F,delayLeave:L}=O,D=()=>F(y,$);L?L(g.el,$,D):D()}else $()},Ci=(g,v)=>{let y;for(;g!==v;)y=h(g),r(g),g=y;r(v)},Gn=(g,v,y)=>{const{bum:E,scope:O,update:$,subTree:F,um:L}=g;E&&hs(E),O.stop(),$&&($.active=!1,He(F,g,v,y)),L&&Je(L,v),Je(()=>{g.isUnmounted=!0},v),v&&v.pendingBranch&&!v.isUnmounted&&g.asyncDep&&!g.asyncResolved&&g.suspenseId===v.pendingId&&(v.deps--,v.deps===0&&v.resolve())},We=(g,v,y,E=!1,O=!1,$=0)=>{for(let F=$;F<g.length;F++)He(g[F],v,y,E,O)},A=g=>g.shapeFlag&6?A(g.component.subTree):g.shapeFlag&128?g.suspense.next():h(g.anchor||g.el),U=(g,v,y)=>{g==null?v._vnode&&He(v._vnode,null,null,!0):m(v._vnode||null,g,v,null,null,null,y),Pa(),Hc(),v._vnode=g},N={p:m,um:He,m:rt,r:Ai,mt:ue,mc:z,pc:ae,pbc:M,n:A,o:e};let G,be;return t&&([G,be]=t(N)),{render:U,hydrate:G,createApp:af(U,G)}}function ui({effect:e,update:t},i){e.allowRecurse=t.allowRecurse=i}function gf(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function qo(e,t,i=!1){const n=e.children,r=t.children;if(Z(n)&&Z(r))for(let s=0;s<n.length;s++){const o=n[s];let l=r[s];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=r[s]=Yt(r[s]),l.el=o.el),i||qo(o,l)),l.type===Ws&&(l.el=o.el)}}function vf(e){const t=e.slice(),i=[0];let n,r,s,o,l;const a=e.length;for(n=0;n<a;n++){const c=e[n];if(c!==0){if(r=i[i.length-1],e[r]<c){t[n]=r,i.push(n);continue}for(s=0,o=i.length-1;s<o;)l=s+o>>1,e[i[l]]<c?s=l+1:o=l;c<e[i[s]]&&(s>0&&(t[n]=i[s-1]),i[s]=n)}}for(s=i.length,o=i[s-1];s-- >0;)i[s]=o,o=t[o];return i}const wf=e=>e.__isTeleport,_n=e=>e&&(e.disabled||e.disabled===""),Fa=e=>typeof SVGElement<"u"&&e instanceof SVGElement,to=(e,t)=>{const i=e&&e.to;return Me(i)?t?t(i):null:i},bf={__isTeleport:!0,process(e,t,i,n,r,s,o,l,a,c){const{mc:u,pc:d,pbc:h,o:{insert:f,querySelector:p,createText:m,createComment:w}}=c,b=_n(t.props);let{shapeFlag:_,children:x,dynamicChildren:S}=t;if(e==null){const P=t.el=m(""),V=t.anchor=m("");f(P,i,n),f(V,i,n);const te=t.target=to(t.props,p),z=t.targetAnchor=m("");te&&(f(z,te),o=o||Fa(te));const R=(M,B)=>{_&16&&u(x,M,B,r,s,o,l,a)};b?R(i,V):te&&R(te,z)}else{t.el=e.el;const P=t.anchor=e.anchor,V=t.target=e.target,te=t.targetAnchor=e.targetAnchor,z=_n(e.props),R=z?i:V,M=z?P:te;if(o=o||Fa(V),S?(h(e.dynamicChildren,S,R,r,s,o,l),qo(e,t,!0)):a||d(e,t,R,M,r,s,o,l,!1),b)z?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):es(t,i,P,c,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const B=t.target=to(t.props,p);B&&es(t,B,null,c,0)}else z&&es(t,V,te,c,1)}uu(t)},remove(e,t,i,n,{um:r,o:{remove:s}},o){const{shapeFlag:l,children:a,anchor:c,targetAnchor:u,target:d,props:h}=e;if(d&&s(u),o&&s(c),l&16){const f=o||!_n(h);for(let p=0;p<a.length;p++){const m=a[p];r(m,t,i,f,!!m.dynamicChildren)}}},move:es,hydrate:yf};function es(e,t,i,{o:{insert:n},m:r},s=2){s===0&&n(e.targetAnchor,t,i);const{el:o,anchor:l,shapeFlag:a,children:c,props:u}=e,d=s===2;if(d&&n(o,t,i),(!d||_n(u))&&a&16)for(let h=0;h<c.length;h++)r(c[h],t,i,2);d&&n(l,t,i)}function yf(e,t,i,n,r,s,{o:{nextSibling:o,parentNode:l,querySelector:a}},c){const u=t.target=to(t.props,a);if(u){const d=u._lpa||u.firstChild;if(t.shapeFlag&16)if(_n(t.props))t.anchor=c(o(e),t,l(e),i,n,r,s),t.targetAnchor=d;else{t.anchor=o(e);let h=d;for(;h;)if(h=o(h),h&&h.nodeType===8&&h.data==="teleport anchor"){t.targetAnchor=h,u._lpa=t.targetAnchor&&o(t.targetAnchor);break}c(d,t,u,i,n,r,s)}uu(t)}return t.anchor&&o(t.anchor)}const cu=bf;function uu(e){const t=e.ctx;if(t&&t.ut){let i=e.children[0].el;for(;i&&i!==e.targetAnchor;)i.nodeType===1&&i.setAttribute("data-v-owner",t.uid),i=i.nextSibling;t.ut()}}const Oe=Symbol.for("v-fgt"),Ws=Symbol.for("v-txt"),ai=Symbol.for("v-cmt"),hr=Symbol.for("v-stc"),Sn=[];let gt=null;function j(e=!1){Sn.push(gt=e?null:[])}function _f(){Sn.pop(),gt=Sn[Sn.length-1]||null}let zn=1;function Ua(e){zn+=e}function du(e){return e.dynamicChildren=zn>0?gt||Ni:null,_f(),zn>0&&gt&&gt.push(e),e}function ee(e,t,i,n,r,s){return du(C(e,t,i,n,r,s,!0))}function oe(e,t,i,n,r){return du(k(e,t,i,n,r,!0))}function Ts(e){return e?e.__v_isVNode===!0:!1}function un(e,t){return e.type===t.type&&e.key===t.key}const Vs="__vInternal",hu=({key:e})=>e??null,fs=({ref:e,ref_key:t,ref_for:i})=>(typeof e=="number"&&(e=""+e),e!=null?Me(e)||Pe(e)||re(e)?{i:Ne,r:e,k:t,f:!!i}:e:null);function C(e,t=null,i=null,n=0,r=null,s=e===Oe?0:1,o=!1,l=!1){const a={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&hu(t),ref:t&&fs(t),scopeId:Us,slotScopeIds:null,children:i,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:n,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:Ne};return l?(Go(a,i),s&128&&e.normalize(a)):i&&(a.shapeFlag|=Me(i)?8:16),zn>0&&!o&&gt&&(a.patchFlag>0||s&6)&&a.patchFlag!==32&&gt.push(a),a}const k=Sf;function Sf(e,t=null,i=null,n=0,r=null,s=!1){if((!e||e===Qc)&&(e=ai),Ts(e)){const l=Vi(e,t,!0);return i&&Go(l,i),zn>0&&!s&&gt&&(l.shapeFlag&6?gt[gt.indexOf(e)]=l:gt.push(l)),l.patchFlag|=-2,l}if($f(e)&&(e=e.__vccOpts),t){t=xf(t);let{class:l,style:a}=t;l&&!Me(l)&&(t.class=Ke(l)),Re(a)&&(Lc(a)&&!Z(a)&&(a=Ue({},a)),t.style=Ls(a))}const o=Me(e)?1:Fh(e)?128:wf(e)?64:Re(e)?4:re(e)?2:0;return C(e,t,i,n,r,o,s,!0)}function xf(e){return e?Lc(e)||Vs in e?Ue({},e):e:null}function Vi(e,t,i=!1){const{props:n,ref:r,patchFlag:s,children:o}=e,l=t?qs(n||{},t):n;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&hu(l),ref:t&&t.ref?i&&r?Z(r)?r.concat(fs(t)):[r,fs(t)]:fs(t):r,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:o,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Oe?s===-1?16:s|16:s,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Vi(e.ssContent),ssFallback:e.ssFallback&&Vi(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function fu(e=" ",t=0){return k(Ws,null,e,t)}function De(e="",t=!1){return t?(j(),oe(ai,null,e)):k(ai,null,e)}function Et(e){return e==null||typeof e=="boolean"?k(ai):Z(e)?k(Oe,null,e.slice()):typeof e=="object"?Yt(e):k(Ws,null,String(e))}function Yt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Vi(e)}function Go(e,t){let i=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(Z(t))i=16;else if(typeof t=="object")if(n&65){const r=t.default;r&&(r._c&&(r._d=!1),Go(e,r()),r._c&&(r._d=!0));return}else{i=32;const r=t._;!r&&!(Vs in t)?t._ctx=Ne:r===3&&Ne&&(Ne.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else re(t)?(t={default:t,_ctx:Ne},i=32):(t=String(t),n&64?(i=16,t=[fu(t)]):i=8);e.children=t,e.shapeFlag|=i}function qs(...e){const t={};for(let i=0;i<e.length;i++){const n=e[i];for(const r in n)if(r==="class")t.class!==n.class&&(t.class=Ke([t.class,n.class]));else if(r==="style")t.style=Ls([t.style,n.style]);else if(Ms(r)){const s=t[r],o=n[r];o&&s!==o&&!(Z(s)&&s.includes(o))&&(t[r]=s?[].concat(s,o):o)}else r!==""&&(t[r]=n[r])}return t}function xt(e,t,i,n=null){wt(e,t,7,[i,n])}const Ef=nu();let Tf=0;function Af(e,t,i){const n=e.type,r=(t?t.appContext:e.appContext)||Ef,s={uid:Tf++,vnode:e,type:n,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,scope:new _c(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ru(n,r),emitsOptions:Vc(n,r),emit:null,emitted:null,propsDefaults:Te,inheritAttrs:n.inheritAttrs,ctx:Te,data:Te,props:Te,attrs:Te,slots:Te,refs:Te,setupState:Te,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:i,suspenseId:i?i.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=Lh.bind(null,s),e.ce&&e.ce(s),s}let Le=null,Ko,Oi,Ha="__VUE_INSTANCE_SETTERS__";(Oi=Vr()[Ha])||(Oi=Vr()[Ha]=[]),Oi.push(e=>Le=e),Ko=e=>{Oi.length>1?Oi.forEach(t=>t(e)):Oi[0](e)};const qi=e=>{Ko(e),e.scope.on()},bi=()=>{Le&&Le.scope.off(),Ko(null)};function pu(e){return e.vnode.shapeFlag&4}let Gi=!1;function Cf(e,t=!1){Gi=t;const{props:i,children:n}=e.vnode,r=pu(e);cf(e,i,r,t),hf(e,n);const s=r?Rf(e,t):void 0;return Gi=!1,s}function Rf(e,t){const i=e.type;e.accessCache=Object.create(null),e.proxy=Ds(new Proxy(e.ctx,Qh));const{setup:n}=i;if(n){const r=e.setupContext=n.length>1?Pf(e):null;qi(e),tn();const s=si(n,e,0,[e.props,r]);if(nn(),bi(),gc(s)){if(s.then(bi,bi),t)return s.then(o=>{Wa(e,o,t)}).catch(o=>{Fn(o,e,0)});e.asyncDep=s}else Wa(e,s,t)}else mu(e,t)}function Wa(e,t,i){re(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Re(t)&&(e.setupState=Bc(t)),mu(e,i)}let Va;function mu(e,t,i){const n=e.type;if(!e.render){if(!t&&Va&&!n.render){const r=n.template||Wo(e).template;if(r){const{isCustomElement:s,compilerOptions:o}=e.appContext.config,{delimiters:l,compilerOptions:a}=n,c=Ue(Ue({isCustomElement:s,delimiters:l},o),a);n.render=Va(r,c)}}e.render=n.render||vt}{qi(e),tn();try{ef(e)}finally{nn(),bi()}}}function Of(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,i){return Ze(e,"get","$attrs"),t[i]}}))}function Pf(e){const t=i=>{e.exposed=i||{}};return{get attrs(){return Of(e)},slots:e.slots,emit:e.emit,expose:t}}function Gs(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Bc(Ds(e.exposed)),{get(t,i){if(i in t)return t[i];if(i in yn)return yn[i](e)},has(t,i){return i in t||i in yn}}))}function Mf(e,t=!0){return re(e)?e.displayName||e.name:e.name||t&&e.__name}function $f(e){return re(e)&&"__vccOpts"in e}const Ce=(e,t)=>Ph(e,t,Gi);function Ye(e,t,i){const n=arguments.length;return n===2?Re(t)&&!Z(t)?Ts(t)?k(e,null,[t]):k(e,t):k(e,null,t):(n>3?i=Array.prototype.slice.call(arguments,2):n===3&&Ts(i)&&(i=[i]),k(e,t,i))}const If=Symbol.for("v-scx"),kf=()=>lt(If),zf="3.3.7",Lf="http://www.w3.org/2000/svg",pi=typeof document<"u"?document:null,qa=pi&&pi.createElement("template"),jf={insert:(e,t,i)=>{t.insertBefore(e,i||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,i,n)=>{const r=t?pi.createElementNS(Lf,e):pi.createElement(e,i?{is:i}:void 0);return e==="select"&&n&&n.multiple!=null&&r.setAttribute("multiple",n.multiple),r},createText:e=>pi.createTextNode(e),createComment:e=>pi.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>pi.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,i,n,r,s){const o=i?i.previousSibling:t.lastChild;if(r&&(r===s||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),i),!(r===s||!(r=r.nextSibling)););else{qa.innerHTML=n?`<svg>${e}</svg>`:e;const l=qa.content;if(n){const a=l.firstChild;for(;a.firstChild;)l.appendChild(a.firstChild);l.removeChild(a)}t.insertBefore(l,i)}return[o?o.nextSibling:t.firstChild,i?i.previousSibling:t.lastChild]}},Df=Symbol("_vtc");function Nf(e,t,i){const n=e[Df];n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):i?e.setAttribute("class",t):e.className=t}const Jo=Symbol("_vod"),Yo={beforeMount(e,{value:t},{transition:i}){e[Jo]=e.style.display==="none"?"":e.style.display,i&&t?i.beforeEnter(e):dn(e,t)},mounted(e,{value:t},{transition:i}){i&&t&&i.enter(e)},updated(e,{value:t,oldValue:i},{transition:n}){!t!=!i&&(n?t?(n.beforeEnter(e),dn(e,!0),n.enter(e)):n.leave(e,()=>{dn(e,!1)}):dn(e,t))},beforeUnmount(e,{value:t}){dn(e,t)}};function dn(e,t){e.style.display=t?e[Jo]:"none"}function Bf(e,t,i){const n=e.style,r=Me(i);if(i&&!r){if(t&&!Me(t))for(const s in t)i[s]==null&&io(n,s,"");for(const s in i)io(n,s,i[s])}else{const s=n.display;r?t!==i&&(n.cssText=i):t&&e.removeAttribute("style"),Jo in e&&(n.display=s)}}const Ga=/\s*!important$/;function io(e,t,i){if(Z(i))i.forEach(n=>io(e,t,n));else if(i==null&&(i=""),t.startsWith("--"))e.setProperty(t,i);else{const n=Ff(e,t);Ga.test(i)?e.setProperty(en(n),i.replace(Ga,""),"important"):e[n]=i}}const Ka=["Webkit","Moz","ms"],fr={};function Ff(e,t){const i=fr[t];if(i)return i;let n=Pt(t);if(n!=="filter"&&n in e)return fr[t]=n;n=zs(n);for(let r=0;r<Ka.length;r++){const s=Ka[r]+n;if(s in e)return fr[t]=s}return t}const Ja="http://www.w3.org/1999/xlink";function Uf(e,t,i,n,r){if(n&&t.startsWith("xlink:"))i==null?e.removeAttributeNS(Ja,t.slice(6,t.length)):e.setAttributeNS(Ja,t,i);else{const s=Qd(t);i==null||s&&!bc(i)?e.removeAttribute(t):e.setAttribute(t,s?"":i)}}function Hf(e,t,i,n,r,s,o){if(t==="innerHTML"||t==="textContent"){n&&o(n,r,s),e[t]=i??"";return}const l=e.tagName;if(t==="value"&&l!=="PROGRESS"&&!l.includes("-")){e._value=i;const c=l==="OPTION"?e.getAttribute("value"):e.value,u=i??"";c!==u&&(e.value=u),i==null&&e.removeAttribute(t);return}let a=!1;if(i===""||i==null){const c=typeof e[t];c==="boolean"?i=bc(i):i==null&&c==="string"?(i="",a=!0):c==="number"&&(i=0,a=!0)}try{e[t]=i}catch{}a&&e.removeAttribute(t)}function Li(e,t,i,n){e.addEventListener(t,i,n)}function Wf(e,t,i,n){e.removeEventListener(t,i,n)}const Ya=Symbol("_vei");function Vf(e,t,i,n,r=null){const s=e[Ya]||(e[Ya]={}),o=s[t];if(n&&o)o.value=n;else{const[l,a]=qf(t);if(n){const c=s[t]=Jf(n,r);Li(e,l,c,a)}else o&&(Wf(e,l,o,a),s[t]=void 0)}}const Xa=/(?:Once|Passive|Capture)$/;function qf(e){let t;if(Xa.test(e)){t={};let n;for(;n=e.match(Xa);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):en(e.slice(2)),t]}let pr=0;const Gf=Promise.resolve(),Kf=()=>pr||(Gf.then(()=>pr=0),pr=Date.now());function Jf(e,t){const i=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=i.attached)return;wt(Yf(n,i.value),t,5,[n])};return i.value=e,i.attached=Kf(),i}function Yf(e,t){if(Z(t)){const i=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{i.call(e),e._stopped=!0},t.map(n=>r=>!r._stopped&&n&&n(r))}else return t}const Za=/^on[a-z]/,Xf=(e,t,i,n,r=!1,s,o,l,a)=>{t==="class"?Nf(e,n,r):t==="style"?Bf(e,i,n):Ms(t)?Po(t)||Vf(e,t,i,n,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Zf(e,t,n,r))?Hf(e,t,n,s,o,l,a):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),Uf(e,t,n,r))};function Zf(e,t,i,n){return n?!!(t==="innerHTML"||t==="textContent"||t in e&&Za.test(t)&&re(i)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||Za.test(t)&&Me(i)?!1:t in e}const Qa=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Z(t)?i=>hs(t,i):t};function Qf(e){e.target.composing=!0}function el(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const mr=Symbol("_assign"),ES={created(e,{modifiers:{lazy:t,trim:i,number:n}},r){e[mr]=Qa(r);const s=n||r.props&&r.props.type==="number";Li(e,t?"change":"input",o=>{if(o.target.composing)return;let l=e.value;i&&(l=l.trim()),s&&(l=Wr(l)),e[mr](l)}),i&&Li(e,"change",()=>{e.value=e.value.trim()}),t||(Li(e,"compositionstart",Qf),Li(e,"compositionend",el),Li(e,"change",el))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:i,trim:n,number:r}},s){if(e[mr]=Qa(s),e.composing||document.activeElement===e&&e.type!=="range"&&(i||n&&e.value.trim()===t||(r||e.type==="number")&&Wr(e.value)===t))return;const o=t??"";e.value!==o&&(e.value=o)}},ep=["ctrl","shift","alt","meta"],tp={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>ep.some(i=>e[`${i}Key`]&&!t.includes(i))},ip=(e,t)=>(i,...n)=>{for(let r=0;r<t.length;r++){const s=tp[t[r]];if(s&&s(i,t))return}return e(i,...n)},np=Ue({patchProp:Xf},jf);let tl;function sp(){return tl||(tl=pf(np))}const rp=(...e)=>{const t=sp().createApp(...e),{mount:i}=t;return t.mount=n=>{const r=op(n);if(!r)return;const s=t._component;!re(s)&&!s.render&&!s.template&&(s.template=r.innerHTML),r.innerHTML="";const o=i(r,!1,r instanceof SVGElement);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},t};function op(e){return Me(e)?document.querySelector(e):e}var ap=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let gu;const Ks=e=>gu=e,vu=Symbol();function no(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var xn;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(xn||(xn={}));function lp(){const e=Sc(!0),t=e.run(()=>se({}));let i=[],n=[];const r=Ds({install(s){Ks(r),r._a=s,s.provide(vu,r),s.config.globalProperties.$pinia=r,n.forEach(o=>i.push(o)),n=[]},use(s){return!this._a&&!ap?n.push(s):i.push(s),this},_p:i,_a:null,_e:e,_s:new Map,state:t});return r}const wu=()=>{};function il(e,t,i,n=wu){e.push(t);const r=()=>{const s=e.indexOf(t);s>-1&&(e.splice(s,1),n())};return!i&&xc()&&th(r),r}function Pi(e,...t){e.slice().forEach(i=>{i(...t)})}const cp=e=>e();function so(e,t){e instanceof Map&&t instanceof Map&&t.forEach((i,n)=>e.set(n,i)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const i in t){if(!t.hasOwnProperty(i))continue;const n=t[i],r=e[i];no(r)&&no(n)&&e.hasOwnProperty(i)&&!Pe(n)&&!ni(n)?e[i]=so(r,n):e[i]=n}return e}const up=Symbol();function dp(e){return!no(e)||!e.hasOwnProperty(up)}const{assign:Jt}=Object;function hp(e){return!!(Pe(e)&&e.effect)}function fp(e,t,i,n){const{state:r,actions:s,getters:o}=t,l=i.state.value[e];let a;function c(){l||(i.state.value[e]=r?r():{});const u=Ah(i.state.value[e]);return Jt(u,s,Object.keys(o||{}).reduce((d,h)=>(d[h]=Ds(Ce(()=>{Ks(i);const f=i._s.get(e);return o[h].call(f,f)})),d),{}))}return a=bu(e,c,t,i,n,!0),a}function bu(e,t,i={},n,r,s){let o;const l=Jt({actions:{}},i),a={deep:!0};let c,u,d=[],h=[],f;const p=n.state.value[e];!s&&!p&&(n.state.value[e]={}),se({});let m;function w(z){let R;c=u=!1,typeof z=="function"?(z(n.state.value[e]),R={type:xn.patchFunction,storeId:e,events:f}):(so(n.state.value[e],z),R={type:xn.patchObject,payload:z,storeId:e,events:f});const M=m=Symbol();Ns().then(()=>{m===M&&(c=!0)}),u=!0,Pi(d,R,n.state.value[e])}const b=s?function(){const{state:R}=i,M=R?R():{};this.$patch(B=>{Jt(B,M)})}:wu;function _(){o.stop(),d=[],h=[],n._s.delete(e)}function x(z,R){return function(){Ks(n);const M=Array.from(arguments),B=[],X=[];function W(ie){B.push(ie)}function ue(ie){X.push(ie)}Pi(h,{args:M,name:z,store:P,after:W,onError:ue});let we;try{we=R.apply(this&&this.$id===e?this:P,M)}catch(ie){throw Pi(X,ie),ie}return we instanceof Promise?we.then(ie=>(Pi(B,ie),ie)).catch(ie=>(Pi(X,ie),Promise.reject(ie))):(Pi(B,we),we)}}const S={_p:n,$id:e,$onAction:il.bind(null,h),$patch:w,$reset:b,$subscribe(z,R={}){const M=il(d,z,R.detached,()=>B()),B=o.run(()=>bt(()=>n.state.value[e],X=>{(R.flush==="sync"?u:c)&&z({storeId:e,type:xn.direct,events:f},X)},Jt({},a,R)));return M},$dispose:_},P=Ei(S);n._s.set(e,P);const te=(n._a&&n._a.runWithContext||cp)(()=>n._e.run(()=>(o=Sc()).run(t)));for(const z in te){const R=te[z];if(Pe(R)&&!hp(R)||ni(R))s||(p&&dp(R)&&(Pe(R)?R.value=p[z]:so(R,p[z])),n.state.value[e][z]=R);else if(typeof R=="function"){const M=x(z,R);te[z]=M,l.actions[z]=R}}return Jt(P,te),Jt(fe(P),te),Object.defineProperty(P,"$state",{get:()=>n.state.value[e],set:z=>{w(R=>{Jt(R,z)})}}),n._p.forEach(z=>{Jt(P,o.run(()=>z({store:P,app:n._a,pinia:n,options:l})))}),p&&s&&i.hydrate&&i.hydrate(P.$state,p),c=!0,u=!0,P}function pp(e,t,i){let n,r;const s=typeof t=="function";typeof e=="string"?(n=e,r=s?i:t):(r=e,n=e.id);function o(l,a){const c=lf();return l=l||(c?lt(vu,null):null),l&&Ks(l),l=gu,l._s.has(n)||(s?bu(n,t,r,l):fp(n,r,l)),l._s.get(n)}return o.$id=n,o}/*!
  * vue-router v4.2.5
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const ji=typeof window<"u";function mp(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const ye=Object.assign;function gr(e,t){const i={};for(const n in t){const r=t[n];i[n]=yt(r)?r.map(e):e(r)}return i}const En=()=>{},yt=Array.isArray,gp=/\/$/,vp=e=>e.replace(gp,"");function vr(e,t,i="/"){let n,r={},s="",o="";const l=t.indexOf("#");let a=t.indexOf("?");return l<a&&l>=0&&(a=-1),a>-1&&(n=t.slice(0,a),s=t.slice(a+1,l>-1?l:t.length),r=e(s)),l>-1&&(n=n||t.slice(0,l),o=t.slice(l,t.length)),n=_p(n??t,i),{fullPath:n+(s&&"?")+s+o,path:n,query:r,hash:o}}function wp(e,t){const i=t.query?e(t.query):"";return t.path+(i&&"?")+i+(t.hash||"")}function nl(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function bp(e,t,i){const n=t.matched.length-1,r=i.matched.length-1;return n>-1&&n===r&&Ki(t.matched[n],i.matched[r])&&yu(t.params,i.params)&&e(t.query)===e(i.query)&&t.hash===i.hash}function Ki(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function yu(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const i in e)if(!yp(e[i],t[i]))return!1;return!0}function yp(e,t){return yt(e)?sl(e,t):yt(t)?sl(t,e):e===t}function sl(e,t){return yt(t)?e.length===t.length&&e.every((i,n)=>i===t[n]):e.length===1&&e[0]===t}function _p(e,t){if(e.startsWith("/"))return e;if(!e)return t;const i=t.split("/"),n=e.split("/"),r=n[n.length-1];(r===".."||r===".")&&n.push("");let s=i.length-1,o,l;for(o=0;o<n.length;o++)if(l=n[o],l!==".")if(l==="..")s>1&&s--;else break;return i.slice(0,s).join("/")+"/"+n.slice(o-(o===n.length?1:0)).join("/")}var Ln;(function(e){e.pop="pop",e.push="push"})(Ln||(Ln={}));var Tn;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Tn||(Tn={}));function Sp(e){if(!e)if(ji){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),vp(e)}const xp=/^[^#]+#/;function Ep(e,t){return e.replace(xp,"#")+t}function Tp(e,t){const i=document.documentElement.getBoundingClientRect(),n=e.getBoundingClientRect();return{behavior:t.behavior,left:n.left-i.left-(t.left||0),top:n.top-i.top-(t.top||0)}}const Js=()=>({left:window.pageXOffset,top:window.pageYOffset});function Ap(e){let t;if("el"in e){const i=e.el,n=typeof i=="string"&&i.startsWith("#"),r=typeof i=="string"?n?document.getElementById(i.slice(1)):document.querySelector(i):i;if(!r)return;t=Tp(r,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function rl(e,t){return(history.state?history.state.position-t:-1)+e}const ro=new Map;function Cp(e,t){ro.set(e,t)}function Rp(e){const t=ro.get(e);return ro.delete(e),t}let Op=()=>location.protocol+"//"+location.host;function _u(e,t){const{pathname:i,search:n,hash:r}=t,s=e.indexOf("#");if(s>-1){let l=r.includes(e.slice(s))?e.slice(s).length:1,a=r.slice(l);return a[0]!=="/"&&(a="/"+a),nl(a,"")}return nl(i,e)+n+r}function Pp(e,t,i,n){let r=[],s=[],o=null;const l=({state:h})=>{const f=_u(e,location),p=i.value,m=t.value;let w=0;if(h){if(i.value=f,t.value=h,o&&o===p){o=null;return}w=m?h.position-m.position:0}else n(f);r.forEach(b=>{b(i.value,p,{delta:w,type:Ln.pop,direction:w?w>0?Tn.forward:Tn.back:Tn.unknown})})};function a(){o=i.value}function c(h){r.push(h);const f=()=>{const p=r.indexOf(h);p>-1&&r.splice(p,1)};return s.push(f),f}function u(){const{history:h}=window;h.state&&h.replaceState(ye({},h.state,{scroll:Js()}),"")}function d(){for(const h of s)h();s=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:a,listen:c,destroy:d}}function ol(e,t,i,n=!1,r=!1){return{back:e,current:t,forward:i,replaced:n,position:window.history.length,scroll:r?Js():null}}function Mp(e){const{history:t,location:i}=window,n={value:_u(e,i)},r={value:t.state};r.value||s(n.value,{back:null,current:n.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function s(a,c,u){const d=e.indexOf("#"),h=d>-1?(i.host&&document.querySelector("base")?e:e.slice(d))+a:Op()+e+a;try{t[u?"replaceState":"pushState"](c,"",h),r.value=c}catch(f){console.error(f),i[u?"replace":"assign"](h)}}function o(a,c){const u=ye({},t.state,ol(r.value.back,a,r.value.forward,!0),c,{position:r.value.position});s(a,u,!0),n.value=a}function l(a,c){const u=ye({},r.value,t.state,{forward:a,scroll:Js()});s(u.current,u,!0);const d=ye({},ol(n.value,a,null),{position:u.position+1},c);s(a,d,!1),n.value=a}return{location:n,state:r,push:l,replace:o}}function $p(e){e=Sp(e);const t=Mp(e),i=Pp(e,t.state,t.location,t.replace);function n(s,o=!0){o||i.pauseListeners(),history.go(s)}const r=ye({location:"",base:e,go:n,createHref:Ep.bind(null,e)},t,i);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>t.state.value}),r}function Ip(e){return typeof e=="string"||e&&typeof e=="object"}function Su(e){return typeof e=="string"||typeof e=="symbol"}const qt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},xu=Symbol("");var al;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(al||(al={}));function Ji(e,t){return ye(new Error,{type:e,[xu]:!0},t)}function kt(e,t){return e instanceof Error&&xu in e&&(t==null||!!(e.type&t))}const ll="[^/]+?",kp={sensitive:!1,strict:!1,start:!0,end:!0},zp=/[.+*?^${}()[\]/\\]/g;function Lp(e,t){const i=ye({},kp,t),n=[];let r=i.start?"^":"";const s=[];for(const c of e){const u=c.length?[]:[90];i.strict&&!c.length&&(r+="/");for(let d=0;d<c.length;d++){const h=c[d];let f=40+(i.sensitive?.25:0);if(h.type===0)d||(r+="/"),r+=h.value.replace(zp,"\\$&"),f+=40;else if(h.type===1){const{value:p,repeatable:m,optional:w,regexp:b}=h;s.push({name:p,repeatable:m,optional:w});const _=b||ll;if(_!==ll){f+=10;try{new RegExp(`(${_})`)}catch(S){throw new Error(`Invalid custom RegExp for param "${p}" (${_}): `+S.message)}}let x=m?`((?:${_})(?:/(?:${_}))*)`:`(${_})`;d||(x=w&&c.length<2?`(?:/${x})`:"/"+x),w&&(x+="?"),r+=x,f+=20,w&&(f+=-8),m&&(f+=-20),_===".*"&&(f+=-50)}u.push(f)}n.push(u)}if(i.strict&&i.end){const c=n.length-1;n[c][n[c].length-1]+=.7000000000000001}i.strict||(r+="/?"),i.end?r+="$":i.strict&&(r+="(?:/|$)");const o=new RegExp(r,i.sensitive?"":"i");function l(c){const u=c.match(o),d={};if(!u)return null;for(let h=1;h<u.length;h++){const f=u[h]||"",p=s[h-1];d[p.name]=f&&p.repeatable?f.split("/"):f}return d}function a(c){let u="",d=!1;for(const h of e){(!d||!u.endsWith("/"))&&(u+="/"),d=!1;for(const f of h)if(f.type===0)u+=f.value;else if(f.type===1){const{value:p,repeatable:m,optional:w}=f,b=p in c?c[p]:"";if(yt(b)&&!m)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const _=yt(b)?b.join("/"):b;if(!_)if(w)h.length<2&&(u.endsWith("/")?u=u.slice(0,-1):d=!0);else throw new Error(`Missing required param "${p}"`);u+=_}}return u||"/"}return{re:o,score:n,keys:s,parse:l,stringify:a}}function jp(e,t){let i=0;for(;i<e.length&&i<t.length;){const n=t[i]-e[i];if(n)return n;i++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function Dp(e,t){let i=0;const n=e.score,r=t.score;for(;i<n.length&&i<r.length;){const s=jp(n[i],r[i]);if(s)return s;i++}if(Math.abs(r.length-n.length)===1){if(cl(n))return 1;if(cl(r))return-1}return r.length-n.length}function cl(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Np={type:0,value:""},Bp=/[a-zA-Z0-9_]/;function Fp(e){if(!e)return[[]];if(e==="/")return[[Np]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(f){throw new Error(`ERR (${i})/"${c}": ${f}`)}let i=0,n=i;const r=[];let s;function o(){s&&r.push(s),s=[]}let l=0,a,c="",u="";function d(){c&&(i===0?s.push({type:0,value:c}):i===1||i===2||i===3?(s.length>1&&(a==="*"||a==="+")&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:c,regexp:u,repeatable:a==="*"||a==="+",optional:a==="*"||a==="?"})):t("Invalid state to consume buffer"),c="")}function h(){c+=a}for(;l<e.length;){if(a=e[l++],a==="\\"&&i!==2){n=i,i=4;continue}switch(i){case 0:a==="/"?(c&&d(),o()):a===":"?(d(),i=1):h();break;case 4:h(),i=n;break;case 1:a==="("?i=2:Bp.test(a)?h():(d(),i=0,a!=="*"&&a!=="?"&&a!=="+"&&l--);break;case 2:a===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+a:i=3:u+=a;break;case 3:d(),i=0,a!=="*"&&a!=="?"&&a!=="+"&&l--,u="";break;default:t("Unknown state");break}}return i===2&&t(`Unfinished custom RegExp for param "${c}"`),d(),o(),r}function Up(e,t,i){const n=Lp(Fp(e.path),i),r=ye(n,{record:e,parent:t,children:[],alias:[]});return t&&!r.record.aliasOf==!t.record.aliasOf&&t.children.push(r),r}function Hp(e,t){const i=[],n=new Map;t=hl({strict:!1,end:!0,sensitive:!1},t);function r(u){return n.get(u)}function s(u,d,h){const f=!h,p=Wp(u);p.aliasOf=h&&h.record;const m=hl(t,u),w=[p];if("alias"in u){const x=typeof u.alias=="string"?[u.alias]:u.alias;for(const S of x)w.push(ye({},p,{components:h?h.record.components:p.components,path:S,aliasOf:h?h.record:p}))}let b,_;for(const x of w){const{path:S}=x;if(d&&S[0]!=="/"){const P=d.record.path,V=P[P.length-1]==="/"?"":"/";x.path=d.record.path+(S&&V+S)}if(b=Up(x,d,m),h?h.alias.push(b):(_=_||b,_!==b&&_.alias.push(b),f&&u.name&&!dl(b)&&o(u.name)),p.children){const P=p.children;for(let V=0;V<P.length;V++)s(P[V],b,h&&h.children[V])}h=h||b,(b.record.components&&Object.keys(b.record.components).length||b.record.name||b.record.redirect)&&a(b)}return _?()=>{o(_)}:En}function o(u){if(Su(u)){const d=n.get(u);d&&(n.delete(u),i.splice(i.indexOf(d),1),d.children.forEach(o),d.alias.forEach(o))}else{const d=i.indexOf(u);d>-1&&(i.splice(d,1),u.record.name&&n.delete(u.record.name),u.children.forEach(o),u.alias.forEach(o))}}function l(){return i}function a(u){let d=0;for(;d<i.length&&Dp(u,i[d])>=0&&(u.record.path!==i[d].record.path||!Eu(u,i[d]));)d++;i.splice(d,0,u),u.record.name&&!dl(u)&&n.set(u.record.name,u)}function c(u,d){let h,f={},p,m;if("name"in u&&u.name){if(h=n.get(u.name),!h)throw Ji(1,{location:u});m=h.record.name,f=ye(ul(d.params,h.keys.filter(_=>!_.optional).map(_=>_.name)),u.params&&ul(u.params,h.keys.map(_=>_.name))),p=h.stringify(f)}else if("path"in u)p=u.path,h=i.find(_=>_.re.test(p)),h&&(f=h.parse(p),m=h.record.name);else{if(h=d.name?n.get(d.name):i.find(_=>_.re.test(d.path)),!h)throw Ji(1,{location:u,currentLocation:d});m=h.record.name,f=ye({},d.params,u.params),p=h.stringify(f)}const w=[];let b=h;for(;b;)w.unshift(b.record),b=b.parent;return{name:m,path:p,params:f,matched:w,meta:qp(w)}}return e.forEach(u=>s(u)),{addRoute:s,resolve:c,removeRoute:o,getRoutes:l,getRecordMatcher:r}}function ul(e,t){const i={};for(const n of t)n in e&&(i[n]=e[n]);return i}function Wp(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:Vp(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function Vp(e){const t={},i=e.props||!1;if("component"in e)t.default=i;else for(const n in e.components)t[n]=typeof i=="object"?i[n]:i;return t}function dl(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function qp(e){return e.reduce((t,i)=>ye(t,i.meta),{})}function hl(e,t){const i={};for(const n in e)i[n]=n in t?t[n]:e[n];return i}function Eu(e,t){return t.children.some(i=>i===e||Eu(e,i))}const Tu=/#/g,Gp=/&/g,Kp=/\//g,Jp=/=/g,Yp=/\?/g,Au=/\+/g,Xp=/%5B/g,Zp=/%5D/g,Cu=/%5E/g,Qp=/%60/g,Ru=/%7B/g,em=/%7C/g,Ou=/%7D/g,tm=/%20/g;function Xo(e){return encodeURI(""+e).replace(em,"|").replace(Xp,"[").replace(Zp,"]")}function im(e){return Xo(e).replace(Ru,"{").replace(Ou,"}").replace(Cu,"^")}function oo(e){return Xo(e).replace(Au,"%2B").replace(tm,"+").replace(Tu,"%23").replace(Gp,"%26").replace(Qp,"`").replace(Ru,"{").replace(Ou,"}").replace(Cu,"^")}function nm(e){return oo(e).replace(Jp,"%3D")}function sm(e){return Xo(e).replace(Tu,"%23").replace(Yp,"%3F")}function rm(e){return e==null?"":sm(e).replace(Kp,"%2F")}function As(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function om(e){const t={};if(e===""||e==="?")return t;const n=(e[0]==="?"?e.slice(1):e).split("&");for(let r=0;r<n.length;++r){const s=n[r].replace(Au," "),o=s.indexOf("="),l=As(o<0?s:s.slice(0,o)),a=o<0?null:As(s.slice(o+1));if(l in t){let c=t[l];yt(c)||(c=t[l]=[c]),c.push(a)}else t[l]=a}return t}function fl(e){let t="";for(let i in e){const n=e[i];if(i=nm(i),n==null){n!==void 0&&(t+=(t.length?"&":"")+i);continue}(yt(n)?n.map(s=>s&&oo(s)):[n&&oo(n)]).forEach(s=>{s!==void 0&&(t+=(t.length?"&":"")+i,s!=null&&(t+="="+s))})}return t}function am(e){const t={};for(const i in e){const n=e[i];n!==void 0&&(t[i]=yt(n)?n.map(r=>r==null?null:""+r):n==null?n:""+n)}return t}const lm=Symbol(""),pl=Symbol(""),Ys=Symbol(""),Zo=Symbol(""),ao=Symbol("");function hn(){let e=[];function t(n){return e.push(n),()=>{const r=e.indexOf(n);r>-1&&e.splice(r,1)}}function i(){e=[]}return{add:t,list:()=>e.slice(),reset:i}}function Xt(e,t,i,n,r){const s=n&&(n.enterCallbacks[r]=n.enterCallbacks[r]||[]);return()=>new Promise((o,l)=>{const a=d=>{d===!1?l(Ji(4,{from:i,to:t})):d instanceof Error?l(d):Ip(d)?l(Ji(2,{from:t,to:d})):(s&&n.enterCallbacks[r]===s&&typeof d=="function"&&s.push(d),o())},c=e.call(n&&n.instances[r],t,i,a);let u=Promise.resolve(c);e.length<3&&(u=u.then(a)),u.catch(d=>l(d))})}function wr(e,t,i,n){const r=[];for(const s of e)for(const o in s.components){let l=s.components[o];if(!(t!=="beforeRouteEnter"&&!s.instances[o]))if(cm(l)){const c=(l.__vccOpts||l)[t];c&&r.push(Xt(c,i,n,s,o))}else{let a=l();r.push(()=>a.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${s.path}"`));const u=mp(c)?c.default:c;s.components[o]=u;const h=(u.__vccOpts||u)[t];return h&&Xt(h,i,n,s,o)()}))}}return r}function cm(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function ml(e){const t=lt(Ys),i=lt(Zo),n=Ce(()=>t.resolve(q(e.to))),r=Ce(()=>{const{matched:a}=n.value,{length:c}=a,u=a[c-1],d=i.matched;if(!u||!d.length)return-1;const h=d.findIndex(Ki.bind(null,u));if(h>-1)return h;const f=gl(a[c-2]);return c>1&&gl(u)===f&&d[d.length-1].path!==f?d.findIndex(Ki.bind(null,a[c-2])):h}),s=Ce(()=>r.value>-1&&fm(i.params,n.value.params)),o=Ce(()=>r.value>-1&&r.value===i.matched.length-1&&yu(i.params,n.value.params));function l(a={}){return hm(a)?t[q(e.replace)?"replace":"push"](q(e.to)).catch(En):Promise.resolve()}return{route:n,href:Ce(()=>n.value.href),isActive:s,isExactActive:o,navigate:l}}const um=Ae({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:ml,setup(e,{slots:t}){const i=Ei(ml(e)),{options:n}=lt(Ys),r=Ce(()=>({[vl(e.activeClass,n.linkActiveClass,"router-link-active")]:i.isActive,[vl(e.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:i.isExactActive}));return()=>{const s=t.default&&t.default(i);return e.custom?s:Ye("a",{"aria-current":i.isExactActive?e.ariaCurrentValue:null,href:i.href,onClick:i.navigate,class:r.value},s)}}}),dm=um;function hm(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function fm(e,t){for(const i in t){const n=t[i],r=e[i];if(typeof n=="string"){if(n!==r)return!1}else if(!yt(r)||r.length!==n.length||n.some((s,o)=>s!==r[o]))return!1}return!0}function gl(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const vl=(e,t,i)=>e??t??i,pm=Ae({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:i}){const n=lt(ao),r=Ce(()=>e.route||n.value),s=lt(pl,0),o=Ce(()=>{let c=q(s);const{matched:u}=r.value;let d;for(;(d=u[c])&&!d.components;)c++;return c}),l=Ce(()=>r.value.matched[o.value]);Ui(pl,Ce(()=>o.value+1)),Ui(lm,l),Ui(ao,r);const a=se();return bt(()=>[a.value,l.value,e.name],([c,u,d],[h,f,p])=>{u&&(u.instances[d]=c,f&&f!==u&&c&&c===h&&(u.leaveGuards.size||(u.leaveGuards=f.leaveGuards),u.updateGuards.size||(u.updateGuards=f.updateGuards))),c&&u&&(!f||!Ki(u,f)||!h)&&(u.enterCallbacks[d]||[]).forEach(m=>m(c))},{flush:"post"}),()=>{const c=r.value,u=e.name,d=l.value,h=d&&d.components[u];if(!h)return wl(i.default,{Component:h,route:c});const f=d.props[u],p=f?f===!0?c.params:typeof f=="function"?f(c):f:null,w=Ye(h,ye({},p,t,{onVnodeUnmounted:b=>{b.component.isUnmounted&&(d.instances[u]=null)},ref:a}));return wl(i.default,{Component:w,route:c})||w}}});function wl(e,t){if(!e)return null;const i=e(t);return i.length===1?i[0]:i}const Pu=pm;function mm(e){const t=Hp(e.routes,e),i=e.parseQuery||om,n=e.stringifyQuery||fl,r=e.history,s=hn(),o=hn(),l=hn(),a=xh(qt);let c=qt;ji&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=gr.bind(null,A=>""+A),d=gr.bind(null,rm),h=gr.bind(null,As);function f(A,U){let N,G;return Su(A)?(N=t.getRecordMatcher(A),G=U):G=A,t.addRoute(G,N)}function p(A){const U=t.getRecordMatcher(A);U&&t.removeRoute(U)}function m(){return t.getRoutes().map(A=>A.record)}function w(A){return!!t.getRecordMatcher(A)}function b(A,U){if(U=ye({},U||a.value),typeof A=="string"){const y=vr(i,A,U.path),E=t.resolve({path:y.path},U),O=r.createHref(y.fullPath);return ye(y,E,{params:h(E.params),hash:As(y.hash),redirectedFrom:void 0,href:O})}let N;if("path"in A)N=ye({},A,{path:vr(i,A.path,U.path).path});else{const y=ye({},A.params);for(const E in y)y[E]==null&&delete y[E];N=ye({},A,{params:d(y)}),U.params=d(U.params)}const G=t.resolve(N,U),be=A.hash||"";G.params=u(h(G.params));const g=wp(n,ye({},A,{hash:im(be),path:G.path})),v=r.createHref(g);return ye({fullPath:g,hash:be,query:n===fl?am(A.query):A.query||{}},G,{redirectedFrom:void 0,href:v})}function _(A){return typeof A=="string"?vr(i,A,a.value.path):ye({},A)}function x(A,U){if(c!==A)return Ji(8,{from:U,to:A})}function S(A){return te(A)}function P(A){return S(ye(_(A),{replace:!0}))}function V(A){const U=A.matched[A.matched.length-1];if(U&&U.redirect){const{redirect:N}=U;let G=typeof N=="function"?N(A):N;return typeof G=="string"&&(G=G.includes("?")||G.includes("#")?G=_(G):{path:G},G.params={}),ye({query:A.query,hash:A.hash,params:"path"in G?{}:A.params},G)}}function te(A,U){const N=c=b(A),G=a.value,be=A.state,g=A.force,v=A.replace===!0,y=V(N);if(y)return te(ye(_(y),{state:typeof y=="object"?ye({},be,y.state):be,force:g,replace:v}),U||N);const E=N;E.redirectedFrom=U;let O;return!g&&bp(n,G,N)&&(O=Ji(16,{to:E,from:G}),rt(G,G,!0,!1)),(O?Promise.resolve(O):M(E,G)).catch($=>kt($)?kt($,2)?$:dt($):ae($,E,G)).then($=>{if($){if(kt($,2))return te(ye({replace:v},_($.to),{state:typeof $.to=="object"?ye({},be,$.to.state):be,force:g}),U||E)}else $=X(E,G,!0,v,be);return B(E,G,$),$})}function z(A,U){const N=x(A,U);return N?Promise.reject(N):Promise.resolve()}function R(A){const U=Ci.values().next().value;return U&&typeof U.runWithContext=="function"?U.runWithContext(A):A()}function M(A,U){let N;const[G,be,g]=gm(A,U);N=wr(G.reverse(),"beforeRouteLeave",A,U);for(const y of G)y.leaveGuards.forEach(E=>{N.push(Xt(E,A,U))});const v=z.bind(null,A,U);return N.push(v),We(N).then(()=>{N=[];for(const y of s.list())N.push(Xt(y,A,U));return N.push(v),We(N)}).then(()=>{N=wr(be,"beforeRouteUpdate",A,U);for(const y of be)y.updateGuards.forEach(E=>{N.push(Xt(E,A,U))});return N.push(v),We(N)}).then(()=>{N=[];for(const y of g)if(y.beforeEnter)if(yt(y.beforeEnter))for(const E of y.beforeEnter)N.push(Xt(E,A,U));else N.push(Xt(y.beforeEnter,A,U));return N.push(v),We(N)}).then(()=>(A.matched.forEach(y=>y.enterCallbacks={}),N=wr(g,"beforeRouteEnter",A,U),N.push(v),We(N))).then(()=>{N=[];for(const y of o.list())N.push(Xt(y,A,U));return N.push(v),We(N)}).catch(y=>kt(y,8)?y:Promise.reject(y))}function B(A,U,N){l.list().forEach(G=>R(()=>G(A,U,N)))}function X(A,U,N,G,be){const g=x(A,U);if(g)return g;const v=U===qt,y=ji?history.state:{};N&&(G||v?r.replace(A.fullPath,ye({scroll:v&&y&&y.scroll},be)):r.push(A.fullPath,be)),a.value=A,rt(A,U,N,v),dt()}let W;function ue(){W||(W=r.listen((A,U,N)=>{if(!Gn.listening)return;const G=b(A),be=V(G);if(be){te(ye(be,{replace:!0}),G).catch(En);return}c=G;const g=a.value;ji&&Cp(rl(g.fullPath,N.delta),Js()),M(G,g).catch(v=>kt(v,12)?v:kt(v,2)?(te(v.to,G).then(y=>{kt(y,20)&&!N.delta&&N.type===Ln.pop&&r.go(-1,!1)}).catch(En),Promise.reject()):(N.delta&&r.go(-N.delta,!1),ae(v,G,g))).then(v=>{v=v||X(G,g,!1),v&&(N.delta&&!kt(v,8)?r.go(-N.delta,!1):N.type===Ln.pop&&kt(v,20)&&r.go(-1,!1)),B(G,g,v)}).catch(En)}))}let we=hn(),ie=hn(),Q;function ae(A,U,N){dt(A);const G=ie.list();return G.length?G.forEach(be=>be(A,U,N)):console.error(A),Promise.reject(A)}function st(){return Q&&a.value!==qt?Promise.resolve():new Promise((A,U)=>{we.add([A,U])})}function dt(A){return Q||(Q=!A,ue(),we.list().forEach(([U,N])=>A?N(A):U()),we.reset()),A}function rt(A,U,N,G){const{scrollBehavior:be}=e;if(!ji||!be)return Promise.resolve();const g=!N&&Rp(rl(A.fullPath,0))||(G||!N)&&history.state&&history.state.scroll||null;return Ns().then(()=>be(A,U,g)).then(v=>v&&Ap(v)).catch(v=>ae(v,A,U))}const He=A=>r.go(A);let Ai;const Ci=new Set,Gn={currentRoute:a,listening:!0,addRoute:f,removeRoute:p,hasRoute:w,getRoutes:m,resolve:b,options:e,push:S,replace:P,go:He,back:()=>He(-1),forward:()=>He(1),beforeEach:s.add,beforeResolve:o.add,afterEach:l.add,onError:ie.add,isReady:st,install(A){const U=this;A.component("RouterLink",dm),A.component("RouterView",Pu),A.config.globalProperties.$router=U,Object.defineProperty(A.config.globalProperties,"$route",{enumerable:!0,get:()=>q(a)}),ji&&!Ai&&a.value===qt&&(Ai=!0,S(r.location).catch(be=>{}));const N={};for(const be in qt)Object.defineProperty(N,be,{get:()=>a.value[be],enumerable:!0});A.provide(Ys,U),A.provide(Zo,kc(N)),A.provide(ao,a);const G=A.unmount;Ci.add(A),A.unmount=function(){Ci.delete(A),Ci.size<1&&(c=qt,W&&W(),W=null,a.value=qt,Ai=!1,Q=!1),G()}}};function We(A){return A.reduce((U,N)=>U.then(()=>R(N)),Promise.resolve())}return Gn}function gm(e,t){const i=[],n=[],r=[],s=Math.max(t.matched.length,e.matched.length);for(let o=0;o<s;o++){const l=t.matched[o];l&&(e.matched.find(c=>Ki(c,l))?n.push(l):i.push(l));const a=e.matched[o];a&&(t.matched.find(c=>Ki(c,a))||r.push(a))}return[i,n,r]}function Xs(){return lt(Ys)}function Mu(){return lt(Zo)}const vm="modulepreload",wm=function(e){return"/"+e},bl={},sn=function(t,i,n){if(!i||i.length===0)return t();const r=document.getElementsByTagName("link");return Promise.all(i.map(s=>{if(s=wm(s),s in bl)return;bl[s]=!0;const o=s.endsWith(".css"),l=o?'[rel="stylesheet"]':"";if(!!n)for(let u=r.length-1;u>=0;u--){const d=r[u];if(d.href===s&&(!o||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${l}`))return;const c=document.createElement("link");if(c.rel=o?"stylesheet":vm,o||(c.as="script",c.crossOrigin=""),c.href=s,document.head.appendChild(c),o)return new Promise((u,d)=>{c.addEventListener("load",u),c.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>t()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})},bm=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...i)=>sn(()=>Promise.resolve().then(()=>Hn),void 0).then(({default:n})=>n(...i)):t=fetch,(...i)=>t(...i)};class Qo extends Error{constructor(t,i="FunctionsError",n){super(t),this.name=i,this.context=n}}class ym extends Qo{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class _m extends Qo{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Sm extends Qo{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var xm=globalThis&&globalThis.__awaiter||function(e,t,i,n){function r(s){return s instanceof i?s:new i(function(o){o(s)})}return new(i||(i=Promise))(function(s,o){function l(u){try{c(n.next(u))}catch(d){o(d)}}function a(u){try{c(n.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):r(u.value).then(l,a)}c((n=n.apply(e,t||[])).next())})};class Em{constructor(t,{headers:i={},customFetch:n}={}){this.url=t,this.headers=i,this.fetch=bm(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,i={}){var n;return xm(this,void 0,void 0,function*(){try{const{headers:r,method:s,body:o}=i;let l={},a;o&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",a=o):typeof o=="string"?(l["Content-Type"]="text/plain",a=o):typeof FormData<"u"&&o instanceof FormData?a=o:(l["Content-Type"]="application/json",a=JSON.stringify(o)));const c=yield this.fetch(`${this.url}/${t}`,{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),r),body:a}).catch(f=>{throw new ym(f)}),u=c.headers.get("x-relay-error");if(u&&u==="true")throw new _m(c);if(!c.ok)throw new Sm(c);let d=((n=c.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),h;return d==="application/json"?h=yield c.json():d==="application/octet-stream"?h=yield c.blob():d==="multipart/form-data"?h=yield c.formData():h=yield c.text(),{data:h,error:null}}catch(r){return{data:null,error:r}}})}}var yl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Tm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var lo={exports:{}};(function(e,t){var i=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof yl<"u")return yl;throw new Error("unable to locate global object")},n=i();e.exports=t=n.fetch,n.fetch&&(t.default=n.fetch.bind(n)),t.Headers=n.Headers,t.Request=n.Request,t.Response=n.Response})(lo,lo.exports);var ea=lo.exports;const ta=Tm(ea),Hn=Fd({__proto__:null,default:ta},[ea]);class Am{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=ta:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}then(t,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let r=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var o,l,a;let c=null,u=null,d=null,h=s.status,f=s.statusText;if(s.ok){if(this.method!=="HEAD"){const b=await s.text();b===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=b:u=JSON.parse(b))}const m=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),w=(l=s.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");m&&w&&w.length>1&&(d=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(c={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,d=null,h=406,f="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const m=await s.text();try{c=JSON.parse(m),Array.isArray(c)&&s.status===404&&(u=[],c=null,h=200,f="OK")}catch{s.status===404&&m===""?(h=204,f="No Content"):c={message:m}}if(c&&this.isMaybeSingle&&(!((a=c==null?void 0:c.details)===null||a===void 0)&&a.includes("0 rows"))&&(c=null,h=200,f="OK"),c&&this.shouldThrowOnError)throw c}return{error:c,data:u,count:d,status:h,statusText:f}});return this.shouldThrowOnError||(r=r.catch(s=>{var o,l,a;return{error:{message:`${(o=s==null?void 0:s.name)!==null&&o!==void 0?o:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(l=s==null?void 0:s.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(a=s==null?void 0:s.code)!==null&&a!==void 0?a:""}`},data:null,count:null,status:0,statusText:""}})),r.then(t,i)}}class Cm extends Am{select(t){let i=!1;const n=(t??"*").split("").map(r=>/\s/.test(r)&&!i?"":(r==='"'&&(i=!i),r)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:i=!0,nullsFirst:n,foreignTable:r}={}){const s=r?`${r}.order`:"order",o=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${o?`${o},`:""}${t}.${i?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:i}={}){const n=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(n,`${t}`),this}range(t,i,{foreignTable:n}={}){const r=typeof n>"u"?"offset":`${n}.offset`,s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${t}`),this.url.searchParams.set(s,`${i-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:i=!1,settings:n=!1,buffers:r=!1,wal:s=!1,format:o="text"}={}){const l=[t?"analyze":null,i?"verbose":null,n?"settings":null,r?"buffers":null,s?"wal":null].filter(Boolean).join("|"),a=this.headers.Accept;return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${a}"; options=${l};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}class Di extends Cm{eq(t,i){return this.url.searchParams.append(t,`eq.${i}`),this}neq(t,i){return this.url.searchParams.append(t,`neq.${i}`),this}gt(t,i){return this.url.searchParams.append(t,`gt.${i}`),this}gte(t,i){return this.url.searchParams.append(t,`gte.${i}`),this}lt(t,i){return this.url.searchParams.append(t,`lt.${i}`),this}lte(t,i){return this.url.searchParams.append(t,`lte.${i}`),this}like(t,i){return this.url.searchParams.append(t,`like.${i}`),this}likeAllOf(t,i){return this.url.searchParams.append(t,`like(all).{${i.join(",")}}`),this}likeAnyOf(t,i){return this.url.searchParams.append(t,`like(any).{${i.join(",")}}`),this}ilike(t,i){return this.url.searchParams.append(t,`ilike.${i}`),this}ilikeAllOf(t,i){return this.url.searchParams.append(t,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(t,i){return this.url.searchParams.append(t,`ilike(any).{${i.join(",")}}`),this}is(t,i){return this.url.searchParams.append(t,`is.${i}`),this}in(t,i){const n=i.map(r=>typeof r=="string"&&new RegExp("[,()]").test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,i){return typeof i=="string"?this.url.searchParams.append(t,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(t,`cs.{${i.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(i)}`),this}containedBy(t,i){return typeof i=="string"?this.url.searchParams.append(t,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(t,`cd.{${i.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(i)}`),this}rangeGt(t,i){return this.url.searchParams.append(t,`sr.${i}`),this}rangeGte(t,i){return this.url.searchParams.append(t,`nxl.${i}`),this}rangeLt(t,i){return this.url.searchParams.append(t,`sl.${i}`),this}rangeLte(t,i){return this.url.searchParams.append(t,`nxr.${i}`),this}rangeAdjacent(t,i){return this.url.searchParams.append(t,`adj.${i}`),this}overlaps(t,i){return typeof i=="string"?this.url.searchParams.append(t,`ov.${i}`):this.url.searchParams.append(t,`ov.{${i.join(",")}}`),this}textSearch(t,i,{config:n,type:r}={}){let s="";r==="plain"?s="pl":r==="phrase"?s="ph":r==="websearch"&&(s="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${s}fts${o}.${i}`),this}match(t){return Object.entries(t).forEach(([i,n])=>{this.url.searchParams.append(i,`eq.${n}`)}),this}not(t,i,n){return this.url.searchParams.append(t,`not.${i}.${n}`),this}or(t,{foreignTable:i}={}){const n=i?`${i}.or`:"or";return this.url.searchParams.append(n,`(${t})`),this}filter(t,i,n){return this.url.searchParams.append(t,`${i}.${n}`),this}}class Rm{constructor(t,{headers:i={},schema:n,fetch:r}){this.url=t,this.headers=i,this.schema=n,this.fetch=r}select(t,{head:i=!1,count:n}={}){const r=i?"HEAD":"GET";let s=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!s?"":(l==='"'&&(s=!s),l)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new Di({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:i,defaultToNull:n=!0}={}){const r="POST",s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),i&&s.push(`count=${i}`),n||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(t)){const o=t.reduce((l,a)=>l.concat(Object.keys(a)),[]);if(o.length>0){const l=[...new Set(o)].map(a=>`"${a}"`);this.url.searchParams.set("columns",l.join(","))}}return new Di({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:i,ignoreDuplicates:n=!1,count:r,defaultToNull:s=!0}={}){const o="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(i!==void 0&&this.url.searchParams.set("on_conflict",i),this.headers.Prefer&&l.push(this.headers.Prefer),r&&l.push(`count=${r}`),s||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const a=t.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(a.length>0){const c=[...new Set(a)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new Di({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:i}={}){const n="PATCH",r=[];return this.headers.Prefer&&r.push(this.headers.Prefer),i&&r.push(`count=${i}`),this.headers.Prefer=r.join(","),new Di({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const i="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Di({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}const Om="1.8.5",Pm={"X-Client-Info":`postgrest-js/${Om}`};class ia{constructor(t,{headers:i={},schema:n,fetch:r}={}){this.url=t,this.headers=Object.assign(Object.assign({},Pm),i),this.schemaName=n,this.fetch=r}from(t){const i=new URL(`${this.url}/${t}`);return new Rm(i,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new ia(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,i={},{head:n=!1,count:r}={}){let s;const o=new URL(`${this.url}/rpc/${t}`);let l;n?(s="HEAD",Object.entries(i).forEach(([c,u])=>{o.searchParams.append(c,`${u}`)})):(s="POST",l=i);const a=Object.assign({},this.headers);return r&&(a.Prefer=`count=${r}`),new Di({method:s,url:o,headers:a,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}}var br,_l;function Mm(){if(_l)return br;_l=1;var e=function(){if(typeof self=="object"&&self)return self;if(typeof window=="object"&&window)return window;throw new Error("Unable to resolve global `this`")};return br=function(){if(this)return this;if(typeof globalThis=="object"&&globalThis)return globalThis;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return e()}try{return __global__||e()}finally{delete Object.prototype.__global__}}(),br}const $m="websocket",Im="Websocket Client & Server Library implementing the WebSocket protocol as specified in RFC 6455.",km=["websocket","websockets","socket","networking","comet","push","RFC-6455","realtime","server","client"],zm="Brian McKelvey <theturtle32@gmail.com> (https://github.com/theturtle32)",Lm=["Iñaki Baz Castillo <ibc@aliax.net> (http://dev.sipdoc.net)"],jm="1.0.34",Dm={type:"git",url:"https://github.com/theturtle32/WebSocket-Node.git"},Nm="https://github.com/theturtle32/WebSocket-Node",Bm={node:">=4.0.0"},Fm={bufferutil:"^4.0.1",debug:"^2.2.0","es5-ext":"^0.10.50","typedarray-to-buffer":"^3.1.5","utf-8-validate":"^5.0.2",yaeti:"^0.0.6"},Um={"buffer-equal":"^1.0.0",gulp:"^4.0.2","gulp-jshint":"^2.0.4","jshint-stylish":"^2.2.1",jshint:"^2.0.0",tape:"^4.9.1"},Hm={verbose:!1},Wm={test:"tape test/unit/*.js",gulp:"gulp"},Vm="index",qm={lib:"./lib"},Gm="lib/browser.js",Km="Apache-2.0",Jm={name:$m,description:Im,keywords:km,author:zm,contributors:Lm,version:jm,repository:Dm,homepage:Nm,engines:Bm,dependencies:Fm,devDependencies:Um,config:Hm,scripts:Wm,main:Vm,directories:qm,browser:Gm,license:Km};var Ym=Jm.version,mi;if(typeof globalThis=="object")mi=globalThis;else try{mi=Mm()}catch{}finally{if(!mi&&typeof window<"u"&&(mi=window),!mi)throw new Error("Could not determine global this")}var jn=mi.WebSocket||mi.MozWebSocket,Xm=Ym;function $u(e,t){var i;return t?i=new jn(e,t):i=new jn(e),i}jn&&["CONNECTING","OPEN","CLOSING","CLOSED"].forEach(function(e){Object.defineProperty($u,e,{get:function(){return jn[e]}})});var Zm={w3cwebsocket:jn?$u:null,version:Xm};const Qm="2.8.4",eg={"X-Client-Info":`realtime-js/${Qm}`},tg="1.0.0",Iu=1e4,ig=1e3;var An;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(An||(An={}));var et;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(et||(et={}));var pt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(pt||(pt={}));var co;(function(e){e.websocket="websocket"})(co||(co={}));var gi;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(gi||(gi={}));class ku{constructor(t,i){this.callback=t,this.timerCalc=i,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=i}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}class ng{constructor(){this.HEADER_LENGTH=1}decode(t,i){return t.constructor===ArrayBuffer?i(this._binaryDecode(t)):i(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const i=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,i,n)}_decodeBroadcast(t,i,n){const r=i.getUint8(1),s=i.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(t.slice(o,o+r));o=o+r;const a=n.decode(t.slice(o,o+s));o=o+s;const c=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:a,payload:c}}}class yr{constructor(t,i,n={},r=Iu){this.channel=t,this.event=i,this.payload=n,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,i){var n;return this._hasReceived(t)&&i((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:i}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=i=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=i,this._matchReceive(i)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,i){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:i})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:i}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(i))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Sl;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Sl||(Sl={}));class Cn{constructor(t,i){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(i==null?void 0:i.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},r=>{const{onJoin:s,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Cn.syncState(this.state,r,s,o),this.pendingDiffs.forEach(a=>{this.state=Cn.syncDiff(this.state,a,s,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},r=>{const{onJoin:s,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(r):(this.state=Cn.syncDiff(this.state,r,s,o),l())}),this.onJoin((r,s,o)=>{this.channel._trigger("presence",{event:"join",key:r,currentPresences:s,newPresences:o})}),this.onLeave((r,s,o)=>{this.channel._trigger("presence",{event:"leave",key:r,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,i,n,r){const s=this.cloneDeep(t),o=this.transformState(i),l={},a={};return this.map(s,(c,u)=>{o[c]||(a[c]=u)}),this.map(o,(c,u)=>{const d=s[c];if(d){const h=u.map(w=>w.presence_ref),f=d.map(w=>w.presence_ref),p=u.filter(w=>f.indexOf(w.presence_ref)<0),m=d.filter(w=>h.indexOf(w.presence_ref)<0);p.length>0&&(l[c]=p),m.length>0&&(a[c]=m)}else l[c]=u}),this.syncDiff(s,{joins:l,leaves:a},n,r)}static syncDiff(t,i,n,r){const{joins:s,leaves:o}={joins:this.transformState(i.joins),leaves:this.transformState(i.leaves)};return n||(n=()=>{}),r||(r=()=>{}),this.map(s,(l,a)=>{var c;const u=(c=t[l])!==null&&c!==void 0?c:[];if(t[l]=this.cloneDeep(a),u.length>0){const d=t[l].map(f=>f.presence_ref),h=u.filter(f=>d.indexOf(f.presence_ref)<0);t[l].unshift(...h)}n(l,u,a)}),this.map(o,(l,a)=>{let c=t[l];if(!c)return;const u=a.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),t[l]=c,r(l,c,a),c.length===0&&delete t[l]}),t}static map(t,i){return Object.getOwnPropertyNames(t).map(n=>i(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((i,n)=>{const r=t[n];return"metas"in r?i[n]=r.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):i[n]=r,i},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Ee;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ee||(Ee={}));const xl=(e,t,i={})=>{var n;const r=(n=i.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((s,o)=>(s[o]=sg(o,e,t,r),s),{})},sg=(e,t,i,n)=>{const r=t.find(l=>l.name===e),s=r==null?void 0:r.type,o=i[e];return s&&!n.includes(s)?zu(s,o):uo(o)},zu=(e,t)=>{if(e.charAt(0)==="_"){const i=e.slice(1,e.length);return lg(t,i)}switch(e){case Ee.bool:return rg(t);case Ee.float4:case Ee.float8:case Ee.int2:case Ee.int4:case Ee.int8:case Ee.numeric:case Ee.oid:return og(t);case Ee.json:case Ee.jsonb:return ag(t);case Ee.timestamp:return cg(t);case Ee.abstime:case Ee.date:case Ee.daterange:case Ee.int4range:case Ee.int8range:case Ee.money:case Ee.reltime:case Ee.text:case Ee.time:case Ee.timestamptz:case Ee.timetz:case Ee.tsrange:case Ee.tstzrange:return uo(t);default:return uo(t)}},uo=e=>e,rg=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},og=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},ag=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},lg=(e,t)=>{if(typeof e!="string")return e;const i=e.length-1,n=e[i];if(e[0]==="{"&&n==="}"){let s;const o=e.slice(1,i);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(l=>zu(t,l))}return e},cg=e=>typeof e=="string"?e.replace(" ","T"):e;var El;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(El||(El={}));var Tl;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes"})(Tl||(Tl={}));var Al;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Al||(Al={}));class na{constructor(t,i={config:{}},n){this.topic=t,this.params=i,this.socket=n,this.bindings={},this.state=et.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""}},i.config),this.timeout=this.socket.timeout,this.joinPush=new yr(this,pt.join,this.params,this.timeout),this.rejoinTimer=new ku(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=et.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(r=>r.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=et.closed,this.socket._remove(this)}),this._onError(r=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,r),this.state=et.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=et.errored,this.rejoinTimer.scheduleTimeout())}),this._on(pt.reply,{},(r,s)=>{this._trigger(this._replyEventName(s),r)}),this.presence=new Cn(this),this.broadcastEndpointURL=this._broadcastEndpointURL()}subscribe(t,i=this.timeout){var n,r;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:s,presence:o}}=this.params;this._onError(c=>t&&t("CHANNEL_ERROR",c)),this._onClose(()=>t&&t("CLOSED"));const l={},a={broadcast:s,presence:o,postgres_changes:(r=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(c=>c.filter))!==null&&r!==void 0?r:[]};this.socket.accessToken&&(l.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:a},l)),this.joinedOnce=!0,this._rejoin(i),this.joinPush.receive("ok",({postgres_changes:c})=>{var u;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),c===void 0){t&&t("SUBSCRIBED");return}else{const d=this.bindings.postgres_changes,h=(u=d==null?void 0:d.length)!==null&&u!==void 0?u:0,f=[];for(let p=0;p<h;p++){const m=d[p],{filter:{event:w,schema:b,table:_,filter:x}}=m,S=c&&c[p];if(S&&S.event===w&&S.schema===b&&S.table===_&&S.filter===x)f.push(Object.assign(Object.assign({},m),{id:S.id}));else{this.unsubscribe(),t&&t("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=f,t&&t("SUBSCRIBED");return}}).receive("error",c=>{t&&t("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{t&&t("TIMED_OUT")})}return this}presenceState(){return this.presence.state}async track(t,i={}){return await this.send({type:"presence",event:"track",payload:t},i.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,i,n){return this._on(t,i,n)}async send(t,i={}){var n,r;if(!this._canPush()&&t.type==="broadcast"){const{event:s,payload:o}=t,l={method:"POST",headers:{apikey:(n=this.socket.accessToken)!==null&&n!==void 0?n:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o}]})};try{return(await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=i.timeout)!==null&&r!==void 0?r:this.timeout)).ok?"ok":"error"}catch(a){return a.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,l,a;const c=this._push(t.type,t,i.timeout||this.timeout);t.type==="broadcast"&&!(!((a=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||a===void 0)&&a.ack)&&s("ok"),c.receive("ok",()=>s("ok")),c.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=et.leaving;const i=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(pt.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const r=new yr(this,pt.leave,{},t);r.receive("ok",()=>{i(),n("ok")}).receive("timeout",()=>{i(),n("timed out")}).receive("error",()=>{n("error")}),r.send(),this._canPush()||r.trigger("ok",{})})}_broadcastEndpointURL(){let t=this.socket.endPoint;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"}async _fetchWithTimeout(t,i,n){const r=new AbortController,s=setTimeout(()=>r.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},i),{signal:r.signal}));return clearTimeout(s),o}_push(t,i,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new yr(this,t,i,n);return this._canPush()?r.send():(r.startTimeout(),this.pushBuffer.push(r)),r}_onMessage(t,i,n){return i}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,i,n){var r,s;const o=t.toLocaleLowerCase(),{close:l,error:a,leave:c,join:u}=pt;if(n&&[l,a,c,u].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,i,n);if(i&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(r=this.bindings.postgres_changes)===null||r===void 0||r.filter(f=>{var p,m,w;return((p=f.filter)===null||p===void 0?void 0:p.event)==="*"||((w=(m=f.filter)===null||m===void 0?void 0:m.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===o}).map(f=>f.callback(h,n)):(s=this.bindings[o])===null||s===void 0||s.filter(f=>{var p,m,w,b,_,x;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const S=f.id,P=(p=f.filter)===null||p===void 0?void 0:p.event;return S&&((m=i.ids)===null||m===void 0?void 0:m.includes(S))&&(P==="*"||(P==null?void 0:P.toLocaleLowerCase())===((w=i.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const S=(_=(b=f==null?void 0:f.filter)===null||b===void 0?void 0:b.event)===null||_===void 0?void 0:_.toLocaleLowerCase();return S==="*"||S===((x=i==null?void 0:i.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof h=="object"&&"ids"in h){const p=h.data,{schema:m,table:w,commit_timestamp:b,type:_,errors:x}=p;h=Object.assign(Object.assign({},{schema:m,table:w,commit_timestamp:b,eventType:_,new:{},old:{},errors:x}),this._getPayloadRecords(p))}f.callback(h,n)})}_isClosed(){return this.state===et.closed}_isJoined(){return this.state===et.joined}_isJoining(){return this.state===et.joining}_isLeaving(){return this.state===et.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,i,n){const r=t.toLocaleLowerCase(),s={type:r,filter:i,callback:n};return this.bindings[r]?this.bindings[r].push(s):this.bindings[r]=[s],this}_off(t,i){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(r=>{var s;return!(((s=r.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&na.isEqual(r.filter,i))}),this}static isEqual(t,i){if(Object.keys(t).length!==Object.keys(i).length)return!1;for(const n in t)if(t[n]!==i[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(pt.close,{},t)}_onError(t){this._on(pt.error,{},i=>t(i))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=et.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const i={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(i.new=xl(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(i.old=xl(t.columns,t.old_record)),i}}const ug=()=>{};class dg{constructor(t,i){var n;this.accessToken=null,this.channels=[],this.endPoint="",this.headers=eg,this.params={},this.timeout=Iu,this.transport=Zm.w3cwebsocket,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=ug,this.conn=null,this.sendBuffer=[],this.serializer=new ng,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=s=>{let o;return s?o=s:typeof fetch>"u"?o=(...l)=>sn(()=>Promise.resolve().then(()=>Hn),void 0).then(({default:a})=>a(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${t}/${co.websocket}`,i!=null&&i.params&&(this.params=i.params),i!=null&&i.headers&&(this.headers=Object.assign(Object.assign({},this.headers),i.headers)),i!=null&&i.timeout&&(this.timeout=i.timeout),i!=null&&i.logger&&(this.logger=i.logger),i!=null&&i.transport&&(this.transport=i.transport),i!=null&&i.heartbeatIntervalMs&&(this.heartbeatIntervalMs=i.heartbeatIntervalMs);const r=(n=i==null?void 0:i.params)===null||n===void 0?void 0:n.apikey;r&&(this.accessToken=r),this.reconnectAfterMs=i!=null&&i.reconnectAfterMs?i.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=i!=null&&i.encode?i.encode:(s,o)=>o(JSON.stringify(s)),this.decode=i!=null&&i.decode?i.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new ku(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(i==null?void 0:i.fetch)}connect(){this.conn||(this.conn=new this.transport(this._endPointURL(),[],null,this.headers),this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t)))}disconnect(t,i){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,i??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const i=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),i}async removeAllChannels(){const t=await Promise.all(this.channels.map(i=>i.unsubscribe()));return this.disconnect(),t}log(t,i,n){this.logger(t,i,n)}connectionState(){switch(this.conn&&this.conn.readyState){case An.connecting:return gi.Connecting;case An.open:return gi.Open;case An.closing:return gi.Closing;default:return gi.Closed}}isConnected(){return this.connectionState()===gi.Open}channel(t,i={config:{}}){const n=new na(`realtime:${t}`,i,this);return this.channels.push(n),n}push(t){const{topic:i,event:n,payload:r,ref:s}=t,o=()=>{this.encode(t,l=>{var a;(a=this.conn)===null||a===void 0||a.send(l)})};this.log("push",`${i} ${n} (${s})`,r),this.isConnected()?o():this.sendBuffer.push(o)}setAuth(t){this.accessToken=t,this.channels.forEach(i=>{t&&i.updateJoinPayload({access_token:t}),i.joinedOnce&&i._isJoined()&&i._push(pt.access_token,{access_token:t})})}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let i=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));i&&(this.log("transport",`leaving duplicate topic "${t}"`),i.unsubscribe())}_remove(t){this.channels=this.channels.filter(i=>i._joinRef()!==t._joinRef())}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:tg}))}_onConnMessage(t){this.decode(t.data,i=>{let{topic:n,event:r,payload:s,ref:o}=i;(o&&o===this.pendingHeartbeatRef||r===(s==null?void 0:s.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${n} ${r} ${o&&"("+o+")"||""}`,s),this.channels.filter(l=>l._isMember(n)).forEach(l=>l._trigger(r,s,o)),this.stateChangeCallbacks.message.forEach(l=>l(i))})}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(i=>i(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(i=>i(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(pt.error))}_appendParams(t,i){if(Object.keys(i).length===0)return t;const n=t.match(/\?/)?"&":"?",r=new URLSearchParams(i);return`${t}${n}${r}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(ig,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}}class sa extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ve(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class hg extends sa{constructor(t,i){super(t),this.name="StorageApiError",this.status=i}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Cl extends sa{constructor(t,i){super(t),this.name="StorageUnknownError",this.originalError=i}}var fg=globalThis&&globalThis.__awaiter||function(e,t,i,n){function r(s){return s instanceof i?s:new i(function(o){o(s)})}return new(i||(i=Promise))(function(s,o){function l(u){try{c(n.next(u))}catch(d){o(d)}}function a(u){try{c(n.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):r(u.value).then(l,a)}c((n=n.apply(e,t||[])).next())})};const Lu=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...i)=>sn(()=>Promise.resolve().then(()=>Hn),void 0).then(({default:n})=>n(...i)):t=fetch,(...i)=>t(...i)},pg=()=>fg(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield sn(()=>Promise.resolve().then(()=>Hn),void 0)).Response:Response});var rn=globalThis&&globalThis.__awaiter||function(e,t,i,n){function r(s){return s instanceof i?s:new i(function(o){o(s)})}return new(i||(i=Promise))(function(s,o){function l(u){try{c(n.next(u))}catch(d){o(d)}}function a(u){try{c(n.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):r(u.value).then(l,a)}c((n=n.apply(e,t||[])).next())})};const _r=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),mg=(e,t)=>rn(void 0,void 0,void 0,function*(){const i=yield pg();e instanceof i?e.json().then(n=>{t(new hg(_r(n),e.status||500))}).catch(n=>{t(new Cl(_r(n),n))}):t(new Cl(_r(e),e))}),gg=(e,t,i,n)=>{const r={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r.body=JSON.stringify(n),Object.assign(Object.assign({},r),i))};function Zs(e,t,i,n,r,s){return rn(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(i,gg(t,n,r,s)).then(a=>{if(!a.ok)throw a;return n!=null&&n.noResolveJson?a:a.json()}).then(a=>o(a)).catch(a=>mg(a,l))})})}function ho(e,t,i,n){return rn(this,void 0,void 0,function*(){return Zs(e,"GET",t,i,n)})}function Zt(e,t,i,n,r){return rn(this,void 0,void 0,function*(){return Zs(e,"POST",t,n,r,i)})}function vg(e,t,i,n,r){return rn(this,void 0,void 0,function*(){return Zs(e,"PUT",t,n,r,i)})}function ju(e,t,i,n,r){return rn(this,void 0,void 0,function*(){return Zs(e,"DELETE",t,n,r,i)})}var ot=globalThis&&globalThis.__awaiter||function(e,t,i,n){function r(s){return s instanceof i?s:new i(function(o){o(s)})}return new(i||(i=Promise))(function(s,o){function l(u){try{c(n.next(u))}catch(d){o(d)}}function a(u){try{c(n.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):r(u.value).then(l,a)}c((n=n.apply(e,t||[])).next())})};const wg={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Rl={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class bg{constructor(t,i={},n,r){this.url=t,this.headers=i,this.bucketId=n,this.fetch=Lu(r)}uploadOrUpdate(t,i,n,r){return ot(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},Rl),r),l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.append("cacheControl",o.cacheControl)):(s=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType);const a=this._removeEmptyFolders(i),c=this._getFinalPath(a),u=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:t,body:s,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return u.ok?{data:{path:a},error:null}:{data:null,error:yield u.json()}}catch(s){if(Ve(s))return{data:null,error:s};throw s}})}upload(t,i,n){return ot(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,i,n)})}uploadToSignedUrl(t,i,n,r){return ot(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),o=this._getFinalPath(s),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",i);try{let a;const c=Object.assign({upsert:Rl.upsert},r),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",c.cacheControl),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",c.cacheControl)):(a=n,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const d=yield this.fetch(l.toString(),{method:"PUT",body:a,headers:u});return d.ok?{data:{path:s},error:null}:{data:null,error:yield d.json()}}catch(a){if(Ve(a))return{data:null,error:a};throw a}})}createSignedUploadUrl(t){return ot(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t);const n=yield Zt(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:this.headers}),r=new URL(this.url+n.url),s=r.searchParams.get("token");if(!s)throw new sa("No token returned by API");return{data:{signedUrl:r.toString(),path:t,token:s},error:null}}catch(i){if(Ve(i))return{data:null,error:i};throw i}})}update(t,i,n){return ot(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,i,n)})}move(t,i){return ot(this,void 0,void 0,function*(){try{return{data:yield Zt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:i},{headers:this.headers}),error:null}}catch(n){if(Ve(n))return{data:null,error:n};throw n}})}copy(t,i){return ot(this,void 0,void 0,function*(){try{return{data:{path:(yield Zt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:i},{headers:this.headers})).Key},error:null}}catch(n){if(Ve(n))return{data:null,error:n};throw n}})}createSignedUrl(t,i,n){return ot(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t),s=yield Zt(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:i},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(r){if(Ve(r))return{data:null,error:r};throw r}})}createSignedUrls(t,i,n){return ot(this,void 0,void 0,function*(){try{const r=yield Zt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:i,paths:t},{headers:this.headers}),s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:r.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(r){if(Ve(r))return{data:null,error:r};throw r}})}download(t,i){return ot(this,void 0,void 0,function*(){const r=typeof(i==null?void 0:i.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((i==null?void 0:i.transform)||{}),o=s?`?${s}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield ho(this.fetch,`${this.url}/${r}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(Ve(l))return{data:null,error:l};throw l}})}getPublicUrl(t,i){const n=this._getFinalPath(t),r=[],s=i!=null&&i.download?`download=${i.download===!0?"":i.download}`:"";s!==""&&r.push(s);const l=typeof(i==null?void 0:i.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((i==null?void 0:i.transform)||{});a!==""&&r.push(a);let c=r.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${c}`)}}}remove(t){return ot(this,void 0,void 0,function*(){try{return{data:yield ju(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(i){if(Ve(i))return{data:null,error:i};throw i}})}list(t,i,n){return ot(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},wg),i),{prefix:t||""});return{data:yield Zt(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(Ve(r))return{data:null,error:r};throw r}})}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const i=[];return t.width&&i.push(`width=${t.width}`),t.height&&i.push(`height=${t.height}`),t.resize&&i.push(`resize=${t.resize}`),t.format&&i.push(`format=${t.format}`),t.quality&&i.push(`quality=${t.quality}`),i.join("&")}}const yg="2.5.4",_g={"X-Client-Info":`storage-js/${yg}`};var Mi=globalThis&&globalThis.__awaiter||function(e,t,i,n){function r(s){return s instanceof i?s:new i(function(o){o(s)})}return new(i||(i=Promise))(function(s,o){function l(u){try{c(n.next(u))}catch(d){o(d)}}function a(u){try{c(n.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):r(u.value).then(l,a)}c((n=n.apply(e,t||[])).next())})};class Sg{constructor(t,i={},n){this.url=t,this.headers=Object.assign(Object.assign({},_g),i),this.fetch=Lu(n)}listBuckets(){return Mi(this,void 0,void 0,function*(){try{return{data:yield ho(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Ve(t))return{data:null,error:t};throw t}})}getBucket(t){return Mi(this,void 0,void 0,function*(){try{return{data:yield ho(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(i){if(Ve(i))return{data:null,error:i};throw i}})}createBucket(t,i={public:!1}){return Mi(this,void 0,void 0,function*(){try{return{data:yield Zt(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Ve(n))return{data:null,error:n};throw n}})}updateBucket(t,i){return Mi(this,void 0,void 0,function*(){try{return{data:yield vg(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Ve(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Mi(this,void 0,void 0,function*(){try{return{data:yield Zt(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(i){if(Ve(i))return{data:null,error:i};throw i}})}deleteBucket(t){return Mi(this,void 0,void 0,function*(){try{return{data:yield ju(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(i){if(Ve(i))return{data:null,error:i};throw i}})}}class xg extends Sg{constructor(t,i={},n){super(t,i,n)}from(t){return new bg(this.url,this.headers,t,this.fetch)}}const Eg="2.38.4";let vn="";typeof Deno<"u"?vn="deno":typeof document<"u"?vn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?vn="react-native":vn="node";const Tg={"X-Client-Info":`supabase-js-${vn}/${Eg}`};var Ag=globalThis&&globalThis.__awaiter||function(e,t,i,n){function r(s){return s instanceof i?s:new i(function(o){o(s)})}return new(i||(i=Promise))(function(s,o){function l(u){try{c(n.next(u))}catch(d){o(d)}}function a(u){try{c(n.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):r(u.value).then(l,a)}c((n=n.apply(e,t||[])).next())})};const Cg=e=>{let t;return e?t=e:typeof fetch>"u"?t=ta:t=fetch,(...i)=>t(...i)},Rg=()=>typeof Headers>"u"?ea.Headers:Headers,Og=(e,t,i)=>{const n=Cg(i),r=Rg();return(s,o)=>Ag(void 0,void 0,void 0,function*(){var l;const a=(l=yield t())!==null&&l!==void 0?l:e;let c=new r(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${a}`),n(s,Object.assign(Object.assign({},o),{headers:c}))})};function Pg(e){return e.replace(/\/$/,"")}function Mg(e,t){const{db:i,auth:n,realtime:r,global:s}=e,{db:o,auth:l,realtime:a,global:c}=t;return{db:Object.assign(Object.assign({},o),i),auth:Object.assign(Object.assign({},l),n),realtime:Object.assign(Object.assign({},a),r),global:Object.assign(Object.assign({},c),s)}}function $g(e){return Math.round(Date.now()/1e3)+e}function Ig(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Lt=()=>typeof document<"u",di={tested:!1,writable:!1},Rn=()=>{if(!Lt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(di.tested)return di.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),di.tested=!0,di.writable=!0}catch{di.tested=!0,di.writable=!1}return di.writable};function Sr(e){const t={},i=new URL(e);if(i.hash&&i.hash[0]==="#")try{new URLSearchParams(i.hash.substring(1)).forEach((r,s)=>{t[s]=r})}catch{}return i.searchParams.forEach((n,r)=>{t[r]=n}),t}const Du=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...i)=>sn(()=>Promise.resolve().then(()=>Hn),void 0).then(({default:n})=>n(...i)):t=fetch,(...i)=>t(...i)},kg=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",hi=async(e,t,i)=>{await e.setItem(t,JSON.stringify(i))},ts=async(e,t)=>{const i=await e.getItem(t);if(!i)return null;try{return JSON.parse(i)}catch{return i}},xr=async(e,t)=>{await e.removeItem(t)};function zg(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let i="",n,r,s,o,l,a,c,u=0;for(e=e.replace("-","+").replace("_","/");u<e.length;)o=t.indexOf(e.charAt(u++)),l=t.indexOf(e.charAt(u++)),a=t.indexOf(e.charAt(u++)),c=t.indexOf(e.charAt(u++)),n=o<<2|l>>4,r=(l&15)<<4|a>>2,s=(a&3)<<6|c,i=i+String.fromCharCode(n),a!=64&&r!=0&&(i=i+String.fromCharCode(r)),c!=64&&s!=0&&(i=i+String.fromCharCode(s));return i}class Qs{constructor(){this.promise=new Qs.promiseConstructor((t,i)=>{this.resolve=t,this.reject=i})}}Qs.promiseConstructor=Promise;function Ol(e){const t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,i=e.split(".");if(i.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(i[1]))throw new Error("JWT is not valid: payload is not in base64url format");const n=i[1];return JSON.parse(zg(n))}async function Lg(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function jg(e,t){return new Promise((n,r)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await e(s);if(!t(s,null,o)){n(o);return}}catch(o){if(!t(s,o)){r(o);return}}})()})}function Dg(e){return("0"+e.toString(16)).substr(-2)}function $i(){const t=new Uint32Array(56);if(typeof crypto>"u"){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=i.length;let r="";for(let s=0;s<56;s++)r+=i.charAt(Math.floor(Math.random()*n));return r}return crypto.getRandomValues(t),Array.from(t,Dg).join("")}async function Ng(e){const i=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",i),r=new Uint8Array(n);return Array.from(r).map(s=>String.fromCharCode(s)).join("")}function Bg(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ii(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const i=await Ng(e);return Bg(i)}class ra extends Error{constructor(t,i){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=i}}function de(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Fg extends ra{constructor(t,i){super(t,i),this.name="AuthApiError",this.status=i}toJSON(){return{name:this.name,message:this.message,status:this.status}}}function Ug(e){return de(e)&&e.name==="AuthApiError"}class Nu extends ra{constructor(t,i){super(t),this.name="AuthUnknownError",this.originalError=i}}class on extends ra{constructor(t,i,n){super(t),this.name=i,this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class ki extends on{constructor(){super("Auth session missing!","AuthSessionMissingError",400)}}class Er extends on{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500)}}class is extends on{constructor(t){super(t,"AuthInvalidCredentialsError",400)}}class ns extends on{constructor(t,i=null){super(t,"AuthImplicitGrantRedirectError",500),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Pl extends on{constructor(t,i=null){super(t,"AuthPKCEGrantCodeExchangeError",500),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class fo extends on{constructor(t,i){super(t,"AuthRetryableFetchError",i)}}function Ml(e){return de(e)&&e.name==="AuthRetryableFetchError"}var Hg=globalThis&&globalThis.__rest||function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(i[n[r]]=e[n[r]]);return i};const wn=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Wg=[502,503,504];async function $l(e){if(!kg(e))throw new fo(wn(e),0);if(Wg.includes(e.status))throw new fo(wn(e),e.status);let t;try{t=await e.json()}catch(i){throw new Nu(wn(i),i)}throw new Fg(wn(t),e.status||500)}const Vg=(e,t,i,n)=>{const r={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),r.body=JSON.stringify(n),Object.assign(Object.assign({},r),i))};async function me(e,t,i,n){var r;const s=Object.assign({},n==null?void 0:n.headers);n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const o=(r=n==null?void 0:n.query)!==null&&r!==void 0?r:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",a=await qg(e,t,i+l,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(a):{data:Object.assign({},a),error:null}}async function qg(e,t,i,n,r,s){const o=Vg(t,n,r,s);let l;try{l=await e(i,o)}catch(a){throw console.error(a),new fo(wn(a),0)}if(l.ok||await $l(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(a){await $l(a)}}function Gt(e){var t;let i=null;Yg(e)&&(i=Object.assign({},e),e.expires_at||(i.expires_at=$g(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:i,user:n},error:null}}function Qt(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Gg(e){return{data:e,error:null}}function Kg(e){const{action_link:t,email_otp:i,hashed_token:n,redirect_to:r,verification_type:s}=e,o=Hg(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:i,hashed_token:n,redirect_to:r,verification_type:s},a=Object.assign({},o);return{data:{properties:l,user:a},error:null}}function Jg(e){return e}function Yg(e){return e.access_token&&e.refresh_token&&e.expires_in}var Xg=globalThis&&globalThis.__rest||function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(i[n[r]]=e[n[r]]);return i};class Zg{constructor({url:t="",headers:i={},fetch:n}){this.url=t,this.headers=i,this.fetch=Du(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,i="global"){try{return await me(this.fetch,"POST",`${this.url}/logout?scope=${i}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(de(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,i={}){try{return await me(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:i.data},headers:this.headers,redirectTo:i.redirectTo,xform:Qt})}catch(n){if(de(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:i}=t,n=Xg(t,["options"]),r=Object.assign(Object.assign({},n),i);return"newEmail"in n&&(r.new_email=n==null?void 0:n.newEmail,delete r.newEmail),await me(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:Kg,redirectTo:i==null?void 0:i.redirectTo})}catch(i){if(de(i))return{data:{properties:null,user:null},error:i};throw i}}async createUser(t){try{return await me(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Qt})}catch(i){if(de(i))return{data:{user:null},error:i};throw i}}async listUsers(t){var i,n,r,s,o,l,a;try{const c={nextPage:null,lastPage:0,total:0},u=await me(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(i=t==null?void 0:t.page)===null||i===void 0?void 0:i.toString())!==null&&n!==void 0?n:"",per_page:(s=(r=t==null?void 0:t.perPage)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:""},xform:Jg});if(u.error)throw u.error;const d=await u.json(),h=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(a=(l=u.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&a!==void 0?a:[];return f.length>0&&(f.forEach(p=>{const m=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(p.split(";")[1].split("=")[1]);c[`${w}Page`]=m}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(de(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){try{return await me(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Qt})}catch(i){if(de(i))return{data:{user:null},error:i};throw i}}async updateUserById(t,i){try{return await me(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:i,headers:this.headers,xform:Qt})}catch(n){if(de(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,i=!1){try{return await me(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:i},xform:Qt})}catch(n){if(de(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){try{const{data:i,error:n}=await me(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:r=>({data:{factors:r},error:null})});return{data:i,error:n}}catch(i){if(de(i))return{data:null,error:i};throw i}}async _deleteFactor(t){try{return{data:await me(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(i){if(de(i))return{data:null,error:i};throw i}}}const Bu="2.57.0",Qg="http://localhost:9999",ev="supabase.auth.token",tv={"X-Client-Info":`gotrue-js/${Bu}`},Il=10,iv={getItem:e=>Rn()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Rn()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Rn()&&globalThis.localStorage.removeItem(e)}};function kl(e={}){return{getItem:t=>e[t]||null,setItem:(t,i)=>{e[t]=i},removeItem:t=>{delete e[t]}}}function nv(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}globalThis&&Rn()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug");class sv extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}nv();const rv={url:Qg,storageKey:ev,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:tv,flowType:"implicit",debug:!1},fn=30*1e3,zl=3;async function ov(e,t,i){return await i()}class Dn{constructor(t){var i;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Dn.nextInstanceID,Dn.nextInstanceID+=1,this.instanceID>0&&Lt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},rv),t);if(this.logDebugMessages=!!n.debug,typeof n.debug=="function"&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new Zg({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=Du(n.fetch),this.lock=n.lock||ov,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?n.storage?this.storage=n.storage:Rn()?this.storage=iv:(this.memoryStorage={},this.storage=kl(this.memoryStorage)):(this.memoryStorage={},this.storage=kl(this.memoryStorage)),Lt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(r){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",r)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async r=>{this._debug("received broadcast notification from other tab or client",r),await this._notifyAllSubscribers(r.data.event,r.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Bu}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){try{const t=Lt()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",t),t||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:i,error:n}=await this._getSessionFromURL(t);if(n)return this._debug("#_initialize()","error detecting session from URL",n),await this._removeSession(),{error:n};const{session:r,redirectType:s}=i;return this._debug("#_initialize()","detected session in URL",r,"redirect type",s),await this._saveSession(r),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",r):await this._notifyAllSubscribers("SIGNED_IN",r)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return de(t)?{error:t}:{error:new Nu("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signUp(t){var i,n,r;try{await this._removeSession();let s;if("email"in t){const{email:u,password:d,options:h}=t;let f=null,p=null;if(this.flowType==="pkce"){const m=$i();await hi(this.storage,`${this.storageKey}-code-verifier`,m),f=await Ii(m),p=m===f?"plain":"s256"}s=await me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:u,password:d,data:(i=h==null?void 0:h.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:f,code_challenge_method:p},xform:Gt})}else if("phone"in t){const{phone:u,password:d,options:h}=t;s=await me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(r=h==null?void 0:h.channel)!==null&&r!==void 0?r:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Gt})}else throw new is("You must provide either an email or phone number and a password");const{data:o,error:l}=s;if(l||!o)return{data:{user:null,session:null},error:l};const a=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:c,session:a},error:null}}catch(s){if(de(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(t){try{await this._removeSession();let i;if("email"in t){const{email:s,password:o,options:l}=t;i=await me(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Gt})}else if("phone"in t){const{phone:s,password:o,options:l}=t;i=await me(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Gt})}else throw new is("You must provide either an email or phone number and a password");const{data:n,error:r}=i;return r?{data:{user:null,session:null},error:r}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Er}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:{user:n.user,session:n.session},error:r})}catch(i){if(de(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithOAuth(t){var i,n,r,s;return await this._removeSession(),await this._handleProviderSignIn(t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(r=t.options)===null||r===void 0?void 0:r.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const i=await ts(this.storage,`${this.storageKey}-code-verifier`),{data:n,error:r}=await me(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:i},xform:Gt});return await xr(this.storage,`${this.storageKey}-code-verifier`),r?{data:{user:null,session:null},error:r}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Er}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:n,error:r})}async signInWithIdToken(t){await this._removeSession();try{const{options:i,provider:n,token:r,access_token:s,nonce:o}=t,l=await me(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:r,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:Gt}),{data:a,error:c}=l;return c?{data:{user:null,session:null},error:c}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new Er}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:a,error:c})}catch(i){if(de(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithOtp(t){var i,n,r,s,o;try{if(await this._removeSession(),"email"in t){const{email:l,options:a}=t;let c=null,u=null;if(this.flowType==="pkce"){const h=$i();await hi(this.storage,`${this.storageKey}-code-verifier`,h),c=await Ii(h),u=h===c?"plain":"s256"}const{error:d}=await me(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(i=a==null?void 0:a.data)!==null&&i!==void 0?i:{},create_user:(n=a==null?void 0:a.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in t){const{phone:l,options:a}=t,{data:c,error:u}=await me(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(r=a==null?void 0:a.data)!==null&&r!==void 0?r:{},create_user:(s=a==null?void 0:a.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken},channel:(o=a==null?void 0:a.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new is("You must provide either an email or phone number.")}catch(l){if(de(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var i,n;try{t.type!=="email_change"&&t.type!=="phone_change"&&await this._removeSession();let r,s;"options"in t&&(r=(i=t.options)===null||i===void 0?void 0:i.redirectTo,s=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await me(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:r,xform:Gt});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const a=o.session,c=o.user;return a!=null&&a.access_token&&(await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:c,session:a},error:null}}catch(r){if(de(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithSSO(t){var i,n,r;try{await this._removeSession();let s=null,o=null;if(this.flowType==="pkce"){const l=$i();await hi(this.storage,`${this.storageKey}-code-verifier`,l),s=await Ii(l),o=l===s?"plain":"s256"}return await me(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(i=t.options)===null||i===void 0?void 0:i.redirectTo)!==null&&n!==void 0?n:void 0}),!((r=t==null?void 0:t.options)===null||r===void 0)&&r.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:Gg})}catch(s){if(de(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:i},error:n}=t;if(n)throw n;if(!i)throw new ki;const{error:r}=await me(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:i.access_token});return{data:{user:null,session:null},error:r}})}catch(t){if(de(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{t.type!="email_change"&&t.type!="phone_change"&&await this._removeSession();const i=`${this.url}/resend`;if("email"in t){const{email:n,type:r,options:s}=t,{error:o}=await me(this.fetch,"POST",i,{headers:this.headers,body:{email:n,type:r,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:r,options:s}=t,{data:o,error:l}=await me(this.fetch,"POST",i,{headers:this.headers,body:{phone:n,type:r,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new is("You must provide either an email or phone number and a type")}catch(i){if(de(i))return{data:{user:null,session:null},error:i};throw i}}async getSession(){return await this.initializePromise,this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(t,i){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await n,await i()))();return this.pendingInLock.push((async()=>{try{await r}catch{}})()),r}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=i();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const r=[...this.pendingInLock];await Promise.all(r),this.pendingInLock.splice(0,r.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const i=await this.__loadSession();return await t(i)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const i=await ts(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",i),i!==null&&(this._isValidSession(i)?t=i:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n)return{data:{session:t},error:null};const{session:r,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await me(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Qt}):await this._useSession(async i=>{var n,r;const{data:s,error:o}=i;if(o)throw o;return await me(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(r=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&r!==void 0?r:void 0,xform:Qt})})}catch(i){if(de(i))return{data:{user:null},error:i};throw i}}async updateUser(t,i={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,i))}async _updateUser(t,i={}){try{return await this._useSession(async n=>{const{data:r,error:s}=n;if(s)throw s;if(!r.session)throw new ki;const o=r.session;let l=null,a=null;if(this.flowType==="pkce"&&t.email!=null){const d=$i();await hi(this.storage,`${this.storageKey}-code-verifier`,d),l=await Ii(d),a=d===l?"plain":"s256"}const{data:c,error:u}=await me(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:i==null?void 0:i.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:a}),jwt:o.access_token,xform:Qt});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(de(n))return{data:{user:null},error:n};throw n}}_decodeJWT(t){return Ol(t)}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ki;const i=Date.now()/1e3;let n=i,r=!0,s=null;const o=Ol(t.access_token);if(o.exp&&(n=o.exp,r=n<=i),r){const{session:l,error:a}=await this._callRefreshToken(t.refresh_token);if(a)return{data:{user:null,session:null},error:a};if(!l)return{data:{user:null,session:null},error:null};s=l}else{const{data:l,error:a}=await this._getUser(t.access_token);if(a)throw a;s={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-i,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(i){if(de(i))return{data:{session:null,user:null},error:i};throw i}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async i=>{var n;if(!t){const{data:o,error:l}=i;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new ki;const{session:r,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}})}catch(i){if(de(i))return{data:{user:null,session:null},error:i};throw i}}async _getSessionFromURL(t){try{if(!Lt())throw new ns("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new ns("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!t)throw new Pl("Not a valid PKCE flow url.");const i=Sr(window.location.href);if(t){if(!i.code)throw new Pl("No code detected.");const{data:_,error:x}=await this._exchangeCodeForSession(i.code);if(x)throw x;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:_.session,redirectType:null},error:null}}if(i.error||i.error_description||i.error_code)throw new ns(i.error_description||"Error in URL with unspecified error_description",{error:i.error||"unspecified_error",code:i.error_code||"unspecified_code"});const{provider_token:n,provider_refresh_token:r,access_token:s,refresh_token:o,expires_in:l,expires_at:a,token_type:c}=i;if(!s||!l||!o||!c)throw new ns("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(l);let h=u+d;a&&(h=parseInt(a));const f=h-u;f*1e3<=fn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${d}s`);const p=h-d;u-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,h,u):u-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clok for skew",p,h,u);const{data:m,error:w}=await this._getUser(s);if(w)throw w;const b={provider_token:n,provider_refresh_token:r,access_token:s,expires_in:d,expires_at:h,refresh_token:o,token_type:c,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:b,redirectType:i.type},error:null}}catch(i){if(de(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantFlow(){const t=Sr(window.location.href);return!!(Lt()&&(t.access_token||t.error_description))}async _isPKCEFlow(){const t=Sr(window.location.href),i=await ts(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&i)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async i=>{var n;const{data:r,error:s}=i;if(s)return{error:s};const o=(n=r.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(Ug(l)&&(l.status===404||l.status===401)))return{error:l}}return t!=="others"&&(await this._removeSession(),await xr(this.storage,`${this.storageKey}-code-verifier`),await this._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}})}onAuthStateChange(t){const i=Ig(),n={id:i,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",i),this.stateChangeEmitters.delete(i)}};return this._debug("#onAuthStateChange()","registered callback with id",i),this.stateChangeEmitters.set(i,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(i)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async i=>{var n,r;try{const{data:{session:s},error:o}=i;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,i={}){let n=null,r=null;if(this.flowType==="pkce"){const s=$i();await hi(this.storage,`${this.storageKey}-code-verifier`,s),n=await Ii(s),r=s===n?"plain":"s256"}try{return await me(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:r,gotrue_meta_security:{captcha_token:i.captchaToken}},headers:this.headers,redirectTo:i.redirectTo})}catch(s){if(de(s))return{data:null,error:s};throw s}}async _refreshAccessToken(t){const i=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{const n=Date.now();return await jg(async r=>(await Lg(r*200),this._debug(i,"refreshing attempt",r),await me(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Gt})),(r,s,o)=>o&&o.error&&Ml(o.error)&&Date.now()+(r+1)*200-n<fn)}catch(n){if(this._debug(i,"error",n),de(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(i,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,i){const n=await this._getUrlForProvider(t,{redirectTo:i.redirectTo,scopes:i.scopes,queryParams:i.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",i,"url",n),Lt()&&!i.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const n=await ts(this.storage,this.storageKey);if(this._debug(i,"session from storage",n),!this._isValidSession(n)){this._debug(i,"session is not valid"),n!==null&&await this._removeSession();return}const r=Math.round(Date.now()/1e3),s=((t=n.expires_at)!==null&&t!==void 0?t:1/0)<r+Il;if(this._debug(i,`session has${s?"":" not"} expired with margin of ${Il}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:o}=await this._callRefreshToken(n.refresh_token);o&&(console.error(o),Ml(o)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(i,"error",n),console.error(n);return}finally{this._debug(i,"end")}}async _callRefreshToken(t){var i,n;if(!t)throw new ki;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new Qs;const{data:s,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!s.session)throw new ki;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const l={session:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(r,"error",s),de(s)){const o={session:null,error:s};return(i=this.refreshingDeferred)===null||i===void 0||i.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(t,i,n=!0){const r=`#_notifyAllSubscribers(${t})`;this._debug(r,"begin",i,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:i});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,i)}catch(a){s.push(a)}});if(await Promise.all(o),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(r,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),await this._persistSession(t)}_persistSession(t){return this._debug("#_persistSession()",t),hi(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await xr(this.storage,this.storageKey)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Lt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(i){console.error("removing visibilitychange callback failed",i)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),fn);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async i=>{const{data:{session:n}}=i;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const r=Math.floor((n.expires_at*1e3-t)/fn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts ${fn}ms, refresh threshold is ${zl} ticks`),r<=zl&&await this._callRefreshToken(n.refresh_token)})}catch(i){console.error("Auto refresh tick failed with error. This is likely a transient error.",i)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof sv)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Lt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const i=`#_onVisibilityChanged(${t})`;this._debug(i,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(i,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,i){const n=[`provider=${encodeURIComponent(t)}`];if(i!=null&&i.redirectTo&&n.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i!=null&&i.scopes&&n.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const r=$i();await hi(this.storage,`${this.storageKey}-code-verifier`,r);const s=await Ii(r),o=r===s?"plain":"s256";this._debug("PKCE","code verifier",`${r.substring(0,5)}...`,"code challenge",s,"method",o);const l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});n.push(l.toString())}if(i!=null&&i.queryParams){const r=new URLSearchParams(i.queryParams);n.push(r.toString())}return`${this.url}/authorize?${n.join("&")}`}async _unenroll(t){try{return await this._useSession(async i=>{var n;const{data:r,error:s}=i;return s?{data:null,error:s}:await me(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=r==null?void 0:r.session)===null||n===void 0?void 0:n.access_token})})}catch(i){if(de(i))return{data:null,error:i};throw i}}async _enroll(t){try{return await this._useSession(async i=>{var n,r;const{data:s,error:o}=i;if(o)return{data:null,error:o};const{data:l,error:a}=await me(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:t.friendlyName,factor_type:t.factorType,issuer:t.issuer},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return a?{data:null,error:a}:(!((r=l==null?void 0:l.totp)===null||r===void 0)&&r.qr_code&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(i){if(de(i))return{data:null,error:i};throw i}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var n;const{data:r,error:s}=i;if(s)return{data:null,error:s};const{data:o,error:l}=await me(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=r==null?void 0:r.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(i){if(de(i))return{data:null,error:i};throw i}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var n;const{data:r,error:s}=i;return s?{data:null,error:s}:await me(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{headers:this.headers,jwt:(n=r==null?void 0:r.session)===null||n===void 0?void 0:n.access_token})})}catch(i){if(de(i))return{data:null,error:i};throw i}})}async _challengeAndVerify(t){const{data:i,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:i.id,code:t.code})}async _listFactors(){const{data:{user:t},error:i}=await this.getUser();if(i)return{data:null,error:i};const n=(t==null?void 0:t.factors)||[],r=n.filter(s=>s.factor_type==="totp"&&s.status==="verified");return{data:{all:n,totp:r},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var i,n;const{data:{session:r},error:s}=t;if(s)return{data:null,error:s};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(r.access_token);let l=null;o.aal&&(l=o.aal);let a=l;((n=(i=r.user.factors)===null||i===void 0?void 0:i.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(a="aal2");const u=o.amr||[];return{data:{currentLevel:l,nextLevel:a,currentAuthenticationMethods:u},error:null}}))}}Dn.nextInstanceID=0;class av extends Dn{constructor(t){super(t)}}var lv=globalThis&&globalThis.__awaiter||function(e,t,i,n){function r(s){return s instanceof i?s:new i(function(o){o(s)})}return new(i||(i=Promise))(function(s,o){function l(u){try{c(n.next(u))}catch(d){o(d)}}function a(u){try{c(n.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):r(u.value).then(l,a)}c((n=n.apply(e,t||[])).next())})};const cv={headers:Tg},uv={schema:"public"},dv={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},hv={};class fv{constructor(t,i,n){var r,s,o,l,a,c,u,d;if(this.supabaseUrl=t,this.supabaseKey=i,!t)throw new Error("supabaseUrl is required.");if(!i)throw new Error("supabaseKey is required.");const h=Pg(t);this.realtimeUrl=`${h}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${h}/auth/v1`,this.storageUrl=`${h}/storage/v1`,this.functionsUrl=`${h}/functions/v1`;const f=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,p={db:uv,realtime:hv,auth:Object.assign(Object.assign({},dv),{storageKey:f}),global:cv},m=Mg(n??{},p);this.storageKey=(s=(r=m.auth)===null||r===void 0?void 0:r.storageKey)!==null&&s!==void 0?s:"",this.headers=(l=(o=m.global)===null||o===void 0?void 0:o.headers)!==null&&l!==void 0?l:{},this.auth=this._initSupabaseAuthClient((a=m.auth)!==null&&a!==void 0?a:{},this.headers,(c=m.global)===null||c===void 0?void 0:c.fetch),this.fetch=Og(i,this._getAccessToken.bind(this),(u=m.global)===null||u===void 0?void 0:u.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},m.realtime)),this.rest=new ia(`${h}/rest/v1`,{headers:this.headers,schema:(d=m.db)===null||d===void 0?void 0:d.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new Em(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new xg(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,i={},n){return this.rest.rpc(t,i,n)}channel(t,i={config:{}}){return this.realtime.channel(t,i)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,i;return lv(this,void 0,void 0,function*(){const{data:n}=yield this.auth.getSession();return(i=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&i!==void 0?i:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:i,detectSessionInUrl:n,storage:r,storageKey:s,flowType:o,debug:l},a,c){const u={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new av({url:this.authUrl,headers:Object.assign(Object.assign({},u),a),storageKey:s,autoRefreshToken:t,persistSession:i,detectSessionInUrl:n,storage:r,flowType:o,debug:l,fetch:c})}_initRealtimeClient(t){return new dg(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((i,n)=>{this._handleTokenChanged(i,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,i,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.realtime.setAuth(n??null),this.changedAccessToken=n):t==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),i=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const pv=(e,t,i)=>new fv(e,t,i),mv="https://ivpfaitqeojbyulslqde.supabase.co",gv="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Iml2cGZhaXRxZW9qYnl1bHNscWRlIiwicm9sZSI6ImFub24iLCJpYXQiOjE2OTg0OTIxNTcsImV4cCI6MjAxNDA2ODE1N30.UEynD52D7x8N0k3B22XxLwrbAXzLeggcZu57F1Rv20U",ke=pv(mv,gv),Ti=pp("animestore",()=>{const e=se(null),t=se(!1),i=se(!1),n=se([]),r=se([]),s=se(20),o=se(1);bt(e,()=>{e.value&&(i.value=!1)});const l=async(h,f)=>{if(!h&&!f)return;const{data:p,error:m}=await ke.auth.signInWithPassword({email:h,password:f});if(m&&console.log("Неправильный логин или пароль"),!p.user)return;const{data:w}=await ke.from("users").select().eq("email",h).single();e.value={id:w.id,name:w.name,email:w.email,avatar_url:w.avatar_url}},a=async h=>{const{name:f,email:p,password:m}=h,{data:w}=await ke.from("users").select().eq("email",p).single();if(w)return console.log("Такая почта уже зарегистрирована");const{error:b}=await ke.auth.signUp({email:p,password:m});if(b)return console.error(b);await ke.from("users").insert({name:f,email:p});const{data:_}=await ke.from("users").select().eq("email",p).single();return e.value=_},c=async()=>{if((await ke.auth.getSession()).data.session===null)return;const{data:f,error:p}=await ke.auth.getUser(),{data:m}=await ke.from("users").select().eq("email",f.user.email).single();if(e.value={id:m.id,name:m.name,email:m.email,avatar_url:m.avatar_url},p)return console.error(p)};return ke.channel("users").on("postgres_changes",{event:"*",schema:"public",table:"users"},h=>{e.value={id:h.new.id,name:h.new.name,email:h.new.email,avatar_url:h.new.avatar_url}}).subscribe(),{login:l,registerUser:a,user:e,getUser:c,logout:async()=>{await ke.auth.signOut(),e.value=null},recoverPassword:async h=>{console.log(h);const{error:f}=await ke.auth.resetPasswordForEmail(h);if(f)return console.error(f)},modal:t,authRegModal:i,aniList:n,animeCount:s,animePage:o,searchedAnime:r}}),vv="https://api.anilibria.tv/v3/title/updates?page=",wv="https://api.anilibria.tv/v3/title?id=",bv="https://api.anilibria.tv/v3/title/search?search=",yv="https://api.anilibria.tv/v3/title/search?genres=";function Fu(e,t){return function(){return e.apply(t,arguments)}}const{toString:_v}=Object.prototype,{getPrototypeOf:oa}=Object,er=(e=>t=>{const i=_v.call(t);return e[i]||(e[i]=i.slice(8,-1).toLowerCase())})(Object.create(null)),It=e=>(e=e.toLowerCase(),t=>er(t)===e),tr=e=>t=>typeof t===e,{isArray:an}=Array,Nn=tr("undefined");function Sv(e){return e!==null&&!Nn(e)&&e.constructor!==null&&!Nn(e.constructor)&&ct(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Uu=It("ArrayBuffer");function xv(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Uu(e.buffer),t}const Ev=tr("string"),ct=tr("function"),Hu=tr("number"),ir=e=>e!==null&&typeof e=="object",Tv=e=>e===!0||e===!1,ps=e=>{if(er(e)!=="object")return!1;const t=oa(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Av=It("Date"),Cv=It("File"),Rv=It("Blob"),Ov=It("FileList"),Pv=e=>ir(e)&&ct(e.pipe),Mv=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||ct(e.append)&&((t=er(e))==="formdata"||t==="object"&&ct(e.toString)&&e.toString()==="[object FormData]"))},$v=It("URLSearchParams"),Iv=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Wn(e,t,{allOwnKeys:i=!1}={}){if(e===null||typeof e>"u")return;let n,r;if(typeof e!="object"&&(e=[e]),an(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{const s=i?Object.getOwnPropertyNames(e):Object.keys(e),o=s.length;let l;for(n=0;n<o;n++)l=s[n],t.call(null,e[l],l,e)}}function Wu(e,t){t=t.toLowerCase();const i=Object.keys(e);let n=i.length,r;for(;n-- >0;)if(r=i[n],t===r.toLowerCase())return r;return null}const Vu=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),qu=e=>!Nn(e)&&e!==Vu;function po(){const{caseless:e}=qu(this)&&this||{},t={},i=(n,r)=>{const s=e&&Wu(t,r)||r;ps(t[s])&&ps(n)?t[s]=po(t[s],n):ps(n)?t[s]=po({},n):an(n)?t[s]=n.slice():t[s]=n};for(let n=0,r=arguments.length;n<r;n++)arguments[n]&&Wn(arguments[n],i);return t}const kv=(e,t,i,{allOwnKeys:n}={})=>(Wn(t,(r,s)=>{i&&ct(r)?e[s]=Fu(r,i):e[s]=r},{allOwnKeys:n}),e),zv=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Lv=(e,t,i,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),i&&Object.assign(e.prototype,i)},jv=(e,t,i,n)=>{let r,s,o;const l={};if(t=t||{},e==null)return t;do{for(r=Object.getOwnPropertyNames(e),s=r.length;s-- >0;)o=r[s],(!n||n(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=i!==!1&&oa(e)}while(e&&(!i||i(e,t))&&e!==Object.prototype);return t},Dv=(e,t,i)=>{e=String(e),(i===void 0||i>e.length)&&(i=e.length),i-=t.length;const n=e.indexOf(t,i);return n!==-1&&n===i},Nv=e=>{if(!e)return null;if(an(e))return e;let t=e.length;if(!Hu(t))return null;const i=new Array(t);for(;t-- >0;)i[t]=e[t];return i},Bv=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&oa(Uint8Array)),Fv=(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=n.next())&&!r.done;){const s=r.value;t.call(e,s[0],s[1])}},Uv=(e,t)=>{let i;const n=[];for(;(i=e.exec(t))!==null;)n.push(i);return n},Hv=It("HTMLFormElement"),Wv=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(i,n,r){return n.toUpperCase()+r}),Ll=(({hasOwnProperty:e})=>(t,i)=>e.call(t,i))(Object.prototype),Vv=It("RegExp"),Gu=(e,t)=>{const i=Object.getOwnPropertyDescriptors(e),n={};Wn(i,(r,s)=>{let o;(o=t(r,s,e))!==!1&&(n[s]=o||r)}),Object.defineProperties(e,n)},qv=e=>{Gu(e,(t,i)=>{if(ct(e)&&["arguments","caller","callee"].indexOf(i)!==-1)return!1;const n=e[i];if(ct(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+i+"'")})}})},Gv=(e,t)=>{const i={},n=r=>{r.forEach(s=>{i[s]=!0})};return an(e)?n(e):n(String(e).split(t)),i},Kv=()=>{},Jv=(e,t)=>(e=+e,Number.isFinite(e)?e:t),Tr="abcdefghijklmnopqrstuvwxyz",jl="0123456789",Ku={DIGIT:jl,ALPHA:Tr,ALPHA_DIGIT:Tr+Tr.toUpperCase()+jl},Yv=(e=16,t=Ku.ALPHA_DIGIT)=>{let i="";const{length:n}=t;for(;e--;)i+=t[Math.random()*n|0];return i};function Xv(e){return!!(e&&ct(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const Zv=e=>{const t=new Array(10),i=(n,r)=>{if(ir(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[r]=n;const s=an(n)?[]:{};return Wn(n,(o,l)=>{const a=i(o,r+1);!Nn(a)&&(s[l]=a)}),t[r]=void 0,s}}return n};return i(e,0)},Qv=It("AsyncFunction"),ew=e=>e&&(ir(e)||ct(e))&&ct(e.then)&&ct(e.catch),T={isArray:an,isArrayBuffer:Uu,isBuffer:Sv,isFormData:Mv,isArrayBufferView:xv,isString:Ev,isNumber:Hu,isBoolean:Tv,isObject:ir,isPlainObject:ps,isUndefined:Nn,isDate:Av,isFile:Cv,isBlob:Rv,isRegExp:Vv,isFunction:ct,isStream:Pv,isURLSearchParams:$v,isTypedArray:Bv,isFileList:Ov,forEach:Wn,merge:po,extend:kv,trim:Iv,stripBOM:zv,inherits:Lv,toFlatObject:jv,kindOf:er,kindOfTest:It,endsWith:Dv,toArray:Nv,forEachEntry:Fv,matchAll:Uv,isHTMLForm:Hv,hasOwnProperty:Ll,hasOwnProp:Ll,reduceDescriptors:Gu,freezeMethods:qv,toObjectSet:Gv,toCamelCase:Wv,noop:Kv,toFiniteNumber:Jv,findKey:Wu,global:Vu,isContextDefined:qu,ALPHABET:Ku,generateString:Yv,isSpecCompliantForm:Xv,toJSONObject:Zv,isAsyncFn:Qv,isThenable:ew};function ce(e,t,i,n,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),i&&(this.config=i),n&&(this.request=n),r&&(this.response=r)}T.inherits(ce,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:T.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Ju=ce.prototype,Yu={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Yu[e]={value:e}});Object.defineProperties(ce,Yu);Object.defineProperty(Ju,"isAxiosError",{value:!0});ce.from=(e,t,i,n,r,s)=>{const o=Object.create(Ju);return T.toFlatObject(e,o,function(a){return a!==Error.prototype},l=>l!=="isAxiosError"),ce.call(o,e.message,t,i,n,r),o.cause=e,o.name=e.name,s&&Object.assign(o,s),o};const tw=null;function mo(e){return T.isPlainObject(e)||T.isArray(e)}function Xu(e){return T.endsWith(e,"[]")?e.slice(0,-2):e}function Dl(e,t,i){return e?e.concat(t).map(function(r,s){return r=Xu(r),!i&&s?"["+r+"]":r}).join(i?".":""):t}function iw(e){return T.isArray(e)&&!e.some(mo)}const nw=T.toFlatObject(T,{},null,function(t){return/^is[A-Z]/.test(t)});function nr(e,t,i){if(!T.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,i=T.toFlatObject(i,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,w){return!T.isUndefined(w[m])});const n=i.metaTokens,r=i.visitor||u,s=i.dots,o=i.indexes,a=(i.Blob||typeof Blob<"u"&&Blob)&&T.isSpecCompliantForm(t);if(!T.isFunction(r))throw new TypeError("visitor must be a function");function c(p){if(p===null)return"";if(T.isDate(p))return p.toISOString();if(!a&&T.isBlob(p))throw new ce("Blob is not supported. Use a Buffer instead.");return T.isArrayBuffer(p)||T.isTypedArray(p)?a&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function u(p,m,w){let b=p;if(p&&!w&&typeof p=="object"){if(T.endsWith(m,"{}"))m=n?m:m.slice(0,-2),p=JSON.stringify(p);else if(T.isArray(p)&&iw(p)||(T.isFileList(p)||T.endsWith(m,"[]"))&&(b=T.toArray(p)))return m=Xu(m),b.forEach(function(x,S){!(T.isUndefined(x)||x===null)&&t.append(o===!0?Dl([m],S,s):o===null?m:m+"[]",c(x))}),!1}return mo(p)?!0:(t.append(Dl(w,m,s),c(p)),!1)}const d=[],h=Object.assign(nw,{defaultVisitor:u,convertValue:c,isVisitable:mo});function f(p,m){if(!T.isUndefined(p)){if(d.indexOf(p)!==-1)throw Error("Circular reference detected in "+m.join("."));d.push(p),T.forEach(p,function(b,_){(!(T.isUndefined(b)||b===null)&&r.call(t,b,T.isString(_)?_.trim():_,m,h))===!0&&f(b,m?m.concat(_):[_])}),d.pop()}}if(!T.isObject(e))throw new TypeError("data must be an object");return f(e),t}function Nl(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function aa(e,t){this._pairs=[],e&&nr(e,this,t)}const Zu=aa.prototype;Zu.append=function(t,i){this._pairs.push([t,i])};Zu.toString=function(t){const i=t?function(n){return t.call(this,n,Nl)}:Nl;return this._pairs.map(function(r){return i(r[0])+"="+i(r[1])},"").join("&")};function sw(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Qu(e,t,i){if(!t)return e;const n=i&&i.encode||sw,r=i&&i.serialize;let s;if(r?s=r(t,i):s=T.isURLSearchParams(t)?t.toString():new aa(t,i).toString(n),s){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+s}return e}class rw{constructor(){this.handlers=[]}use(t,i,n){return this.handlers.push({fulfilled:t,rejected:i,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){T.forEach(this.handlers,function(n){n!==null&&t(n)})}}const Bl=rw,ed={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ow=typeof URLSearchParams<"u"?URLSearchParams:aa,aw=typeof FormData<"u"?FormData:null,lw=typeof Blob<"u"?Blob:null,cw={isBrowser:!0,classes:{URLSearchParams:ow,FormData:aw,Blob:lw},protocols:["http","https","file","blob","url","data"]},td=typeof window<"u"&&typeof document<"u",uw=(e=>td&&["ReactNative","NativeScript","NS"].indexOf(e)<0)(typeof navigator<"u"&&navigator.product),dw=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),hw=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:td,hasStandardBrowserEnv:uw,hasStandardBrowserWebWorkerEnv:dw},Symbol.toStringTag,{value:"Module"})),Rt={...hw,...cw};function fw(e,t){return nr(e,new Rt.classes.URLSearchParams,Object.assign({visitor:function(i,n,r,s){return Rt.isNode&&T.isBuffer(i)?(this.append(n,i.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},t))}function pw(e){return T.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function mw(e){const t={},i=Object.keys(e);let n;const r=i.length;let s;for(n=0;n<r;n++)s=i[n],t[s]=e[s];return t}function id(e){function t(i,n,r,s){let o=i[s++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),a=s>=i.length;return o=!o&&T.isArray(r)?r.length:o,a?(T.hasOwnProp(r,o)?r[o]=[r[o],n]:r[o]=n,!l):((!r[o]||!T.isObject(r[o]))&&(r[o]=[]),t(i,n,r[o],s)&&T.isArray(r[o])&&(r[o]=mw(r[o])),!l)}if(T.isFormData(e)&&T.isFunction(e.entries)){const i={};return T.forEachEntry(e,(n,r)=>{t(pw(n),r,i,0)}),i}return null}function gw(e,t,i){if(T.isString(e))try{return(t||JSON.parse)(e),T.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(i||JSON.stringify)(e)}const la={transitional:ed,adapter:["xhr","http"],transformRequest:[function(t,i){const n=i.getContentType()||"",r=n.indexOf("application/json")>-1,s=T.isObject(t);if(s&&T.isHTMLForm(t)&&(t=new FormData(t)),T.isFormData(t))return r?JSON.stringify(id(t)):t;if(T.isArrayBuffer(t)||T.isBuffer(t)||T.isStream(t)||T.isFile(t)||T.isBlob(t))return t;if(T.isArrayBufferView(t))return t.buffer;if(T.isURLSearchParams(t))return i.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return fw(t,this.formSerializer).toString();if((l=T.isFileList(t))||n.indexOf("multipart/form-data")>-1){const a=this.env&&this.env.FormData;return nr(l?{"files[]":t}:t,a&&new a,this.formSerializer)}}return s||r?(i.setContentType("application/json",!1),gw(t)):t}],transformResponse:[function(t){const i=this.transitional||la.transitional,n=i&&i.forcedJSONParsing,r=this.responseType==="json";if(t&&T.isString(t)&&(n&&!this.responseType||r)){const o=!(i&&i.silentJSONParsing)&&r;try{return JSON.parse(t)}catch(l){if(o)throw l.name==="SyntaxError"?ce.from(l,ce.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Rt.classes.FormData,Blob:Rt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};T.forEach(["delete","get","head","post","put","patch"],e=>{la.headers[e]={}});const ca=la,vw=T.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ww=e=>{const t={};let i,n,r;return e&&e.split(`
`).forEach(function(o){r=o.indexOf(":"),i=o.substring(0,r).trim().toLowerCase(),n=o.substring(r+1).trim(),!(!i||t[i]&&vw[i])&&(i==="set-cookie"?t[i]?t[i].push(n):t[i]=[n]:t[i]=t[i]?t[i]+", "+n:n)}),t},Fl=Symbol("internals");function pn(e){return e&&String(e).trim().toLowerCase()}function ms(e){return e===!1||e==null?e:T.isArray(e)?e.map(ms):String(e)}function bw(e){const t=Object.create(null),i=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=i.exec(e);)t[n[1]]=n[2];return t}const yw=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Ar(e,t,i,n,r){if(T.isFunction(n))return n.call(this,t,i);if(r&&(t=i),!!T.isString(t)){if(T.isString(n))return t.indexOf(n)!==-1;if(T.isRegExp(n))return n.test(t)}}function _w(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,i,n)=>i.toUpperCase()+n)}function Sw(e,t){const i=T.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+i,{value:function(r,s,o){return this[n].call(this,t,r,s,o)},configurable:!0})})}class sr{constructor(t){t&&this.set(t)}set(t,i,n){const r=this;function s(l,a,c){const u=pn(a);if(!u)throw new Error("header name must be a non-empty string");const d=T.findKey(r,u);(!d||r[d]===void 0||c===!0||c===void 0&&r[d]!==!1)&&(r[d||a]=ms(l))}const o=(l,a)=>T.forEach(l,(c,u)=>s(c,u,a));return T.isPlainObject(t)||t instanceof this.constructor?o(t,i):T.isString(t)&&(t=t.trim())&&!yw(t)?o(ww(t),i):t!=null&&s(i,t,n),this}get(t,i){if(t=pn(t),t){const n=T.findKey(this,t);if(n){const r=this[n];if(!i)return r;if(i===!0)return bw(r);if(T.isFunction(i))return i.call(this,r,n);if(T.isRegExp(i))return i.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,i){if(t=pn(t),t){const n=T.findKey(this,t);return!!(n&&this[n]!==void 0&&(!i||Ar(this,this[n],n,i)))}return!1}delete(t,i){const n=this;let r=!1;function s(o){if(o=pn(o),o){const l=T.findKey(n,o);l&&(!i||Ar(n,n[l],l,i))&&(delete n[l],r=!0)}}return T.isArray(t)?t.forEach(s):s(t),r}clear(t){const i=Object.keys(this);let n=i.length,r=!1;for(;n--;){const s=i[n];(!t||Ar(this,this[s],s,t,!0))&&(delete this[s],r=!0)}return r}normalize(t){const i=this,n={};return T.forEach(this,(r,s)=>{const o=T.findKey(n,s);if(o){i[o]=ms(r),delete i[s];return}const l=t?_w(s):String(s).trim();l!==s&&delete i[s],i[l]=ms(r),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const i=Object.create(null);return T.forEach(this,(n,r)=>{n!=null&&n!==!1&&(i[r]=t&&T.isArray(n)?n.join(", "):n)}),i}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,i])=>t+": "+i).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...i){const n=new this(t);return i.forEach(r=>n.set(r)),n}static accessor(t){const n=(this[Fl]=this[Fl]={accessors:{}}).accessors,r=this.prototype;function s(o){const l=pn(o);n[l]||(Sw(r,o),n[l]=!0)}return T.isArray(t)?t.forEach(s):s(t),this}}sr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);T.reduceDescriptors(sr.prototype,({value:e},t)=>{let i=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[i]=n}}});T.freezeMethods(sr);const Ht=sr;function Cr(e,t){const i=this||ca,n=t||i,r=Ht.from(n.headers);let s=n.data;return T.forEach(e,function(l){s=l.call(i,s,r.normalize(),t?t.status:void 0)}),r.normalize(),s}function nd(e){return!!(e&&e.__CANCEL__)}function Vn(e,t,i){ce.call(this,e??"canceled",ce.ERR_CANCELED,t,i),this.name="CanceledError"}T.inherits(Vn,ce,{__CANCEL__:!0});function xw(e,t,i){const n=i.config.validateStatus;!i.status||!n||n(i.status)?e(i):t(new ce("Request failed with status code "+i.status,[ce.ERR_BAD_REQUEST,ce.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))}const Ew=Rt.hasStandardBrowserEnv?{write(e,t,i,n,r,s){const o=[e+"="+encodeURIComponent(t)];T.isNumber(i)&&o.push("expires="+new Date(i).toGMTString()),T.isString(n)&&o.push("path="+n),T.isString(r)&&o.push("domain="+r),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Tw(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Aw(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function sd(e,t){return e&&!Tw(t)?Aw(e,t):t}const Cw=Rt.hasStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a");let n;function r(s){let o=s;return t&&(i.setAttribute("href",o),o=i.href),i.setAttribute("href",o),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:i.pathname.charAt(0)==="/"?i.pathname:"/"+i.pathname}}return n=r(window.location.href),function(o){const l=T.isString(o)?r(o):o;return l.protocol===n.protocol&&l.host===n.host}}():function(){return function(){return!0}}();function Rw(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Ow(e,t){e=e||10;const i=new Array(e),n=new Array(e);let r=0,s=0,o;return t=t!==void 0?t:1e3,function(a){const c=Date.now(),u=n[s];o||(o=c),i[r]=a,n[r]=c;let d=s,h=0;for(;d!==r;)h+=i[d++],d=d%e;if(r=(r+1)%e,r===s&&(s=(s+1)%e),c-o<t)return;const f=u&&c-u;return f?Math.round(h*1e3/f):void 0}}function Ul(e,t){let i=0;const n=Ow(50,250);return r=>{const s=r.loaded,o=r.lengthComputable?r.total:void 0,l=s-i,a=n(l),c=s<=o;i=s;const u={loaded:s,total:o,progress:o?s/o:void 0,bytes:l,rate:a||void 0,estimated:a&&o&&c?(o-s)/a:void 0,event:r};u[t?"download":"upload"]=!0,e(u)}}const Pw=typeof XMLHttpRequest<"u",Mw=Pw&&function(e){return new Promise(function(i,n){let r=e.data;const s=Ht.from(e.headers).normalize();let{responseType:o,withXSRFToken:l}=e,a;function c(){e.cancelToken&&e.cancelToken.unsubscribe(a),e.signal&&e.signal.removeEventListener("abort",a)}let u;if(T.isFormData(r)){if(Rt.hasStandardBrowserEnv||Rt.hasStandardBrowserWebWorkerEnv)s.setContentType(!1);else if((u=s.getContentType())!==!1){const[m,...w]=u?u.split(";").map(b=>b.trim()).filter(Boolean):[];s.setContentType([m||"multipart/form-data",...w].join("; "))}}let d=new XMLHttpRequest;if(e.auth){const m=e.auth.username||"",w=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";s.set("Authorization","Basic "+btoa(m+":"+w))}const h=sd(e.baseURL,e.url);d.open(e.method.toUpperCase(),Qu(h,e.params,e.paramsSerializer),!0),d.timeout=e.timeout;function f(){if(!d)return;const m=Ht.from("getAllResponseHeaders"in d&&d.getAllResponseHeaders()),b={data:!o||o==="text"||o==="json"?d.responseText:d.response,status:d.status,statusText:d.statusText,headers:m,config:e,request:d};xw(function(x){i(x),c()},function(x){n(x),c()},b),d=null}if("onloadend"in d?d.onloadend=f:d.onreadystatechange=function(){!d||d.readyState!==4||d.status===0&&!(d.responseURL&&d.responseURL.indexOf("file:")===0)||setTimeout(f)},d.onabort=function(){d&&(n(new ce("Request aborted",ce.ECONNABORTED,e,d)),d=null)},d.onerror=function(){n(new ce("Network Error",ce.ERR_NETWORK,e,d)),d=null},d.ontimeout=function(){let w=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const b=e.transitional||ed;e.timeoutErrorMessage&&(w=e.timeoutErrorMessage),n(new ce(w,b.clarifyTimeoutError?ce.ETIMEDOUT:ce.ECONNABORTED,e,d)),d=null},Rt.hasStandardBrowserEnv&&(l&&T.isFunction(l)&&(l=l(e)),l||l!==!1&&Cw(h))){const m=e.xsrfHeaderName&&e.xsrfCookieName&&Ew.read(e.xsrfCookieName);m&&s.set(e.xsrfHeaderName,m)}r===void 0&&s.setContentType(null),"setRequestHeader"in d&&T.forEach(s.toJSON(),function(w,b){d.setRequestHeader(b,w)}),T.isUndefined(e.withCredentials)||(d.withCredentials=!!e.withCredentials),o&&o!=="json"&&(d.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&d.addEventListener("progress",Ul(e.onDownloadProgress,!0)),typeof e.onUploadProgress=="function"&&d.upload&&d.upload.addEventListener("progress",Ul(e.onUploadProgress)),(e.cancelToken||e.signal)&&(a=m=>{d&&(n(!m||m.type?new Vn(null,e,d):m),d.abort(),d=null)},e.cancelToken&&e.cancelToken.subscribe(a),e.signal&&(e.signal.aborted?a():e.signal.addEventListener("abort",a)));const p=Rw(h);if(p&&Rt.protocols.indexOf(p)===-1){n(new ce("Unsupported protocol "+p+":",ce.ERR_BAD_REQUEST,e));return}d.send(r||null)})},go={http:tw,xhr:Mw};T.forEach(go,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Hl=e=>`- ${e}`,$w=e=>T.isFunction(e)||e===null||e===!1,rd={getAdapter:e=>{e=T.isArray(e)?e:[e];const{length:t}=e;let i,n;const r={};for(let s=0;s<t;s++){i=e[s];let o;if(n=i,!$w(i)&&(n=go[(o=String(i)).toLowerCase()],n===void 0))throw new ce(`Unknown adapter '${o}'`);if(n)break;r[o||"#"+s]=n}if(!n){const s=Object.entries(r).map(([l,a])=>`adapter ${l} `+(a===!1?"is not supported by the environment":"is not available in the build"));let o=t?s.length>1?`since :
`+s.map(Hl).join(`
`):" "+Hl(s[0]):"as no adapter specified";throw new ce("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return n},adapters:go};function Rr(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Vn(null,e)}function Wl(e){return Rr(e),e.headers=Ht.from(e.headers),e.data=Cr.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),rd.getAdapter(e.adapter||ca.adapter)(e).then(function(n){return Rr(e),n.data=Cr.call(e,e.transformResponse,n),n.headers=Ht.from(n.headers),n},function(n){return nd(n)||(Rr(e),n&&n.response&&(n.response.data=Cr.call(e,e.transformResponse,n.response),n.response.headers=Ht.from(n.response.headers))),Promise.reject(n)})}const Vl=e=>e instanceof Ht?{...e}:e;function Yi(e,t){t=t||{};const i={};function n(c,u,d){return T.isPlainObject(c)&&T.isPlainObject(u)?T.merge.call({caseless:d},c,u):T.isPlainObject(u)?T.merge({},u):T.isArray(u)?u.slice():u}function r(c,u,d){if(T.isUndefined(u)){if(!T.isUndefined(c))return n(void 0,c,d)}else return n(c,u,d)}function s(c,u){if(!T.isUndefined(u))return n(void 0,u)}function o(c,u){if(T.isUndefined(u)){if(!T.isUndefined(c))return n(void 0,c)}else return n(void 0,u)}function l(c,u,d){if(d in t)return n(c,u);if(d in e)return n(void 0,c)}const a={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(c,u)=>r(Vl(c),Vl(u),!0)};return T.forEach(Object.keys(Object.assign({},e,t)),function(u){const d=a[u]||r,h=d(e[u],t[u],u);T.isUndefined(h)&&d!==l||(i[u]=h)}),i}const od="1.6.8",ua={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{ua[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const ql={};ua.transitional=function(t,i,n){function r(s,o){return"[Axios v"+od+"] Transitional option '"+s+"'"+o+(n?". "+n:"")}return(s,o,l)=>{if(t===!1)throw new ce(r(o," has been removed"+(i?" in "+i:"")),ce.ERR_DEPRECATED);return i&&!ql[o]&&(ql[o]=!0,console.warn(r(o," has been deprecated since v"+i+" and will be removed in the near future"))),t?t(s,o,l):!0}};function Iw(e,t,i){if(typeof e!="object")throw new ce("options must be an object",ce.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let r=n.length;for(;r-- >0;){const s=n[r],o=t[s];if(o){const l=e[s],a=l===void 0||o(l,s,e);if(a!==!0)throw new ce("option "+s+" must be "+a,ce.ERR_BAD_OPTION_VALUE);continue}if(i!==!0)throw new ce("Unknown option "+s,ce.ERR_BAD_OPTION)}}const vo={assertOptions:Iw,validators:ua},Kt=vo.validators;class Cs{constructor(t){this.defaults=t,this.interceptors={request:new Bl,response:new Bl}}async request(t,i){try{return await this._request(t,i)}catch(n){if(n instanceof Error){let r;Error.captureStackTrace?Error.captureStackTrace(r={}):r=new Error;const s=r.stack?r.stack.replace(/^.+\n/,""):"";n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}throw n}}_request(t,i){typeof t=="string"?(i=i||{},i.url=t):i=t||{},i=Yi(this.defaults,i);const{transitional:n,paramsSerializer:r,headers:s}=i;n!==void 0&&vo.assertOptions(n,{silentJSONParsing:Kt.transitional(Kt.boolean),forcedJSONParsing:Kt.transitional(Kt.boolean),clarifyTimeoutError:Kt.transitional(Kt.boolean)},!1),r!=null&&(T.isFunction(r)?i.paramsSerializer={serialize:r}:vo.assertOptions(r,{encode:Kt.function,serialize:Kt.function},!0)),i.method=(i.method||this.defaults.method||"get").toLowerCase();let o=s&&T.merge(s.common,s[i.method]);s&&T.forEach(["delete","get","head","post","put","patch","common"],p=>{delete s[p]}),i.headers=Ht.concat(o,s);const l=[];let a=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(i)===!1||(a=a&&m.synchronous,l.unshift(m.fulfilled,m.rejected))});const c=[];this.interceptors.response.forEach(function(m){c.push(m.fulfilled,m.rejected)});let u,d=0,h;if(!a){const p=[Wl.bind(this),void 0];for(p.unshift.apply(p,l),p.push.apply(p,c),h=p.length,u=Promise.resolve(i);d<h;)u=u.then(p[d++],p[d++]);return u}h=l.length;let f=i;for(d=0;d<h;){const p=l[d++],m=l[d++];try{f=p(f)}catch(w){m.call(this,w);break}}try{u=Wl.call(this,f)}catch(p){return Promise.reject(p)}for(d=0,h=c.length;d<h;)u=u.then(c[d++],c[d++]);return u}getUri(t){t=Yi(this.defaults,t);const i=sd(t.baseURL,t.url);return Qu(i,t.params,t.paramsSerializer)}}T.forEach(["delete","get","head","options"],function(t){Cs.prototype[t]=function(i,n){return this.request(Yi(n||{},{method:t,url:i,data:(n||{}).data}))}});T.forEach(["post","put","patch"],function(t){function i(n){return function(s,o,l){return this.request(Yi(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Cs.prototype[t]=i(),Cs.prototype[t+"Form"]=i(!0)});const gs=Cs;class da{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let i;this.promise=new Promise(function(s){i=s});const n=this;this.promise.then(r=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](r);n._listeners=null}),this.promise.then=r=>{let s;const o=new Promise(l=>{n.subscribe(l),s=l}).then(r);return o.cancel=function(){n.unsubscribe(s)},o},t(function(s,o,l){n.reason||(n.reason=new Vn(s,o,l),i(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const i=this._listeners.indexOf(t);i!==-1&&this._listeners.splice(i,1)}static source(){let t;return{token:new da(function(r){t=r}),cancel:t}}}const kw=da;function zw(e){return function(i){return e.apply(null,i)}}function Lw(e){return T.isObject(e)&&e.isAxiosError===!0}const wo={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(wo).forEach(([e,t])=>{wo[t]=e});const jw=wo;function ad(e){const t=new gs(e),i=Fu(gs.prototype.request,t);return T.extend(i,gs.prototype,t,{allOwnKeys:!0}),T.extend(i,t,null,{allOwnKeys:!0}),i.create=function(r){return ad(Yi(e,r))},i}const Ie=ad(ca);Ie.Axios=gs;Ie.CanceledError=Vn;Ie.CancelToken=kw;Ie.isCancel=nd;Ie.VERSION=od;Ie.toFormData=nr;Ie.AxiosError=ce;Ie.Cancel=Ie.CanceledError;Ie.all=function(t){return Promise.all(t)};Ie.spread=zw;Ie.isAxiosError=Lw;Ie.mergeConfig=Yi;Ie.AxiosHeaders=Ht;Ie.formToJSON=e=>id(T.isHTMLForm(e)?new FormData(e):e);Ie.getAdapter=rd.getAdapter;Ie.HttpStatusCode=jw;Ie.default=Ie;const Rs=Ie,Dw={class:"flex flex-col justify-center items-center gap-3"},ld=Ae({__name:"ModalMenu",props:{userName:{},style:{}},setup(e){const t=e;return(i,n)=>(j(),ee("div",{class:Ke([t.style,"absolute z-10 shadow-shadowDrop rounded-[10px] p-3 bg-slate-50"])},[C("div",Dw,[$t(i.$slots,"default")])],2))}}),qn=(e,t)=>{const i=e.__vccOpts||e;for(const[n,r]of t)i[n]=r;return i},Nw={},Bw={class:"text-pink-500 w-[100%] flex flex-row items-center justify-start gap-2 text-center hover:text-[#413d3d] duration-short"};function Fw(e,t){return j(),ee("div",Bw,[$t(e.$slots,"default")])}const On=qn(Nw,[["render",Fw]]),Uw="/assets/sprite-0232df96.svg",Hw=["width","height"],Ww=["xlink:href"],yi=Ae({__name:"IconSprite",props:{name:{},width:{default:20},height:{default:20}},setup(e){return(t,i)=>(j(),ee("span",null,[(j(),ee("svg",qs({class:"icon"},t.$attrs,{width:t.width,height:t.height}),[C("use",{"xlink:href":`${q(Uw)}#${t.name}`},null,8,Ww)],16,Hw))]))}}),Vw="/assets/user-770c2da8.png",qw=["src"],cd=Ae({__name:"Avatar",props:{img:{},style:{}},setup(e){return(t,i)=>(j(),ee("img",{src:t.img?`https://ivpfaitqeojbyulslqde.supabase.co/storage/v1/object/public/images/${t.img}`:q(Vw),class:Ke(["rounded-[50%] cursor-pointer object-cover overflow-hidden",t.style])},null,10,qw))}}),Gw=["value","type"],Gl=Ae({__name:"Search",props:{style:{},modelValue:{},type:{}},setup(e){return(t,i)=>(j(),ee("input",{value:t.modelValue,onInput:i[0]||(i[0]=n=>t.$emit("update:modelValue",n.currentTarget.value.trim())),type:t.type,class:Ke(["flex grow font-medium text-[15px] text-gray-700 pl-[10px] rounded-[5px] outline-none focus:ring-[1px]",t.style])},null,42,Gw))}});const Kw={},Jw=e=>(qc("data-v-ef3d7516"),e=e(),Gc(),e),Yw={class:"relative inline-block w-[45px] h-[25px]"},Xw=Jw(()=>C("input",{type:"checkbox",class:"opacity-0 w-0 h-0"},null,-1));function Zw(e,t){return j(),ee("div",null,[C("label",Yw,[Xw,C("span",{class:"switch round",onClick:t[0]||(t[0]=i=>e.$emit("mode",i.target))})])])}const Qw=qn(Kw,[["render",Zw],["__scopeId","data-v-ef3d7516"]]),ri=Ae({__name:"Button",props:{text:{},style:{}},setup(e){return(t,i)=>(j(),ee("button",{class:Ke([t.style,"duration-short"])},Se(t.text),3))}}),eb={class:"flex w-[100%] relative"},tb={class:"flex flex-col w-full"},ib={class:"justify-between items-center flex px-4 py-2 w-full"},nb={class:"flex flex-row gap-4 w-[60%]"},sb={key:0,class:"flex flex-row grow gap-5"},rb={class:"flex flex-row items-center gap-5"},ob={key:0,class:"flex flex-row grow gap-5 px-[16px] h-[30px]"},ab={class:"text-[14px]"},lb=Ae({__name:"Header",setup(e){const t=Xs(),i=Ti(),n=se(!1),r=se(!1),s=se(""),o=async()=>{const a=await Rs.get(`${bv}${s.value}`);return i.searchedAnime=a.data.list};bt(s,async()=>{s.value!==""?o():i.searchedAnime=[]});const l=()=>{window.innerWidth<550?r.value=!0:r.value=!1};return onresize=()=>{l()},li(()=>{l()}),(a,c)=>(j(),ee("header",eb,[C("div",tb,[C("div",ib,[C("div",nb,[C("span",{class:"text-[20px] font-medium cursor-pointer text-white hover:text-red-500 duration-short",onClick:c[0]||(c[0]=u=>q(t).push("/"))},"AniList"),r.value?De("",!0):(j(),ee("div",sb,[k(Gl,{type:"text",class:Ke("focus:ring-cyan-300 bg-[#d8d8d8]"),modelValue:s.value,"onUpdate:modelValue":c[1]||(c[1]=u=>s.value=u)},null,8,["modelValue"])]))]),C("main",rb,[k(Qw),q(i).user?(j(),oe(cd,{key:0,style:"w-[32px] h-[32px]",img:q(i).user.avatar_url,onClick:c[2]||(c[2]=u=>n.value=!n.value)},null,8,["img"])):De("",!0),q(i).user?De("",!0):(j(),oe(ri,{key:1,onClick:c[3]||(c[3]=u=>q(i).authRegModal=!0),text:"Войти",style:"p-0 font-medium text-gray-500"}))])]),r.value?(j(),ee("div",ob,[k(Gl,{type:"text",class:Ke("focus:ring-cyan-300 bg-[#d8d8d8]"),modelValue:s.value,"onUpdate:modelValue":c[4]||(c[4]=u=>s.value=u)},null,8,["modelValue"])])):De("",!0)]),n.value?(j(),oe(ld,{key:0,onClick:c[7]||(c[7]=u=>n.value=!1),style:"right-[20px] top-[100%]"},{default:ge(()=>[k(On,null,{default:ge(()=>{var u;return[k(yi,{name:"icon-user"}),C("span",ab,Se((u=q(i).user)==null?void 0:u.name),1)]}),_:1}),k(On,{class:"cursor-pointer"},{default:ge(()=>[k(yi,{name:"icon-settings"}),C("span",{class:"text-[14px]",onClick:c[5]||(c[5]=u=>{var d;return q(t).push(`/lk/${(d=q(i).user)==null?void 0:d.id}`)})},"Мой Профиль")]),_:1}),k(On,{class:"cursor-pointer"},{default:ge(()=>[k(yi,{name:"exit"}),C("span",{class:"text-[14px]",onClick:c[6]||(c[6]=(...u)=>q(i).logout&&q(i).logout(...u))},"Выйти")]),_:1})]),_:1})):De("",!0)]))}}),cb=["value","type"],Or=Ae({__name:"Input",props:{type:{},style:{},modelValue:{}},setup(e){return(t,i)=>(j(),ee("input",{value:t.modelValue,type:t.type,class:Ke([t.style,"flex grow font-normal text-[16px] p-[10px] rounded-[15px] outline-none focus:ring-[1px] bg-[#f5f5f5]"]),onInput:i[0]||(i[0]=n=>t.$emit("update:modelValue",n.currentTarget.value.trim()))},null,42,cb))}}),ub={key:0,class:"fixed top-0 left-0 w-full h-full flex items-center justify-center"},db=C("div",{class:"absolute bg-black opacity-50 inset-0"},null,-1),hb={class:"bg-white p-6 rounded-lg max-w-md w-full z-10 flex flex-col gap-3 text-center justify-center"},fb=Ae({__name:"RegistrationAndAutorisationModal",setup(e){const t=Ti(),i=se(!0),n=Ei({name:"",email:"",password:""}),r=()=>{t.registerUser(n)},s=()=>{t.login(n.email,n.password)},o=Ce(()=>i.value?"Вход":"Регистрация"),l=Ce(()=>i.value?"Зарегистрироваться":"Войти");return(a,c)=>(j(),oe(cu,{to:"body"},[q(t).authRegModal?(j(),ee("div",ub,[db,C("div",hb,[C("span",null,Se(o.value),1),i.value?De("",!0):(j(),oe(Or,{key:0,type:"text",modelValue:n.name,"onUpdate:modelValue":c[0]||(c[0]=u=>n.name=u),placeholder:"имя"},null,8,["modelValue"])),k(Or,{type:"email",modelValue:n.email,"onUpdate:modelValue":c[1]||(c[1]=u=>n.email=u),placeholder:"имеил"},null,8,["modelValue"]),k(Or,{type:"password",modelValue:n.password,"onUpdate:modelValue":c[2]||(c[2]=u=>n.password=u),placeholder:"пароль"},null,8,["modelValue"]),i.value?(j(),oe(ri,{key:2,onClick:s,class:Ke("bg-white rounded-[15px] p-3 hover:shadow-shadowDrop hover:ring-[1px] hover:ring-cyan-300 text-black font-medium"),text:"Войти"})):(j(),oe(ri,{key:1,onClick:r,class:Ke("bg-white rounded-[15px] p-3 hover:shadow-shadowDrop hover:ring-[1px] hover:ring-cyan-300 text-black font-medium"),text:"Зарегистрироваться"})),C("span",null,Se(i.value?"Ещё нет аккаунта?":"Уже есть аккаунт?"),1),k(ri,{class:Ke("bg-white rounded-[15px] p-3 hover:shadow-shadowDrop hover:ring-[1px] hover:ring-cyan-300 text-black font-medium"),onClick:c[3]||(c[3]=u=>i.value=!i.value),text:l.value},null,8,["text"])])])):De("",!0)]))}});function Kl(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),i.push.apply(i,n)}return i}function pe(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?Kl(Object(i),!0).forEach(function(n){at(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Kl(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}function at(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function pb(e,t){if(e==null)return{};var i,n,r=function(o,l){if(o==null)return{};var a,c,u={},d=Object.keys(o);for(c=0;c<d.length;c++)a=d[c],l.indexOf(a)>=0||(u[a]=o[a]);return u}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)i=s[n],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(r[i]=e[i])}return r}function Si(e){return function(t){if(Array.isArray(t))return Pr(t)}(e)||function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(e)||function(t,i){if(t){if(typeof t=="string")return Pr(t,i);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pr(t,i)}}(e)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Pr(e,t){(t==null||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}var Jl,mb,ss,ze=(Jl=function(e){/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(){var t={}.hasOwnProperty;function i(){for(var n=[],r=0;r<arguments.length;r++){var s=arguments[r];if(s){var o=typeof s;if(o==="string"||o==="number")n.push(s);else if(Array.isArray(s)){if(s.length){var l=i.apply(null,s);l&&n.push(l)}}else if(o==="object")if(s.toString===Object.prototype.toString)for(var a in s)t.call(s,a)&&s[a]&&n.push(a);else n.push(s.toString())}}return n.join(" ")}e.exports?(i.default=i,e.exports=i):window.classNames=i})()},Jl(ss={path:mb,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(t==null&&ss.path)}},ss.exports),ss.exports),_t=function(e){return function(t,i){if(!t)return e;var n;typeof t=="string"?n=t:i=t;var r=e;return n&&(r+="__"+n),r+(i?Object.keys(i).reduce(function(s,o){var l=i[o];return l&&(s+=" "+(typeof l=="boolean"?r+"--"+o:r+"--"+o+"_"+l)),s},""):"")}};function bo(e,t,i){var n,r,s,o,l;function a(){var u=Date.now()-o;u<t&&u>=0?n=setTimeout(a,t-u):(n=null,i||(l=e.apply(s,r),s=r=null))}t==null&&(t=100);var c=function(){s=this,r=arguments,o=Date.now();var u=i&&!n;return n||(n=setTimeout(a,t)),u&&(l=e.apply(s,r),s=r=null),l};return c.clear=function(){n&&(clearTimeout(n),n=null)},c.flush=function(){n&&(l=e.apply(s,r),s=r=null,clearTimeout(n),n=null)},c}bo.debounce=bo;var yo=bo,K=function(){return K=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var r in t=arguments[i])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},K.apply(this,arguments)};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function ud(e,t){var i,n;return e&&t?(i=""+e+t[0].toUpperCase()+t.slice(1),n=e+"-"+t):(i=e||t,n=e||t),{name:i,classname:n}}function dd(e){return/^blob:/.test(e)}function Yl(e){return dd(e)||function(t){return/^data:/.test(t)}(e)}function zi(e){return!!(e&&e.constructor&&e.call&&e.apply)}function je(e){return e===void 0}function vs(e){return typeof e=="object"&&e!==null}function _o(e,t,i){var n={};return vs(e)?(Object.keys(t).forEach(function(r){je(e[r])?n[r]=t[r]:vs(t[r])?vs(e[r])?n[r]=_o(e[r],t[r],i[r]):n[r]=e[r]?t[r]:i[r]:t[r]===!0||t[r]===!1?n[r]=!!e[r]:n[r]=e[r]}),n):e?t:i}function rs(e){var t=Number(e);return Number.isNaN(t)?e:t}function Xl(e){return typeof(e=="number"||function(t){return typeof t=="object"&&t!==null}(e)&&toString.call(e)=="[object Number]")&&!hd(e)}function hd(e){return e!=e}function fd(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}var Pn=function(e,t){e===void 0&&(e={}),t===void 0&&(t={}),this.type="manipulateImage",this.move=e,this.scale=t},gb=function(e,t){t===void 0&&(t={}),this.type="resize",this.directions=e,this.params=t},ha=function(e){this.type="move",this.directions=e},vb=function(){function e(t,i,n,r,s){this.type="drag",this.nativeEvent=t,this.position=n,this.previousPosition=r,this.element=i,this.anchor=s}return e.prototype.shift=function(){var t=this,i=t.element,n=t.anchor,r=t.position;if(i){var s=i.getBoundingClientRect(),o=s.left,l=s.top;return{left:r.left-o-n.left,top:r.top-l-n.top}}return{left:0,top:0}},e}(),fa={name:"DraggableElement",props:{classname:{type:String}},beforeMount:function(){window.addEventListener("mouseup",this.onMouseUp,{passive:!1}),window.addEventListener("mousemove",this.onMouseMove,{passive:!1}),window.addEventListener("touchmove",this.onTouchMove,{passive:!1}),window.addEventListener("touchend",this.onTouchEnd,{passive:!1})},beforeUnmount:function(){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd)},mounted:function(){if(!this.$refs.draggable)throw new Error('You should add ref "draggable" to your root element to use draggable mixin');this.touches=[],this.hovered=!1},methods:{onMouseOver:function(){this.hovered||(this.hovered=!0,this.$emit("enter"))},onMouseLeave:function(){this.hovered&&!this.touches.length&&(this.hovered=!1,this.$emit("leave"))},onTouchStart:function(e){e.cancelable&&!this.disabled&&e.touches.length===1&&(this.touches=Si(e.touches),this.hovered||(this.$emit("enter"),this.hovered=!0),e.touches.length&&this.initAnchor(this.touches.reduce(function(t,i){return{clientX:t.clientX+i.clientX/e.touches.length,clientY:t.clientY+i.clientY/e.touches.length}},{clientX:0,clientY:0})),e.preventDefault&&e.preventDefault(),e.stopPropagation())},onTouchEnd:function(){this.processEnd()},onTouchMove:function(e){this.touches.length&&(this.processMove(e,e.touches),e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation())},onMouseDown:function(e){if(!this.disabled){var t={fake:!0,clientX:e.clientX,clientY:e.clientY};this.touches=[t],this.initAnchor(t),e.stopPropagation()}},onMouseMove:function(e){this.touches.length&&(this.processMove(e,[{fake:!0,clientX:e.clientX,clientY:e.clientY}]),e.preventDefault&&e.preventDefault())},onMouseUp:function(){this.processEnd()},initAnchor:function(e){var t=this.$refs.draggable.getBoundingClientRect(),i=t.left,n=t.right,r=t.bottom,s=t.top;this.anchor={left:e.clientX-i,top:e.clientY-s,bottom:r-e.clientY,right:n-e.clientX}},processMove:function(e,t){var i=Si(t);if(this.touches.length){if(this.touches.length===1&&i.length===1){var n=this.$refs.draggable;this.$emit("drag",new vb(e,n,{left:i[0].clientX,top:i[0].clientY},{left:this.touches[0].clientX,top:this.touches[0].clientY},this.anchor))}this.touches=i}},processEnd:function(){this.touches.length&&this.$emit("drag-end"),this.hovered&&(this.$emit("leave"),this.hovered=!1),this.touches=[]}},emits:["drag","drag-end","leave","enter"]};fa.render=function(e,t,i,n,r,s){return j(),oe("div",{ref:"draggable",class:i.classname,onTouchstart:t[1]||(t[1]=function(){return s.onTouchStart&&s.onTouchStart.apply(s,arguments)}),onMousedown:t[2]||(t[2]=function(){return s.onMouseDown&&s.onMouseDown.apply(s,arguments)}),onMouseover:t[3]||(t[3]=function(){return s.onMouseOver&&s.onMouseOver.apply(s,arguments)}),onMouseleave:t[4]||(t[4]=function(){return s.onMouseLeave&&s.onMouseLeave.apply(s,arguments)})},[$t(e.$slots,"default")],34)};var Mr=_t("vue-handler-wrapper"),pd={name:"HandlerWrapper",components:{DraggableElement:fa},props:{horizontalPosition:{type:String},verticalPosition:{type:String},disabled:{type:Boolean,default:!1}},computed:{classes:function(){var e;if(this.horizontalPosition||this.verticalPosition){var t,i=ud(this.horizontalPosition,this.verticalPosition);e=Mr((at(t={},i.classname,!0),at(t,"disabled",this.disabled),t))}else e=Mr({disabled:this.disabled});return{root:e,draggable:Mr("draggable")}}},emits:["leave","enter","drag","drag-end"]};pd.render=function(e,t,i,n,r,s){var o=Ut("DraggableElement");return j(),oe("div",{class:s.classes.root},[k(o,{class:s.classes.draggable,onDrag:t[1]||(t[1]=function(l){return e.$emit("drag",l)}),onDragEnd:t[2]||(t[2]=function(l){return e.$emit("drag-end")}),onLeave:t[3]||(t[3]=function(l){return e.$emit("leave")}),onEnter:t[4]||(t[4]=function(l){return e.$emit("enter")})},{default:ge(function(){return[$t(e.$slots,"default")]}),_:3},8,["class"])],2)};var wb=_t("vue-line-wrapper"),md={name:"LineWrapper",components:{DraggableElement:fa},props:{position:{type:String,required:!0},disabled:{type:Boolean,default:!1}},computed:{classname:function(){var e;return wb((at(e={},this.position,!0),at(e,"disabled",this.disabled),e))}},emits:["leave","enter","drag","drag-end"]};md.render=function(e,t,i,n,r,s){var o=Ut("DraggableElement");return j(),oe(o,{class:s.classname,onDrag:t[1]||(t[1]=function(l){return e.$emit("drag",l)}),onDragEnd:t[2]||(t[2]=function(l){return e.$emit("drag-end")}),onLeave:t[3]||(t[3]=function(l){return e.$emit("leave")}),onEnter:t[4]||(t[4]=function(l){return e.$emit("enter")})},{default:ge(function(){return[$t(e.$slots,"default")]}),_:3},8,["class"])};var Ct=["left","right","top","bottom"],bb=["left","right"],yb=["top","bottom"],_b=["left","top"],Sb=["fill-area","fit-area","stencil","none"],Zl={left:0,top:0,width:0,height:0};function Ql(e,t,i){return!(i=i||["width","height","left","top"]).some(function(n){return e[n]!==t[n]})}function Mt(e){return{left:e.left,top:e.top,right:e.left+e.width,bottom:e.top+e.height}}function Xi(e,t){return{left:e.left-t.left,top:e.top-t.top}}function Be(e){return{left:e.left+e.width/2,top:e.top+e.height/2}}function Bn(e,t){var i={left:0,top:0,right:0,bottom:0};return Ct.forEach(function(n){var r=t[n],s=Mt(e)[n];i[n]=r!==void 0&&s!==void 0?n==="left"||n==="top"?Math.max(0,r-s):Math.max(0,s-r):0}),i}function Tt(e,t){return{left:e.left-t.left,top:e.top-t.top,width:e.width+t.left+t.right,height:e.height+t.top+t.bottom}}function rr(e){return{left:-e.left,top:-e.top}}function Xe(e,t){return K(K({},e),{left:e.left+t.left,top:e.top+t.top})}function ut(e,t,i,n){if(t!==1){if(i){var r=Be(e);return{width:e.width*t,height:e.height*t,left:e.left+e.width*(1-t)/2+(i.left-r.left)*(n||1-t),top:e.top+e.height*(1-t)/2+(i.top-r.top)*(n||1-t)}}return{width:e.width*t,height:e.height*t,left:e.left+e.width*(1-t)/2,top:e.top+e.height*(1-t)/2}}return e}function ve(e){return e.width/e.height}function Zi(e,t){return Math.min(t.right!==void 0&&t.left!==void 0?(t.right-t.left)/e.width:1/0,t.bottom!==void 0&&t.top!==void 0?(t.bottom-t.top)/e.height:1/0)}function Qi(e,t){var i={left:0,top:0},n=Bn(e,t);return n.left&&n.left>0?i.left=n.left:n.right&&n.right>0&&(i.left=-n.right),n.top&&n.top>0?i.top=n.top:n.bottom&&n.bottom>0&&(i.top=-n.bottom),i}function $r(e,t){var i;return t.minimum&&e<t.minimum?i=t.minimum:t.maximum&&e>t.maximum&&(i=t.maximum),i}function gd(e,t){var i=ve(e),n=ve(t);return t.width<1/0&&t.height<1/0?i>n?{width:t.width,height:t.width/i}:{width:t.height*i,height:t.height}:t.width<1/0?{width:t.width,height:t.width/i}:t.height<1/0?{width:t.height*i,height:t.height}:e}function vd(e,t){var i=t*Math.PI/180;return{width:Math.abs(e.width*Math.cos(i))+Math.abs(e.height*Math.sin(i)),height:Math.abs(e.width*Math.sin(i))+Math.abs(e.height*Math.cos(i))}}function ei(e,t){var i=t*Math.PI/180;return{left:e.left*Math.cos(i)-e.top*Math.sin(i),top:e.left*Math.sin(i)+e.top*Math.cos(i)}}function or(e,t){var i=Bn(Fe(e,t),t);return i.left+i.right+i.top+i.bottom?i.left+i.right>i.top+i.bottom?Math.min((e.width+i.left+i.right)/e.width,Zi(e,t)):Math.min((e.height+i.top+i.bottom)/e.height,Zi(e,t)):1}function Fe(e,t,i){i===void 0&&(i=!1);var n=Qi(e,t);return Xe(e,i?rr(n):n)}function So(e){return{width:e.right!==void 0&&e.left!==void 0?e.right-e.left:1/0,height:e.bottom!==void 0&&e.top!==void 0?e.bottom-e.top:1/0}}function xb(e,t){return K(K({},e),{minWidth:Math.min(t.width,e.minWidth),minHeight:Math.min(t.height,e.minHeight),maxWidth:Math.min(t.width,e.maxWidth),maxHeight:Math.min(t.height,e.maxHeight)})}function wd(e,t,i){i===void 0&&(i=!0);var n={};return Ct.forEach(function(r){var s=e[r],o=t[r];s!==void 0&&o!==void 0?n[r]=r==="left"||r==="top"?i?Math.max(s,o):Math.min(s,o):i?Math.min(s,o):Math.max(s,o):o!==void 0?n[r]=o:s!==void 0&&(n[r]=s)}),n}function ar(e,t){return wd(e,t,!0)}function ec(e){var t=e.size,i=e.aspectRatio,n=e.ignoreMinimum,r=e.sizeRestrictions;return!!((t.correctRatio||ve(t)>=i.minimum&&ve(t)<=i.maximum)&&t.height<=r.maxHeight&&t.width<=r.maxWidth&&t.width&&t.height&&(n||t.height>=r.minHeight&&t.width>=r.minWidth))}function tc(e,t){return Math.pow(e.width-t.width,2)+Math.pow(e.height-t.height,2)}function Nt(e){var t=e.width,i=e.height,n=e.sizeRestrictions,r={minimum:e.aspectRatio&&e.aspectRatio.minimum||0,maximum:e.aspectRatio&&e.aspectRatio.maximum||1/0},s={width:Math.max(n.minWidth,Math.min(n.maxWidth,t)),height:Math.max(n.minHeight,Math.min(n.maxHeight,i))};function o(c,u){return u===void 0&&(u=!1),c.reduce(function(d,h){return ec({size:h,aspectRatio:r,sizeRestrictions:n,ignoreMinimum:u})&&(!d||tc(h,{width:t,height:i})<tc(d,{width:t,height:i}))?h:d},null)}var l=[];r&&[r.minimum,r.maximum].forEach(function(c){c&&l.push({width:s.width,height:s.width/c,correctRatio:!0},{width:s.height*c,height:s.height,correctRatio:!0})}),ec({size:s,aspectRatio:r,sizeRestrictions:n})&&l.push(s);var a=o(l)||o(l,!0);return a&&{width:a.width,height:a.height}}function xo(e){var t=e.event,i=e.coordinates,n=e.positionRestrictions,r=n===void 0?{}:n,s=Xe(i,t.directions);return Xe(s,Qi(s,r))}function Eb(e){var t=e.coordinates,i=e.transform,n=e.imageSize,r=e.sizeRestrictions,s=e.positionRestrictions,o=e.aspectRatio,l=e.visibleArea,a=function(u,d){return xo({coordinates:u,positionRestrictions:s,event:new ha({left:d.left-u.left,top:d.top-u.top})})},c=K({},t);return(Array.isArray(i)?i:[i]).forEach(function(u){var d={};je((d=typeof u=="function"?u({coordinates:c,imageSize:n,visibleArea:l}):u).width)&&je(d.height)||(c=function(h,f){var p=K(K(K({},h),Nt({width:f.width,height:f.height,sizeRestrictions:r,aspectRatio:o})),{left:0,top:0});return a(p,{left:h.left,top:h.top})}(c,K(K({},c),d))),je(d.left)&&je(d.top)||(c=a(c,K(K({},c),d)))}),c}function Tb(e){e.event;var t=e.getAreaRestrictions,i=e.boundaries,n=e.coordinates,r=e.visibleArea;e.aspectRatio;var s=e.stencilSize,o=e.sizeRestrictions,l=e.positionRestrictions;e.stencilReference;var a,c,u,d=K({},n),h=K({},r),f=K({},s);a=ve(f),c=ve(d),u===void 0&&(u=.001),(a===0||c===0?Math.abs(c-a)<u:Math.abs(c/a)<1+u&&Math.abs(c/a)>1-u)||(d=K(K({},d),Nt({sizeRestrictions:o,width:d.width,height:d.height,aspectRatio:{minimum:ve(f),maximum:ve(f)}})));var p=or(h=ut(h,d.width*i.width/(h.width*f.width)),t({visibleArea:h,type:"resize"}));return p!==1&&(h=ut(h,p),d=ut(d,p)),h=Fe(h=Xe(h,Xi(Be(d),Be(h))),t({visibleArea:h,type:"move"})),{coordinates:d=Fe(d,ar(Mt(h),l)),visibleArea:h}}function Ab(e){var t=e.event,i=e.getAreaRestrictions,n=e.boundaries,r=e.coordinates,s=e.visibleArea;e.aspectRatio,e.stencilSize,e.sizeRestrictions;var o=e.positionRestrictions;e.stencilReference;var l=K({},r),a=K({},s);if(r&&s&&t.type!=="manipulateImage"){var c={width:0,height:0};a.width,n.width,ve(n)>ve(l)?(c.height=.8*n.height,c.width=c.height*ve(l)):(c.width=.8*n.width,c.height=c.width*ve(l));var u=or(a=ut(a,l.width*n.width/(a.width*c.width)),i({visibleArea:a,type:"resize"}));a=ut(a,u),u!==1&&(c.height/=u,c.width/=u),a=Fe(a=Xe(a,Xi(Be(l),Be(a))),i({visibleArea:a,type:"move"})),l=Fe(l,ar(Mt(a),o))}return{coordinates:l,visibleArea:a}}function Cb(e){var t=e.event,i=e.coordinates,n=e.visibleArea,r=e.getAreaRestrictions,s=K({},n),o=K({},i);if(t.type==="setCoordinates"){var l=Math.max(0,o.width-s.width),a=Math.max(0,o.height-s.height);l>a?s=ut(s,Math.min(o.width/s.width,Zi(s,r({visibleArea:s,type:"resize"})))):a>l&&(s=ut(s,Math.min(o.height/s.height,Zi(s,r({visibleArea:s,type:"resize"}))))),s=Fe(s=Xe(s,rr(Qi(o,Mt(s)))),r({visibleArea:s,type:"move"}))}return{visibleArea:s,coordinates:o}}function Rb(e){var t=e.imageSize,i=e.visibleArea,n=e.coordinates,r=i||t;return{left:(i?i.left:0)+r.width/2-n.width/2,top:(i?i.top:0)+r.height/2-n.height/2}}function Ob(e){var t=e.imageSize,i=e.visibleArea,n=e.aspectRatio,r=e.sizeRestrictions,s=i||t,o=Math.min(n.maximum||1/0,Math.max(n.minimum||0,ve(s))),l=s.width<s.height?{width:.8*s.width,height:.8*s.width/o}:{height:.8*s.height,width:.8*s.height*o};return Nt(K(K({},l),{aspectRatio:n,sizeRestrictions:r}))}function Pb(e){var t,i,n=e.imageSize,r=e.visibleArea,s=e.boundaries,o=e.aspectRatio,l=e.sizeRestrictions,a=e.stencilSize,c=r||n;return ve(c)>ve(s)?i=(t=a.height*c.height/s.height)*ve(a):t=(i=a.width*c.width/s.width)/ve(a),Nt({width:i,height:t,aspectRatio:o,sizeRestrictions:l})}function Mb(e){var t=e.getAreaRestrictions,i=e.coordinates,n=e.imageSize,r=ve(e.boundaries);if(i){var s={height:Math.max(i.height,n.height),width:Math.max(i.width,n.width)},o=gd({width:ve(s)>r?s.width:s.height*r,height:ve(s)>r?s.width/r:s.height},So(t())),l={left:i.left+i.width/2-o.width/2,top:i.top+i.height/2-o.height/2,width:o.width,height:o.height},a=Bn(i,Mt(K({left:0,top:0},n))),c={};return!a.left&&!a.right&&l.width<=n.width&&(c.left=0,c.right=n.width),!a.top&&!a.bottom&&l.height<=n.height&&(c.top=0,c.bottom=n.height),Fe(l,c)}var u=ve(n);return o={height:u>r?n.height:n.width/r,width:u>r?n.height*r:n.width},{left:n.width/2-o.width/2,top:n.height/2-o.height/2,width:o.width,height:o.height}}function os(e,t){return wd(e,Mt(t))}function $b(e){var t=e.event,i=e.coordinates,n=e.visibleArea,r=e.sizeRestrictions,s=e.getAreaRestrictions,o=e.positionRestrictions,l=e.adjustStencil,a=t.scale,c=t.move,u=K({},n),d=K({},i),h=1,f=1,p=a.factor&&Math.abs(a.factor-1)>.001;u=Xe(u,{left:c.left||0,top:c.top||0});var m={stencil:{minimum:Math.max(r.minWidth?r.minWidth/d.width:0,r.minHeight?r.minHeight/d.height:0),maximum:Math.min(r.maxWidth?r.maxWidth/d.width:1/0,r.maxHeight?r.maxHeight/d.height:1/0,Zi(d,o))},area:{maximum:Zi(u,s({visibleArea:u,type:"resize"}))}};a.factor&&p&&(a.factor<1?(f=Math.max(a.factor,m.stencil.minimum))>1&&(f=1):a.factor>1&&(f=Math.min(a.factor,Math.min(m.area.maximum,m.stencil.maximum)))<1&&(f=1)),f&&(u=ut(u,f,a.center));var w=i.left-n.left,b=n.width+n.left-(i.width+i.left),_=i.top-n.top,x=n.height+n.top-(i.height+i.top);return u=Fe(u=Xe(u,Qi(u,{left:o.left!==void 0?o.left-w*f:void 0,top:o.top!==void 0?o.top-_*f:void 0,bottom:o.bottom!==void 0?o.bottom+x*f:void 0,right:o.right!==void 0?o.right+b*f:void 0})),s({visibleArea:u,type:"move"})),d.width=d.width*f,d.height=d.height*f,d.left=u.left+w*f,d.top=u.top+_*f,d=Fe(d,ar(Mt(u),o)),a.factor&&p&&l&&(a.factor>1?h=Math.min(m.area.maximum,a.factor)/f:a.factor<1&&(h=Math.max(d.height/u.height,d.width/u.width,a.factor/f)),h!==1&&(u=Xe(u=Fe(u=ut(u,h,a.factor>1?a.center:Be(d)),s({visibleArea:u,type:"move"})),rr(Qi(d,Mt(u)))))),{coordinates:d,visibleArea:u}}function Ib(e){var t=e.aspectRatio,i=e.getAreaRestrictions,n=e.coordinates,r=e.visibleArea,s=e.sizeRestrictions,o=e.positionRestrictions,l=e.imageSize,a=e.previousImageSize,c=e.angle,u=K({},n),d=K({},r),h=ei(Be(K({left:0,top:0},a)),c);return(u=K(K({},Nt({sizeRestrictions:s,aspectRatio:t,width:u.width,height:u.height})),ei(Be(u),c))).left-=h.left-l.width/2+u.width/2,u.top-=h.top-l.height/2+u.height/2,d=ut(d,or(d,i({visibleArea:d,type:"resize"}))),{coordinates:u=Fe(u,o),visibleArea:d=Fe(d=Xe(d,Xi(Be(u),Be(n))),i({visibleArea:d,type:"move"}))}}function kb(e){var t=e.flip,i=e.previousFlip,n=e.rotate;e.aspectRatio;var r=e.getAreaRestrictions,s=e.coordinates,o=e.visibleArea,l=e.imageSize,a=K({},s),c=K({},o),u=i.horizontal!==t.horizontal,d=i.vertical!==t.vertical;if(u||d){var h=ei({left:l.width/2,top:l.height/2},-n),f=ei(Be(a),-n),p=ei({left:u?h.left-(f.left-h.left):f.left,top:d?h.top-(f.top-h.top):f.top},n);a=Xe(a,Xi(p,Be(a))),f=ei(Be(c),-n),c=Fe(c=Xe(c,Xi(p=ei({left:u?h.left-(f.left-h.left):f.left,top:d?h.top-(f.top-h.top):f.top},n),Be(c))),r({visibleArea:c,type:"move"}))}return{coordinates:a,visibleArea:c}}function ic(e){var t=e.directions,i=e.coordinates,n=e.positionRestrictions,r=n===void 0?{}:n,s=e.sizeRestrictions,o=e.preserveRatio,l=e.compensate,a=K({},t),c=Tt(i,a).width,u=Tt(i,a).height;c<0&&(a.left<0&&a.right<0?(a.left=-(i.width-s.minWidth)/(a.left/a.right),a.right=-(i.width-s.minWidth)/(a.right/a.left)):a.left<0?a.left=-(i.width-s.minWidth):a.right<0&&(a.right=-(i.width-s.minWidth))),u<0&&(a.top<0&&a.bottom<0?(a.top=-(i.height-s.minHeight)/(a.top/a.bottom),a.bottom=-(i.height-s.minHeight)/(a.bottom/a.top)):a.top<0?a.top=-(i.height-s.minHeight):a.bottom<0&&(a.bottom=-(i.height-s.minHeight)));var d=Bn(Tt(i,a),r);l&&(d.left&&d.left>0&&d.right===0?(a.right+=d.left,a.left-=d.left):d.right&&d.right>0&&d.left===0&&(a.left+=d.right,a.right-=d.right),d.top&&d.top>0&&d.bottom===0?(a.bottom+=d.top,a.top-=d.top):d.bottom&&d.bottom>0&&d.top===0&&(a.top+=d.bottom,a.bottom-=d.bottom),d=Bn(Tt(i,a),r));var h={width:1/0,height:1/0,left:1/0,right:1/0,top:1/0,bottom:1/0};if(Ct.forEach(function(m){var w=d[m];w&&a[m]&&(h[m]=Math.max(0,1-w/a[m]))}),o){var f=Math.min.apply(null,Ct.map(function(m){return h[m]}));f!==1/0&&Ct.forEach(function(m){a[m]*=f})}else Ct.forEach(function(m){h[m]!==1/0&&(a[m]*=h[m])});if(c=Tt(i,a).width,u=Tt(i,a).height,a.right+a.left&&(c>s.maxWidth?h.width=(s.maxWidth-i.width)/(a.right+a.left):c<s.minWidth&&(h.width=(s.minWidth-i.width)/(a.right+a.left))),a.bottom+a.top&&(u>s.maxHeight?h.height=(s.maxHeight-i.height)/(a.bottom+a.top):u<s.minHeight&&(h.height=(s.minHeight-i.height)/(a.bottom+a.top))),o){var p=Math.min(h.width,h.height);p!==1/0&&Ct.forEach(function(m){a[m]*=p})}else h.width!==1/0&&bb.forEach(function(m){a[m]*=h.width}),h.height!==1/0&&yb.forEach(function(m){a[m]*=h.height});return a}function as(e,t,i){return t==0&&i==0?e/2:t==0?0:i==0?e:e*Math.abs(t/(t+i))}var zb=_t("vue-simple-handler"),Lb=_t("vue-simple-handler-wrapper"),pa={name:"SimpleHandler",components:{HandlerWrapper:pd},props:{defaultClass:{type:String},hoverClass:{type:String},wrapperClass:{type:String},horizontalPosition:{type:String},verticalPosition:{type:String},disabled:{type:Boolean,default:!1}},data:function(){return{hover:!1}},computed:{classes:function(){var e,t=(at(e={},this.horizontalPosition,!!this.horizontalPosition),at(e,this.verticalPosition,!!this.verticalPosition),at(e,"".concat(this.horizontalPosition,"-").concat(this.verticalPosition),!!(this.verticalPosition&&this.horizontalPosition)),at(e,"hover",this.hover),e);return{default:ze(zb(t),this.defaultClass,this.hover&&this.hoverClass),wrapper:ze(Lb(t),this.wrapperClass)}}},methods:{onDrag:function(e){this.$emit("drag",e)},onEnter:function(){this.hover=!0},onLeave:function(){this.hover=!1},onDragEnd:function(){this.$emit("drag-end")}},emits:["drag","drag-end"]};pa.render=function(e,t,i,n,r,s){var o=Ut("HandlerWrapper");return j(),oe(o,{class:s.classes.wrapper,"vertical-position":i.verticalPosition,"horizontal-position":i.horizontalPosition,disabled:i.disabled,onDrag:s.onDrag,onDragEnd:s.onDragEnd,onEnter:s.onEnter,onLeave:s.onLeave},{default:ge(function(){return[k("div",{class:s.classes.default},null,2)]}),_:1},8,["class","vertical-position","horizontal-position","disabled","onDrag","onDragEnd","onEnter","onLeave"])};var jb=_t("vue-simple-line"),Db=_t("vue-simple-line-wrapper"),ma={name:"SimpleLine",components:{LineWrapper:md},props:{defaultClass:{type:String},hoverClass:{type:String},wrapperClass:{type:String},position:{type:String},disabled:{type:Boolean,default:!1}},data:function(){return{hover:!1}},computed:{classes:function(){return{root:ze(jb(at({},this.position,!0)),this.defaultClass,this.hover&&this.hoverClass),wrapper:ze(Db(at({},this.position,!0)),this.wrapperClass)}}},methods:{onDrag:function(e){this.$emit("drag",e)},onEnter:function(){this.hover=!0},onLeave:function(){this.hover=!1},onDragEnd:function(){this.$emit("drag-end")}},emits:["drag","drag-end"]};ma.render=function(e,t,i,n,r,s){var o=Ut("LineWrapper");return j(),oe(o,{class:s.classes.wrapper,position:i.position,disabled:i.disabled,onDrag:s.onDrag,onDragEnd:s.onDragEnd,onEnter:s.onEnter,onLeave:s.onLeave},{default:ge(function(){return[k("div",{class:s.classes.root},null,2)]}),_:1},8,["class","position","disabled","onDrag","onDragEnd","onEnter","onLeave"])};var Ir=_t("vue-bounding-box"),Nb=["east","west",null],Bb=["south","north",null],bd={name:"BoundingBox",props:{width:{type:Number},height:{type:Number},transitions:{type:Object},handlers:{type:Object,default:function(){return{eastNorth:!0,north:!0,westNorth:!0,west:!0,westSouth:!0,south:!0,eastSouth:!0,east:!0}}},handlersComponent:{type:[Object,String],default:function(){return pa}},handlersClasses:{type:Object,default:function(){return{}}},handlersWrappersClasses:{type:Object,default:function(){return{}}},lines:{type:Object,default:function(){return{west:!0,north:!0,east:!0,south:!0}}},linesComponent:{type:[Object,String],default:function(){return ma}},linesClasses:{type:Object,default:function(){return{}}},linesWrappersClasses:{type:Object,default:function(){return{}}},resizable:{type:Boolean,default:!0}},data:function(){var e=[];return Nb.forEach(function(t){Bb.forEach(function(i){if(t!==i){var n=ud(t,i),r=n.name,s=n.classname;e.push({name:r,classname:s,verticalDirection:i,horizontalDirection:t})}})}),{points:e}},computed:{style:function(){var e={};return this.width&&this.height&&(e.width="".concat(this.width,"px"),e.height="".concat(this.height,"px"),this.transitions&&this.transitions.enabled&&(e.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction))),e},classes:function(){var e=this.handlersClasses,t=this.handlersWrappersClasses,i=this.linesClasses,n=this.linesWrappersClasses;return{root:Ir(),handlers:e,handlersWrappers:t,lines:i,linesWrappers:n}},lineNodes:function(){var e=this,t=[];return this.points.forEach(function(i){i.horizontalDirection&&i.verticalDirection||!e.lines[i.name]||t.push({name:i.name,component:e.linesComponent,class:ze(e.classes.lines.default,e.classes.lines[i.name],!e.resizable&&e.classes.lines.disabled),wrapperClass:ze(e.classes.linesWrappers.default,e.classes.linesWrappers[i.name],!e.resizable&&e.classes.linesWrappers.disabled),hoverClass:e.classes.lines.hover,verticalDirection:i.verticalDirection,horizontalDirection:i.horizontalDirection,disabled:!e.resizable})}),t},handlerNodes:function(){var e=this,t=[],i=this.width,n=this.height;return this.points.forEach(function(r){if(e.handlers[r.name]){var s={name:r.name,component:e.handlersComponent,class:ze(e.classes.handlers.default,e.classes.handlers[r.name]),wrapperClass:ze(e.classes.handlersWrappers.default,e.classes.handlersWrappers[r.name]),hoverClass:e.classes.handlers.hover,verticalDirection:r.verticalDirection,horizontalDirection:r.horizontalDirection,disabled:!e.resizable};if(i&&n){var o=r.horizontalDirection,l=r.verticalDirection,a=o==="east"?i:o==="west"?0:i/2,c=l==="south"?n:l==="north"?0:n/2;s.wrapperClass=Ir("handler"),s.wrapperStyle={transform:"translate(".concat(a,"px, ").concat(c,"px)")},e.transitions&&e.transitions.enabled&&(s.wrapperStyle.transition="".concat(e.transitions.time,"ms ").concat(e.transitions.timingFunction))}else s.wrapperClass=Ir("handler",at({},r.classname,!0));t.push(s)}}),t}},beforeMount:function(){window.addEventListener("mouseup",this.onMouseUp,{passive:!1}),window.addEventListener("mousemove",this.onMouseMove,{passive:!1}),window.addEventListener("touchmove",this.onTouchMove,{passive:!1}),window.addEventListener("touchend",this.onTouchEnd,{passive:!1})},beforeUnmount:function(){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd)},mounted:function(){this.touches=[]},methods:{onEnd:function(){this.$emit("resize-end")},onHandlerDrag:function(e,t,i){var n,r=e.shift(),s=r.left,o=r.top,l={left:0,right:0,top:0,bottom:0};t==="west"?l.left-=s:t==="east"&&(l.right+=s),i==="north"?l.top-=o:i==="south"&&(l.bottom+=o),!i&&t?n="width":i&&!t&&(n="height"),this.resizable&&this.$emit("resize",new gb(l,{allowedDirections:{left:t==="west"||!t,right:t==="east"||!t,bottom:i==="south"||!i,top:i==="north"||!i},preserveAspectRatio:e.nativeEvent&&e.nativeEvent.shiftKey,respectDirection:n}))}},emits:["resize","resize-end"]};bd.render=function(e,t,i,n,r,s){return j(),oe("div",{ref:"box",class:s.classes.root,style:s.style},[$t(e.$slots,"default"),k("div",null,[(j(!0),oe(Oe,null,Ot(s.lineNodes,function(o){return j(),oe(xs(o.component),{key:o.name,"default-class":o.class,"hover-class":o.hoverClass,"wrapper-class":o.wrapperClass,position:o.name,disabled:o.disabled,onDrag:function(l){return s.onHandlerDrag(l,o.horizontalDirection,o.verticalDirection)},onDragEnd:t[1]||(t[1]=function(l){return s.onEnd()})},null,8,["default-class","hover-class","wrapper-class","position","disabled","onDrag"])}),128))]),(j(!0),oe(Oe,null,Ot(s.handlerNodes,function(o){return j(),oe("div",{key:o.name,style:o.wrapperStyle,class:o.wrapperClass},[(j(),oe(xs(o.component),{"default-class":o.class,"hover-class":o.hoverClass,"wrapper-class":o.wrapperClass,"horizontal-position":o.horizontalDirection,"vertical-position":o.verticalDirection,disabled:o.disabled,onDrag:function(l){return s.onHandlerDrag(l,o.horizontalDirection,o.verticalDirection)},onDragEnd:t[2]||(t[2]=function(l){return s.onEnd()})},null,8,["default-class","hover-class","wrapper-class","horizontal-position","vertical-position","disabled","onDrag"]))],6)}),128))],6)};var Fb=_t("vue-draggable-area"),yd={name:"DraggableArea",props:{movable:{type:Boolean,default:!0},activationDistance:{type:Number,default:20}},computed:{classnames:function(){return{default:Fb()}}},beforeMount:function(){window.addEventListener("mouseup",this.onMouseUp,{passive:!1}),window.addEventListener("mousemove",this.onMouseMove,{passive:!1}),window.addEventListener("touchmove",this.onTouchMove,{passive:!1}),window.addEventListener("touchend",this.onTouchEnd,{passive:!1})},beforeUnmount:function(){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd)},mounted:function(){this.touches=[],this.touchStarted=!1},methods:{onTouchStart:function(e){if(e.cancelable){var t=this.movable&&e.touches.length===1;t&&(this.touches=Si(e.touches)),(this.touchStarted||t)&&(e.preventDefault(),e.stopPropagation())}},onTouchEnd:function(){this.touchStarted=!1,this.processEnd()},onTouchMove:function(e){this.touches.length>=1&&(this.touchStarted?(this.processMove(e,e.touches),e.preventDefault(),e.stopPropagation()):fd({x:this.touches[0].clientX,y:this.touches[0].clientY},{x:e.touches[0].clientX,y:e.touches[0].clientY})>this.activationDistance&&(this.initAnchor({clientX:e.touches[0].clientX,clientY:e.touches[0].clientY}),this.touchStarted=!0))},onMouseDown:function(e){if(this.movable&&e.button===0){var t={fake:!0,clientX:e.clientX,clientY:e.clientY};this.touches=[t],this.initAnchor(t),e.stopPropagation()}},onMouseMove:function(e){this.touches.length&&(this.processMove(e,[{fake:!0,clientX:e.clientX,clientY:e.clientY}]),e.preventDefault&&e.cancelable&&e.preventDefault(),e.stopPropagation())},onMouseUp:function(){this.processEnd()},initAnchor:function(e){var t=this.$refs.container.getBoundingClientRect(),i=t.left,n=t.top;this.anchor={x:e.clientX-i,y:e.clientY-n}},processMove:function(e,t){var i=Si(t);if(this.touches.length){var n=this.$refs.container.getBoundingClientRect(),r=n.left,s=n.top;this.touches.length===1&&i.length===1&&this.$emit("move",new ha({left:i[0].clientX-(r+this.anchor.x),top:i[0].clientY-(s+this.anchor.y)}))}},processEnd:function(){this.touches.length&&this.$emit("move-end"),this.touches=[]}},emits:["move","move-end"]};yd.render=function(e,t,i,n,r,s){return j(),oe("div",{ref:"container",onTouchstart:t[1]||(t[1]=function(){return s.onTouchStart&&s.onTouchStart.apply(s,arguments)}),onMousedown:t[2]||(t[2]=function(){return s.onMouseDown&&s.onMouseDown.apply(s,arguments)})},[$t(e.$slots,"default")],544)};function kr(e){var t,i;return{rotate:e.rotate||0,flip:{horizontal:((t=e==null?void 0:e.flip)===null||t===void 0?void 0:t.horizontal)||!1,vertical:((i=e==null?void 0:e.flip)===null||i===void 0?void 0:i.vertical)||!1}}}function Ub(e){return new Promise(function(t,i){try{if(e)if(/^data:/i.test(e))t(function(a){a=a.replace(/^data:([^;]+);base64,/gim,"");for(var c=atob(a),u=c.length,d=new ArrayBuffer(u),h=new Uint8Array(d),f=0;f<u;f++)h[f]=c.charCodeAt(f);return d}(e));else if(/^blob:/i.test(e)){var n=new FileReader;n.onload=function(a){t(a.target.result)},s=e,o=function(a){n.readAsArrayBuffer(a)},(l=new XMLHttpRequest).open("GET",s,!0),l.responseType="blob",l.onload=function(){this.status!=200&&this.status!==0||o(this.response)},l.send()}else{var r=new XMLHttpRequest;r.onreadystatechange=function(){r.readyState===4&&(r.status===200||r.status===0?t(r.response):i("Warning: could not load an image to parse its orientation"),r=null)},r.onprogress=function(){r.getResponseHeader("content-type")!=="image/jpeg"&&r.abort()},r.withCredentials=!1,r.open("GET",e,!0),r.responseType="arraybuffer",r.send(null)}else i("Error: the image is empty")}catch(a){i(a)}var s,o,l})}function _d(e){var t=e.rotate,i=e.flip,n=e.scaleX,r=e.scaleY,s="";return s+=" rotate("+t+"deg) ",s+=" scaleX("+n*(i.horizontal?-1:1)+") ",s+=" scaleY("+r*(i.vertical?-1:1)+") "}function Hb(e){try{var t,i=new DataView(e),n=void 0,r=void 0,s=void 0,o=void 0;if(i.getUint8(0)===255&&i.getUint8(1)===216)for(var l=i.byteLength,a=2;a+1<l;){if(i.getUint8(a)===255&&i.getUint8(a+1)===225){s=a;break}a++}if(s&&(n=s+10,function(f,p,m){var w,b="";for(w=p,m+=p;w<m;w++)b+=String.fromCharCode(f.getUint8(w));return b}(i,s+4,4)==="Exif")){var c=i.getUint16(n);if(((r=c===18761)||c===19789)&&i.getUint16(n+2,r)===42){var u=i.getUint32(n+4,r);u>=8&&(o=n+u)}}if(o){for(var d=i.getUint16(o,r),h=0;h<d;h++)if(a=o+12*h+2,i.getUint16(a,r)===274){a+=8,t=i.getUint16(a,r),i.setUint16(a,1,r);break}}return t}catch{return null}}function nc(e,t){var i=t.getBoundingClientRect(),n=i.left,r=i.top,s={left:0,top:0},o=0;return e.forEach(function(l){s.left+=(l.clientX-n)/e.length,s.top+=(l.clientY-r)/e.length}),e.forEach(function(l){o+=fd({x:s.left,y:s.top},{x:l.clientX-n,y:l.clientY-r})}),{centerMass:s,spread:o,count:e.length}}var Sd={props:{touchMove:{type:Boolean,required:!0},mouseMove:{type:Boolean,required:!0},touchResize:{type:Boolean,required:!0},wheelResize:{type:[Boolean,Object],required:!0},eventsFilter:{type:Function,required:!1}},beforeMount:function(){window.addEventListener("mouseup",this.onMouseUp,{passive:!1}),window.addEventListener("mousemove",this.onMouseMove,{passive:!1}),window.addEventListener("touchmove",this.onTouchMove,{passive:!1}),window.addEventListener("touchend",this.onTouchEnd,{passive:!1})},beforeUnmount:function(){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd)},created:function(){this.transforming=!1,this.debouncedProcessEnd=yo(this.processEnd),this.touches=[]},methods:{processMove:function(e,t){if(this.touches.length){if(this.touches.length===1&&t.length===1)this.$emit("move",new Pn({left:this.touches[0].clientX-t[0].clientX,top:this.touches[0].clientY-t[0].clientY}));else if(this.touches.length>1&&this.touchResize){var i=nc(t,this.$refs.container),n=this.oldGeometricProperties;n.count===i.count&&n.count>1&&this.$emit("resize",new Pn({left:n.centerMass.left-i.centerMass.left,top:n.centerMass.top-i.centerMass.top},{factor:n.spread/i.spread,center:i.centerMass})),this.oldGeometricProperties=i}this.touches=t}},processEnd:function(){this.transforming&&(this.transforming=!1,this.$emit("transform-end"))},processStart:function(){this.transforming=!0,this.debouncedProcessEnd.clear()},processEvent:function(e){return this.eventsFilter?this.eventsFilter(e,this.transforming)!==!1:(e.preventDefault(),e.stopPropagation(),!0)},onTouchStart:function(e){if(e.cancelable&&(this.touchMove||this.touchResize&&e.touches.length>1)&&this.processEvent(e)){var t=this.$refs.container,i=t.getBoundingClientRect(),n=i.left,r=i.top,s=i.bottom,o=i.right;this.touches=Si(e.touches).filter(function(l){return l.clientX>n&&l.clientX<o&&l.clientY>r&&l.clientY<s}),this.oldGeometricProperties=nc(this.touches,t)}},onTouchEnd:function(e){e.touches.length===0&&(this.touches=[],this.processEnd())},onTouchMove:function(e){var t=this;if(this.touches.length){var i=Si(e.touches).filter(function(n){return!n.identifier||t.touches.find(function(r){return r.identifier===n.identifier})});this.processEvent(e)&&(this.processMove(e,i),this.processStart())}},onMouseDown:function(e){if(this.mouseMove&&"buttons"in e&&e.buttons===1&&this.processEvent(e)){var t={fake:!0,clientX:e.clientX,clientY:e.clientY};this.touches=[t],this.processStart()}},onMouseMove:function(e){this.touches.length&&this.processEvent(e)&&this.processMove(e,[{clientX:e.clientX,clientY:e.clientY}])},onMouseUp:function(){this.touches=[],this.processEnd()},onWheel:function(e){if(this.wheelResize&&this.processEvent(e)){var t=this.$refs.container.getBoundingClientRect(),i=t.left,n=t.top,r=1+this.wheelResize.ratio*(o=e.deltaY||e.detail||e.wheelDelta,(l=+o)==0||hd(l)?l:l>0?1:-1),s={left:e.clientX-i,top:e.clientY-n};this.$emit("resize",new Pn({},{factor:r,center:s})),this.touches.length||this.debouncedProcessEnd()}var o,l}},emits:["resize","move","transform-end"]};Sd.render=function(e,t,i,n,r,s){return j(),oe("div",{ref:"container",onTouchstart:t[1]||(t[1]=function(){return s.onTouchStart&&s.onTouchStart.apply(s,arguments)}),onMousedown:t[2]||(t[2]=function(){return s.onMouseDown&&s.onMouseDown.apply(s,arguments)}),onWheel:t[3]||(t[3]=function(){return s.onWheel&&s.onWheel.apply(s,arguments)})},[$t(e.$slots,"default")],544)};var Eo={components:{TransformableImage:Sd},props:{touchMove:{type:Boolean,required:!0},mouseMove:{type:Boolean,required:!0},touchResize:{type:Boolean,required:!0},wheelResize:{type:[Boolean,Object],required:!0}},emits:["resize","move"]};Eo.render=function(e,t,i,n,r,s){var o=Ut("transformable-image");return j(),oe(o,{"touch-move":i.touchMove,"touch-resize":i.touchResize,"mouse-move":i.mouseMove,"wheel-resize":i.wheelResize,onMove:t[1]||(t[1]=function(l){return e.$emit("move",l)}),onResize:t[2]||(t[2]=function(l){return e.$emit("resize",l)})},{default:ge(function(){return[$t(e.$slots,"default")]}),_:3},8,["touch-move","touch-resize","mouse-move","wheel-resize"])};var ls=_t("vue-preview"),xd={props:{coordinates:{type:Object},transitions:{type:Object},image:{type:Object,default:function(){return{}}},imageClass:{type:String},width:{type:Number},height:{type:Number},fill:{type:Boolean}},data:function(){return{calculatedImageSize:{width:0,height:0},calculatedSize:{width:0,height:0}}},computed:{classes:function(){return{root:ls({fill:this.fill}),wrapper:ls("wrapper"),imageWrapper:ls("image-wrapper"),image:ze(ls("image"),this.imageClass)}},style:function(){if(this.fill)return{};var e={};return this.width&&(e.width="".concat(this.size.width,"px")),this.height&&(e.height="".concat(this.size.height,"px")),this.transitions&&this.transitions.enabled&&(e.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction)),e},wrapperStyle:function(){var e={width:"".concat(this.size.width,"px"),height:"".concat(this.size.height,"px"),left:"calc(50% - ".concat(this.size.width/2,"px)"),top:"calc(50% - ".concat(this.size.height/2,"px)")};return this.transitions&&this.transitions.enabled&&(e.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction)),e},imageStyle:function(){if(this.coordinates&&this.image){var e=this.coordinates.width/this.size.width,t=pe(pe({rotate:0,flip:{horizontal:!1,vertical:!1}},this.image.transforms),{},{scaleX:1/e,scaleY:1/e}),i=this.imageSize.width,n=this.imageSize.height,r=vd({width:i,height:n},t.rotate),s={width:"".concat(i,"px"),height:"".concat(n,"px"),left:"0px",top:"0px"},o={rotate:{left:(i-r.width)*t.scaleX/2,top:(n-r.height)*t.scaleY/2},scale:{left:(1-t.scaleX)*i/2,top:(1-t.scaleY)*n/2}};return s.transform=`translate(
				`.concat(-this.coordinates.left/e-o.rotate.left-o.scale.left,"px,").concat(-this.coordinates.top/e-o.rotate.top-o.scale.top,"px) ")+_d(t),this.transitions&&this.transitions.enabled&&(s.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction)),s}return{}},size:function(){return{width:this.width||this.calculatedSize.width,height:this.height||this.calculatedSize.height}},imageSize:function(){return{width:this.image.width||this.calculatedImageSize.width,height:this.image.height||this.calculatedImageSize.height}}},watch:{image:function(e){(e.width||e.height)&&this.onChangeImage()}},mounted:function(){var e=this;this.onChangeImage(),this.$refs.image.addEventListener("load",function(){e.refreshImage()}),window.addEventListener("resize",this.refresh),window.addEventListener("orientationchange",this.refresh)},unmounted:function(){window.removeEventListener("resize",this.refresh),window.removeEventListener("orientationchange",this.refresh)},methods:{refreshImage:function(){var e=this.$refs.image;this.calculatedImageSize.height=e.naturalHeight,this.calculatedImageSize.width=e.naturalWidth},refresh:function(){var e=this.$refs.root;this.width||(this.calculatedSize.width=e.clientWidth),this.height||(this.calculatedSize.height=e.clientHeight)},onChangeImage:function(){var e=this.$refs.image;e&&e.complete&&this.refreshImage(),this.refresh()}}};xd.render=function(e,t,i,n,r,s){return j(),oe("div",{ref:"root",class:s.classes.root,style:s.style},[k("div",{ref:"wrapper",class:s.classes.wrapper,style:s.wrapperStyle},[Bo(k("img",{ref:"image",src:i.image&&i.image.src,class:s.classes.image,style:s.imageStyle},null,14,["src"]),[[Yo,i.image&&i.image.src]])],6)],6)};var Ed={components:{Preview:xd},inheritAttrs:!1};Ed.render=function(e,t,i,n,r,s){var o=Ut("preview");return j(),oe(o,qs(e.$attrs,{fill:!0}),null,16)};var zr=_t("vue-rectangle-stencil"),Td={name:"RectangleStencil",components:{StencilPreview:Ed,BoundingBox:bd,DraggableArea:yd},props:{image:{type:Object},coordinates:{type:Object},stencilCoordinates:{type:Object},handlers:{type:Object},handlersComponent:{type:[Object,String],default:function(){return pa}},lines:{type:Object},linesComponent:{type:[Object,String],default:function(){return ma}},aspectRatio:{type:[Number,String]},minAspectRatio:{type:[Number,String]},maxAspectRatio:{type:[Number,String]},movable:{type:Boolean,default:!0},resizable:{type:Boolean,default:!0},transitions:{type:Object},movingClass:{type:String},resizingClass:{type:String},previewClass:{type:String},boundingBoxClass:{type:String},linesClasses:{type:Object,default:function(){return{}}},linesWrappersClasses:{type:Object,default:function(){return{}}},handlersClasses:{type:Object,default:function(){return{}}},handlersWrappersClasses:{type:Object,default:function(){return{}}}},data:function(){return{moving:!1,resizing:!1}},computed:{classes:function(){return{stencil:ze(zr({movable:this.movable,moving:this.moving,resizing:this.resizing}),this.moving&&this.movingClass,this.resizing&&this.resizingClass),preview:ze(zr("preview"),this.previewClass),boundingBox:ze(zr("bounding-box"),this.boundingBoxClass)}},style:function(){var e=this.stencilCoordinates,t=e.height,i=e.width,n=e.left,r=e.top,s={width:"".concat(i,"px"),height:"".concat(t,"px"),transform:"translate(".concat(n,"px, ").concat(r,"px)")};return this.transitions&&this.transitions.enabled&&(s.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction)),s}},methods:{onMove:function(e){this.$emit("move",e),this.moving=!0},onMoveEnd:function(){this.$emit("move-end"),this.moving=!1},onResize:function(e){this.$emit("resize",e),this.resizing=!0},onResizeEnd:function(){this.$emit("resize-end"),this.resizing=!1},aspectRatios:function(){return{minimum:this.aspectRatio||this.minAspectRatio,maximum:this.aspectRatio||this.maxAspectRatio}}},emits:["resize","resize-end","move","move-end"]};Td.render=function(e,t,i,n,r,s){var o=Ut("stencil-preview"),l=Ut("draggable-area"),a=Ut("bounding-box");return j(),oe("div",{class:s.classes.stencil,style:s.style},[k(a,{width:i.stencilCoordinates.width,height:i.stencilCoordinates.height,transitions:i.transitions,class:s.classes.boundingBox,handlers:i.handlers,"handlers-component":i.handlersComponent,"handlers-classes":i.handlersClasses,"handlers-wrappers-classes":i.handlersWrappersClasses,lines:i.lines,"lines-component":i.linesComponent,"lines-classes":i.linesClasses,"lines-wrappers-classes":i.linesWrappersClasses,resizable:i.resizable,onResize:s.onResize,onResizeEnd:s.onResizeEnd},{default:ge(function(){return[k(l,{movable:i.movable,onMove:s.onMove,onMoveEnd:s.onMoveEnd},{default:ge(function(){return[k(o,{image:i.image,coordinates:i.coordinates,width:i.stencilCoordinates.width,height:i.stencilCoordinates.height,class:s.classes.preview,transitions:i.transitions},null,8,["image","coordinates","width","height","class","transitions"])]}),_:1},8,["movable","onMove","onMoveEnd"])]}),_:1},8,["width","height","transitions","class","handlers","handlers-component","handlers-classes","handlers-wrappers-classes","lines","lines-component","lines-classes","lines-wrappers-classes","resizable","onResize","onResizeEnd"])],6)};var Wb=["transitions"],zt=_t("vue-advanced-cropper"),Ad={name:"Cropper",components:{BackgroundWrapper:Eo},props:{src:{type:String,default:null},stencilComponent:{type:[Object,String],default:function(){return Td}},backgroundWrapperComponent:{type:[Object,String],default:function(){return Eo}},stencilProps:{type:Object,default:function(){return{}}},autoZoom:{type:Boolean,default:!1},imageClass:{type:String},boundariesClass:{type:String},backgroundClass:{type:String},foregroundClass:{type:String},minWidth:{type:[Number,String]},minHeight:{type:[Number,String]},maxWidth:{type:[Number,String]},maxHeight:{type:[Number,String]},debounce:{type:[Boolean,Number],default:500},transitions:{type:Boolean,default:!0},checkOrientation:{type:Boolean,default:!0},canvas:{type:[Object,Boolean],default:!0},crossOrigin:{type:[Boolean,String],default:void 0},transitionTime:{type:Number,default:300},imageRestriction:{type:String,default:"fit-area",validator:function(e){return Sb.indexOf(e)!==-1}},roundResult:{type:Boolean,default:!0},defaultSize:{type:[Function,Object]},defaultPosition:{type:[Function,Object]},defaultVisibleArea:{type:[Function,Object]},defaultTransforms:{type:[Function,Object]},defaultBoundaries:{type:[Function,String],validator:function(e){return!(typeof e=="string"&&e!=="fill"&&e!=="fit")}},priority:{type:String,default:"coordinates"},stencilSize:{type:[Object,Function]},resizeImage:{type:[Boolean,Object],default:!0},moveImage:{type:[Boolean,Object],default:!0},autoZoomAlgorithm:{type:Function},resizeAlgorithm:{type:Function,default:function(e){var t=e.event,i=e.coordinates,n=e.aspectRatio,r=e.positionRestrictions,s=e.sizeRestrictions,o=K(K({},i),{right:i.left+i.width,bottom:i.top+i.height}),l=t.params||{},a=K({},t.directions),c=l.allowedDirections||{left:!0,right:!0,bottom:!0,top:!0};s.widthFrozen&&(a.left=0,a.right=0),s.heightFrozen&&(a.top=0,a.bottom=0),Ct.forEach(function(S){c[S]||(a[S]=0)});var u=Tt(o,a=ic({coordinates:o,directions:a,sizeRestrictions:s,positionRestrictions:r})).width,d=Tt(o,a).height,h=l.preserveRatio?ve(o):$r(u/d,n);if(h){var f=l.respectDirection;if(f||(f=o.width>=o.height||h===1?"width":"height"),f==="width"){var p=u/h-o.height;if(c.top&&c.bottom){var m=a.top,w=a.bottom;a.bottom=as(p,w,m),a.top=as(p,m,w)}else c.bottom?a.bottom=p:c.top?a.top=p:c.right?a.right=0:c.left&&(a.left=0)}else if(f==="height"){var b=o.width-d*h;if(c.left&&c.right){var _=a.left,x=a.right;a.left=-as(b,_,x),a.right=-as(b,x,_)}else c.left?a.left=-b:c.right?a.right=-b:c.top?a.top=0:c.bottom&&(a.bottom=0)}a=ic({directions:a,coordinates:o,sizeRestrictions:s,positionRestrictions:r,preserveRatio:!0,compensate:l.compensate})}return u=Tt(o,a).width,d=Tt(o,a).height,(h=l.preserveRatio?ve(o):$r(u/d,n))&&Math.abs(h-u/d)>.001&&Ct.forEach(function(S){c[S]||(a[S]=0)}),xo({event:new ha({left:-a.left,top:-a.top}),coordinates:{width:i.width+a.right+a.left,height:i.height+a.top+a.bottom,left:i.left,top:i.top},positionRestrictions:r})}},moveAlgorithm:{type:Function,default:xo},initStretcher:{type:Function,default:function(e){var t=e.stretcher,i=e.imageSize,n=ve(i);t.style.width=i.width+"px",t.style.height=t.clientWidth/n+"px",t.style.width=t.clientWidth+"px"}},fitCoordinates:{type:Function,default:function(e){var t=e.visibleArea,i=e.coordinates,n=e.aspectRatio,r=e.sizeRestrictions,s=e.positionRestrictions,o=K(K({},i),Nt({width:i.width,height:i.height,aspectRatio:n,sizeRestrictions:{maxWidth:t.width,maxHeight:t.height,minHeight:Math.min(t.height,r.minHeight),minWidth:Math.min(t.width,r.minWidth)}}));return o=Fe(o=Xe(o,Xi(Be(i),Be(o))),ar(Mt(t),s))}},fitVisibleArea:{type:Function,default:function(e){var t=e.visibleArea,i=e.boundaries,n=e.getAreaRestrictions,r=e.coordinates,s=K({},t);s.height=s.width/ve(i),s.top+=(t.height-s.height)/2,(r.height-s.height>0||r.width-s.width>0)&&(s=ut(s,Math.max(r.height/s.height,r.width/s.width)));var o=rr(Qi(r,Mt(s=ut(s,or(s,n({visibleArea:s,type:"resize"}))))));return s.width<r.width&&(o.left=0),s.height<r.height&&(o.top=0),s=Fe(s=Xe(s,o),n({visibleArea:s,type:"move"}))}},areaRestrictionsAlgorithm:{type:Function,default:function(e){var t=e.visibleArea,i=e.boundaries,n=e.imageSize,r=e.imageRestriction,s=e.type,o={};return r==="fill-area"?o={left:0,top:0,right:n.width,bottom:n.height}:r==="fit-area"&&(ve(i)>ve(n)?(o={top:0,bottom:n.height},t&&s==="move"&&(t.width>n.width?(o.left=-(t.width-n.width)/2,o.right=n.width-o.left):(o.left=0,o.right=n.width))):(o={left:0,right:n.width},t&&s==="move"&&(t.height>n.height?(o.top=-(t.height-n.height)/2,o.bottom=n.height-o.top):(o.top=0,o.bottom=n.height)))),o}},sizeRestrictionsAlgorithm:{type:Function,default:function(e){return{minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight}}},positionRestrictionsAlgorithm:{type:Function,default:function(e){var t=e.imageSize,i={};return e.imageRestriction!=="none"&&(i={left:0,top:0,right:t.width,bottom:t.height}),i}}},data:function(){return{transitionsActive:!1,imageLoaded:!1,imageAttributes:{width:null,height:null,crossOrigin:null,src:null},defaultImageTransforms:{rotate:0,flip:{horizontal:!1,vertical:!1}},appliedImageTransforms:{rotate:0,flip:{horizontal:!1,vertical:!1}},boundaries:{width:0,height:0},visibleArea:null,coordinates:pe({},Zl)}},computed:{image:function(){return{src:this.imageAttributes.src,width:this.imageAttributes.width,height:this.imageAttributes.height,transforms:this.imageTransforms}},imageTransforms:function(){return{rotate:this.appliedImageTransforms.rotate,flip:{horizontal:this.appliedImageTransforms.flip.horizontal,vertical:this.appliedImageTransforms.flip.vertical},translateX:this.visibleArea?this.visibleArea.left/this.coefficient:0,translateY:this.visibleArea?this.visibleArea.top/this.coefficient:0,scaleX:1/this.coefficient,scaleY:1/this.coefficient}},imageSize:function(){var e=function(t){return t*Math.PI/180}(this.imageTransforms.rotate);return{width:Math.abs(this.imageAttributes.width*Math.cos(e))+Math.abs(this.imageAttributes.height*Math.sin(e)),height:Math.abs(this.imageAttributes.width*Math.sin(e))+Math.abs(this.imageAttributes.height*Math.cos(e))}},initialized:function(){return!!(this.visibleArea&&this.imageLoaded)},settings:function(){var e=_o(this.resizeImage,{touch:!0,wheel:{ratio:.1},adjustStencil:!0},{touch:!1,wheel:!1,adjustStencil:!1});return{moveImage:_o(this.moveImage,{touch:!0,mouse:!0},{touch:!1,mouse:!1}),resizeImage:e}},coefficient:function(){return this.visibleArea?this.visibleArea.width/this.boundaries.width:0},areaRestrictions:function(){return this.imageLoaded?this.areaRestrictionsAlgorithm({imageSize:this.imageSize,imageRestriction:this.imageRestriction,boundaries:this.boundaries}):{}},transitionsOptions:function(){return{enabled:this.transitionsActive,timingFunction:"ease-in-out",time:350}},sizeRestrictions:function(){if(this.boundaries.width&&this.boundaries.height&&this.imageSize.width&&this.imageSize.height){var e=this.sizeRestrictionsAlgorithm({imageSize:this.imageSize,minWidth:je(this.minWidth)?0:rs(this.minWidth),minHeight:je(this.minHeight)?0:rs(this.minHeight),maxWidth:je(this.maxWidth)?1/0:rs(this.maxWidth),maxHeight:je(this.maxHeight)?1/0:rs(this.maxHeight)});if(e=function(n){var r=n.areaRestrictions,s=n.sizeRestrictions;n.imageSize;var o=n.boundaries,l=n.positionRestrictions;n.imageRestriction;var a=K(K({},s),{minWidth:s.minWidth!==void 0?s.minWidth:0,minHeight:s.minHeight!==void 0?s.minHeight:0,maxWidth:s.maxWidth!==void 0?s.maxWidth:1/0,maxHeight:s.maxHeight!==void 0?s.maxHeight:1/0});l.left!==void 0&&l.right!==void 0&&(a.maxWidth=Math.min(a.maxWidth,l.right-l.left)),l.bottom!==void 0&&l.top!==void 0&&(a.maxHeight=Math.min(a.maxHeight,l.bottom-l.top));var c=So(r),u=gd(o,c);return c.width<1/0&&(!a.maxWidth||a.maxWidth>u.width)&&(a.maxWidth=Math.min(a.maxWidth,u.width)),c.height<1/0&&(!a.maxHeight||a.maxHeight>u.height)&&(a.maxHeight=Math.min(a.maxHeight,u.height)),a.minWidth>a.maxWidth&&(a.minWidth=a.maxWidth,a.widthFrozen=!0),a.minHeight>a.maxHeight&&(a.minHeight=a.maxHeight,a.heightFrozen=!0),a}({sizeRestrictions:e,areaRestrictions:this.getAreaRestrictions({visibleArea:this.visibleArea,type:"resize"}),imageSize:this.imageSize,boundaries:this.boundaries,positionRestrictions:this.positionRestrictions,imageRestriction:this.imageRestriction,visibleArea:this.visibleArea,stencilSize:this.getStencilSize()}),this.visibleArea&&this.stencilSize){var t=this.getStencilSize(),i=So(this.getAreaRestrictions({visibleArea:this.visibleArea,type:"resize"}));e.maxWidth=Math.min(e.maxWidth,i.width*t.width/this.boundaries.width),e.maxHeight=Math.min(e.maxHeight,i.height*t.height/this.boundaries.height),e.maxWidth<e.minWidth&&(e.minWidth=e.maxWidth),e.maxHeight<e.minHeight&&(e.minHeight=e.maxHeight)}return e}return{minWidth:0,minHeight:0,maxWidth:0,maxHeight:0}},positionRestrictions:function(){return this.positionRestrictionsAlgorithm({imageSize:this.imageSize,imageRestriction:this.imageRestriction})},classes:function(){return{cropper:zt(),image:ze(zt("image"),this.imageClass),stencil:zt("stencil"),boundaries:ze(zt("boundaries"),this.boundariesClass),stretcher:ze(zt("stretcher")),background:ze(zt("background"),this.backgroundClass),foreground:ze(zt("foreground"),this.foregroundClass),imageWrapper:ze(zt("image-wrapper")),cropperWrapper:ze(zt("cropper-wrapper"))}},stencilCoordinates:function(){if(this.initialized){var e=this.coordinates,t=e.width,i=e.height,n=e.left,r=e.top;return{width:t/this.coefficient,height:i/this.coefficient,left:(n-this.visibleArea.left)/this.coefficient,top:(r-this.visibleArea.top)/this.coefficient}}return this.defaultCoordinates()},boundariesStyle:function(){var e={width:this.boundaries.width?"".concat(Math.round(this.boundaries.width),"px"):"auto",height:this.boundaries.height?"".concat(Math.round(this.boundaries.height),"px"):"auto",transition:"opacity ".concat(this.transitionTime,"ms"),pointerEvents:this.imageLoaded?"all":"none"};return this.imageLoaded||(e.opacity="0"),e},imageStyle:function(){var e=this.imageAttributes.width>this.imageAttributes.height?{width:Math.min(1024,this.imageAttributes.width),height:Math.min(1024,this.imageAttributes.width)/(this.imageAttributes.width/this.imageAttributes.height)}:{height:Math.min(1024,this.imageAttributes.height),width:Math.min(1024,this.imageAttributes.height)*(this.imageAttributes.width/this.imageAttributes.height)},t={left:(e.width-this.imageSize.width)/(2*this.coefficient),top:(e.height-this.imageSize.height)/(2*this.coefficient)},i={left:(1-1/this.coefficient)*e.width/2,top:(1-1/this.coefficient)*e.height/2},n=pe(pe({},this.imageTransforms),{},{scaleX:this.imageTransforms.scaleX*(this.imageAttributes.width/e.width),scaleY:this.imageTransforms.scaleY*(this.imageAttributes.height/e.height)}),r={width:"".concat(e.width,"px"),height:"".concat(e.height,"px"),left:"0px",top:"0px",transform:"translate(".concat(-t.left-i.left-this.imageTransforms.translateX,"px, ").concat(-t.top-i.top-this.imageTransforms.translateY,"px)")+_d(n)};return this.transitionsOptions.enabled&&(r.transition="".concat(this.transitionsOptions.time,"ms ").concat(this.transitionsOptions.timingFunction)),r}},watch:{src:function(){this.onChangeImage()},stencilComponent:function(){var e=this;this.$nextTick(function(){e.resetCoordinates(),e.runAutoZoom("setCoordinates"),e.onChange()})},minWidth:function(){this.onPropsChange()},maxWidth:function(){this.onPropsChange()},minHeight:function(){this.onPropsChange()},maxHeight:function(){this.onPropsChange()},imageRestriction:function(){this.reset()},stencilProps:function(e,t){["aspectRatio","minAspectRatio","maxAspectRatio"].find(function(i){return e[i]!==t[i]})&&this.$nextTick(this.onPropsChange)}},created:function(){this.debouncedUpdate=yo(this.update,this.debounce),this.debouncedDisableTransitions=yo(this.disableTransitions,this.transitionsOptions.time),this.awaiting=!1},mounted:function(){this.$refs.image.addEventListener("load",this.onSuccessLoadImage),this.$refs.image.addEventListener("error",this.onFailLoadImage),this.onChangeImage(),window.addEventListener("resize",this.refresh),window.addEventListener("orientationchange",this.refresh)},unmounted:function(){window.removeEventListener("resize",this.refresh),window.removeEventListener("orientationchange",this.refresh),this.imageAttributes.revoke&&this.imageAttributes.src&&URL.revokeObjectURL(this.imageAttributes.src),this.debouncedUpdate.clear(),this.debouncedDisableTransitions.clear()},methods:{getResult:function(){var e=this.initialized?this.prepareResult(pe({},this.coordinates)):this.defaultCoordinates(),t={rotate:this.imageTransforms.rotate%360,flip:pe({},this.imageTransforms.flip)};if(this.src&&this.imageLoaded){var i=this;return{image:this.image,coordinates:e,visibleArea:this.visibleArea?pe({},this.visibleArea):null,imageTransforms:t,get canvas(){return i.canvas?i.getCanvas():void 0}}}return{image:this.image,coordinates:e,visibleArea:this.visibleArea?pe({},this.visibleArea):null,canvas:void 0,imageTransforms:t}},zoom:function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=i.transitions,r=n===void 0||n;this.onManipulateImage(new Pn({},{factor:1/e,center:t}),{normalize:!1,transitions:r})},move:function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=i.transitions,r=n===void 0||n;this.onManipulateImage(new Pn({left:e||0,top:t||0}),{normalize:!1,transitions:r})},setCoordinates:function(e){var t=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=i.autoZoom,r=n===void 0||n,s=i.transitions,o=s===void 0||s;this.$nextTick(function(){t.imageLoaded?(t.transitionsActive||(o&&t.enableTransitions(),t.coordinates=t.applyTransform(e),r&&t.runAutoZoom("setCoordinates"),o&&t.debouncedDisableTransitions()),t.onChange()):t.delayedTransforms=e})},refresh:function(){var e=this,t=this.$refs.image;if(this.src&&t)return this.initialized?this.updateVisibleArea().then(function(){e.onChange()}):this.resetVisibleArea().then(function(){e.onChange()})},reset:function(){var e=this;return this.resetVisibleArea().then(function(){e.onChange(!1)})},awaitRender:function(e){var t=this;this.awaiting||(this.awaiting=!0,this.$nextTick(function(){e(),t.awaiting=!1}))},prepareResult:function(e){return this.roundResult?function(t){var i=t.coordinates,n=t.sizeRestrictions,r=t.positionRestrictions,s={width:Math.round(i.width),height:Math.round(i.height),left:Math.round(i.left),top:Math.round(i.top)};return s.width>n.maxWidth?s.width=Math.floor(i.width):s.width<n.minWidth&&(s.width=Math.ceil(i.width)),s.height>n.maxHeight?s.height=Math.floor(i.height):s.height<n.minHeight&&(s.height=Math.ceil(i.height)),Fe(s,r)}(pe(pe({},this.getPublicProperties()),{},{positionRestrictions:os(this.positionRestrictions,this.visibleArea),coordinates:e})):e},processAutoZoom:function(e,t,i,n){var r=this.autoZoomAlgorithm;r||(r=this.stencilSize?Tb:this.autoZoom?Ab:Cb);var s=r({event:{type:e,params:n},visibleArea:t,coordinates:i,boundaries:this.boundaries,aspectRatio:this.getAspectRatio(),positionRestrictions:this.positionRestrictions,getAreaRestrictions:this.getAreaRestrictions,sizeRestrictions:this.sizeRestrictions,stencilSize:this.getStencilSize()});return pe(pe({},s),{},{changed:!Ql(s.visibleArea,t)||!Ql(s.coordinates,i)})},runAutoZoom:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=t.transitions,n=i!==void 0&&i,r=pb(t,Wb),s=this.processAutoZoom(e,this.visibleArea,this.coordinates,r),o=s.visibleArea,l=s.coordinates,a=s.changed;n&&a&&this.enableTransitions(),this.visibleArea=o,this.coordinates=l,n&&a&&this.debouncedDisableTransitions()},normalizeEvent:function(e){return function(t){var i=t.event,n=t.visibleArea,r=t.coefficient;if(i.type==="manipulateImage")return K(K({},i),{move:{left:i.move&&i.move.left?r*i.move.left:0,top:i.move&&i.move.top?r*i.move.top:0},scale:{factor:i.scale&&i.scale.factor?i.scale.factor:1,center:i.scale&&i.scale.center?{left:i.scale.center.left*r+n.left,top:i.scale.center.top*r+n.top}:null}});if(i.type==="resize"){var s=K(K({},i),{directions:K({},i.directions)});return Ct.forEach(function(l){s.directions[l]*=r}),s}if(i.type==="move"){var o=K(K({},i),{directions:K({},i.directions)});return _b.forEach(function(l){o.directions[l]*=r}),o}return i}(pe(pe({},this.getPublicProperties()),{},{event:e}))},getCanvas:function(){if(this.$refs.canvas){var e=this.$refs.canvas,t=this.$refs.image,i=this.imageTransforms.rotate!==0||this.imageTransforms.flip.horizontal||this.imageTransforms.flip.vertical?function(l,a,c){var u=c.rotate,d=c.flip,h={width:a.naturalWidth,height:a.naturalHeight},f=vd(h,u),p=l.getContext("2d");l.height=f.height,l.width=f.width,p.save();var m=ei(Be(K({left:0,top:0},h)),u);return p.translate(-(m.left-f.width/2),-(m.top-f.height/2)),p.rotate(u*Math.PI/180),p.translate(d.horizontal?h.width:0,d.vertical?h.height:0),p.scale(d.horizontal?-1:1,d.vertical?-1:1),p.drawImage(a,0,0,h.width,h.height),p.restore(),l}(this.$refs.sourceCanvas,t,this.imageTransforms):t,n=pe({minWidth:0,minHeight:0,maxWidth:1/0,maxHeight:1/0,maxArea:this.maxCanvasSize,imageSmoothingEnabled:!0,imageSmoothingQuality:"high",fillColor:"transparent"},this.canvas),r=function(l){return l.find(function(a){return c=a,!Number.isNaN(parseFloat(c))&&isFinite(c);var c})},s=Nt({sizeRestrictions:{minWidth:r([n.width,n.minWidth])||0,minHeight:r([n.height,n.minHeight])||0,maxWidth:r([n.width,n.maxWidth])||1/0,maxHeight:r([n.height,n.maxHeight])||1/0},width:this.coordinates.width,height:this.coordinates.height,aspectRatio:{minimum:this.coordinates.width/this.coordinates.height,maximum:this.coordinates.width/this.coordinates.height}});if(n.maxArea&&s.width*s.height>n.maxArea){var o=Math.sqrt(n.maxArea/(s.width*s.height));s={width:Math.round(o*s.width),height:Math.round(o*s.height)}}return function(l,a,c,u,d){l.width=u?u.width:c.width,l.height=u?u.height:c.height;var h=l.getContext("2d");h.clearRect(0,0,l.width,l.height),d&&(d.imageSmoothingEnabled&&(h.imageSmoothingEnabled=d.imageSmoothingEnabled),d.imageSmoothingQuality&&(h.imageSmoothingQuality=d.imageSmoothingQuality),d.fillColor&&(h.fillStyle=d.fillColor,h.fillRect(0,0,l.width,l.height),h.save()));var f=c.left<0?-c.left:0,p=c.top<0?-c.top:0;h.drawImage(a,c.left+f,c.top+p,c.width,c.height,f,p,l.width,l.height)}(e,i,this.coordinates,s,n),e}},update:function(){this.$emit("change",this.getResult())},applyTransform:function(e){var t=arguments.length>1&&arguments[1]!==void 0&&arguments[1],i=this.visibleArea&&t?xb(this.sizeRestrictions,this.visibleArea):this.sizeRestrictions,n=this.visibleArea&&t?os(this.positionRestrictions,this.visibleArea):this.positionRestrictions;return Eb({transform:e,coordinates:this.coordinates,imageSize:this.imageSize,sizeRestrictions:i,positionRestrictions:n,aspectRatio:this.getAspectRatio(),visibleArea:this.visibleArea})},resetCoordinates:function(){var e=this;if(this.$refs.image){this.$refs.cropper,this.$refs.image;var t=this.defaultSize;t||(t=this.stencilSize?Pb:Ob);var i=this.sizeRestrictions;i.minWidth,i.minHeight,i.maxWidth,i.maxHeight;var n=zi(t)?t({boundaries:this.boundaries,imageSize:this.imageSize,aspectRatio:this.getAspectRatio(),sizeRestrictions:this.sizeRestrictions,stencilSize:this.getStencilSize(),visibleArea:this.visibleArea}):t,r=this.defaultPosition||Rb,s=[n,function(o){var l=o.coordinates;return pe({},zi(r)?r({coordinates:l,imageSize:e.imageSize,visibleArea:e.visibleArea}):e.defaultPosition)}];this.delayedTransforms&&s.push.apply(s,Si(Array.isArray(this.delayedTransforms)?this.delayedTransforms:[this.delayedTransforms])),this.coordinates=this.applyTransform(s,!0),this.delayedTransforms=null}},clearImage:function(){var e=this;this.imageLoaded=!1,setTimeout(function(){var t=e.$refs.stretcher;t&&(t.style.height="auto",t.style.width="auto"),e.coordinates=e.defaultCoordinates(),e.boundaries={width:0,height:0}},this.transitionTime)},enableTransitions:function(){this.transitions&&(this.transitionsActive=!0)},disableTransitions:function(){this.transitionsActive=!1},updateBoundaries:function(){var e=this,t=this.$refs.stretcher,i=this.$refs.cropper;return this.initStretcher({cropper:i,stretcher:t,imageSize:this.imageSize}),this.$nextTick().then(function(){var n={cropper:i,imageSize:e.imageSize};if(zi(e.defaultBoundaries)?e.boundaries=e.defaultBoundaries(n):e.defaultBoundaries==="fit"?e.boundaries=function(r){var s=r.cropper,o=r.imageSize,l=s.clientHeight,a=s.clientWidth,c=l,u=o.width*l/o.height;return u>a&&(u=a,c=o.height*a/o.width),{width:u,height:c}}(n):e.boundaries=function(r){var s=r.cropper;return{width:s.clientWidth,height:s.clientHeight}}(n),!e.boundaries.width||!e.boundaries.height)throw new Error("It's impossible to fit the cropper in the current container")})},resetVisibleArea:function(){var e=this;return this.appliedImageTransforms=pe(pe({},this.defaultImageTransforms),{},{flip:pe({},this.defaultImageTransforms.flip)}),this.updateBoundaries().then(function(){e.priority!=="visible-area"&&(e.visibleArea=null,e.resetCoordinates());var t,i,n,r,s,o,l=e.defaultVisibleArea||Mb;e.visibleArea=zi(l)?l({imageSize:e.imageSize,boundaries:e.boundaries,coordinates:e.priority!=="visible-area"?e.coordinates:null,getAreaRestrictions:e.getAreaRestrictions,stencilSize:e.getStencilSize()}):e.defaultVisibleArea,e.visibleArea=(t={visibleArea:e.visibleArea,boundaries:e.boundaries,getAreaRestrictions:e.getAreaRestrictions},i=t.visibleArea,n=t.boundaries,r=t.getAreaRestrictions,s=K({},i),o=ve(n),s.width/s.height!==o&&(s.height=s.width/o),Fe(s,r({visibleArea:s,type:"move"}))),e.priority==="visible-area"?e.resetCoordinates():e.coordinates=e.fitCoordinates({visibleArea:e.visibleArea,coordinates:e.coordinates,aspectRatio:e.getAspectRatio(),positionRestrictions:e.positionRestrictions,sizeRestrictions:e.sizeRestrictions}),e.runAutoZoom("resetVisibleArea")}).catch(function(){e.visibleArea=null})},updateVisibleArea:function(){var e=this;return this.updateBoundaries().then(function(){e.visibleArea=e.fitVisibleArea({imageSize:e.imageSize,boundaries:e.boundaries,visibleArea:e.visibleArea,coordinates:e.coordinates,getAreaRestrictions:e.getAreaRestrictions}),e.coordinates=e.fitCoordinates({visibleArea:e.visibleArea,coordinates:e.coordinates,aspectRatio:e.getAspectRatio(),positionRestrictions:e.positionRestrictions,sizeRestrictions:e.sizeRestrictions}),e.runAutoZoom("updateVisibleArea")}).catch(function(){e.visibleArea=null})},onChange:function(){var e=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];e&&this.debounce?this.debouncedUpdate():this.update()},onChangeImage:function(){var e,t=this;if(this.imageLoaded=!1,this.delayedTransforms=null,this.src){if(function(r){if(Yl(r))return!1;var s=window.location,o=/(\w+:)?(?:\/\/)([\w.-]+)?(?::(\d+))?\/?/.exec(r)||[],l={protocol:o[1]||"",host:o[2]||"",port:o[3]||""},a=function(c){return c.port||((c.protocol||s.protocol)==="http"?80:433)};return!(!l.protocol&&!l.host&&!l.port||l.protocol&&l.protocol==s.protocol&&l.host&&l.host==s.host&&l.host&&a(l)==a(s))}(this.src)){var i=je(this.crossOrigin)?this.canvas:this.crossOrigin;i===!0&&(i="anonymous"),this.imageAttributes.crossOrigin=i||null}if(this.checkOrientation){var n=(e=this.src,new Promise(function(r){Ub(e).then(function(s){var o=Hb(s);r(s?{source:e,arrayBuffer:s,orientation:o}:{source:e,arrayBuffer:null,orientation:null})}).catch(function(s){console.warn(s),r({source:e,arrayBuffer:null,orientation:null})})}));setTimeout(function(){n.then(t.onParseImage)},this.transitionTime)}else setTimeout(function(){t.onParseImage({source:t.src})},this.transitionTime)}else this.clearImage()},onFailLoadImage:function(){this.imageAttributes.src&&(this.clearImage(),this.$emit("error"))},onSuccessLoadImage:function(){var e=this,t=this.$refs.image;t&&!this.imageLoaded&&(this.imageAttributes.height=t.naturalHeight,this.imageAttributes.width=t.naturalWidth,this.imageLoaded=!0,this.resetVisibleArea().then(function(){e.$emit("ready"),e.onChange(!1)}))},onParseImage:function(e){var t=this,i=e.source,n=e.arrayBuffer,r=e.orientation;this.imageAttributes.revoke&&this.imageAttributes.src&&URL.revokeObjectURL(this.imageAttributes.src),this.imageAttributes.revoke=!1,n&&r&&r>1?dd(i)||!Yl(i)?(this.imageAttributes.src=URL.createObjectURL(new Blob([n])),this.imageAttributes.revoke=!0):this.imageAttributes.src=function(s){for(var o=[],l=new Uint8Array(s);l.length>0;){var a=l.subarray(0,8192);o.push(String.fromCharCode.apply(null,Array.from?Array.from(a):a.slice())),l=l.subarray(8192)}return"data:image/jpeg;base64,"+btoa(o.join(""))}(n):this.imageAttributes.src=i,zi(this.defaultTransforms)?this.appliedImageTransforms=kr(this.defaultTransforms()):vs(this.defaultTransforms)?this.appliedImageTransforms=kr(this.defaultTransforms):this.appliedImageTransforms=function(s){var o=kr({});if(s)switch(s){case 2:o.flip.horizontal=!0;break;case 3:o.rotate=-180;break;case 4:o.flip.vertical=!0;break;case 5:o.rotate=90,o.flip.vertical=!0;break;case 6:o.rotate=90;break;case 7:o.rotate=90,o.flip.horizontal=!0;break;case 8:o.rotate=-90}return o}(r),this.defaultImageTransforms=pe(pe({},this.appliedImageTransforms),{},{flip:pe({},this.appliedImageTransforms.flip)}),this.$nextTick(function(){var s=t.$refs.image;s&&s.complete&&(function(o){return!!o.naturalWidth}(s)?t.onSuccessLoadImage():t.onFailLoadImage())})},onResizeEnd:function(){this.runAutoZoom("resize",{transitions:!0})},onMoveEnd:function(){this.runAutoZoom("move",{transitions:!0})},onMove:function(e){var t=this;this.transitionsOptions.enabled||this.awaitRender(function(){t.coordinates=t.moveAlgorithm(pe(pe({},t.getPublicProperties()),{},{positionRestrictions:os(t.positionRestrictions,t.visibleArea),coordinates:t.coordinates,event:t.normalizeEvent(e)})),t.onChange()})},onResize:function(e){var t=this;this.transitionsOptions.enabled||this.stencilSize&&!this.autoZoom||this.awaitRender(function(){var i=t.sizeRestrictions,n=Math.min(t.coordinates.width,t.coordinates.height,20*t.coefficient);t.coordinates=t.resizeAlgorithm(pe(pe({},t.getPublicProperties()),{},{positionRestrictions:os(t.positionRestrictions,t.visibleArea),sizeRestrictions:{maxWidth:Math.min(i.maxWidth,t.visibleArea.width),maxHeight:Math.min(i.maxHeight,t.visibleArea.height),minWidth:Math.max(i.minWidth,n),minHeight:Math.max(i.minHeight,n)},event:t.normalizeEvent(e)})),t.onChange(),t.ticking=!1})},onManipulateImage:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.transitionsOptions.enabled){var i=t.transitions,n=i!==void 0&&i,r=t.normalize,s=r===void 0||r;n&&this.enableTransitions();var o=$b(pe(pe({},this.getPublicProperties()),{},{event:s?this.normalizeEvent(e):e,getAreaRestrictions:this.getAreaRestrictions,imageRestriction:this.imageRestriction,adjustStencil:!this.stencilSize&&this.settings.resizeImage.adjustStencil})),l=o.visibleArea,a=o.coordinates;this.visibleArea=l,this.coordinates=a,this.runAutoZoom("manipulateImage"),this.onChange(),n&&this.debouncedDisableTransitions()}},onPropsChange:function(){this.coordinates=this.applyTransform(this.coordinates,!0),this.onChange(!1)},getAreaRestrictions:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.visibleArea,i=e.type,n=i===void 0?"move":i;return this.areaRestrictionsAlgorithm({boundaries:this.boundaries,imageSize:this.imageSize,imageRestriction:this.imageRestriction,visibleArea:t,type:n})},getAspectRatio:function(e){var t,i,n=this.stencilProps,r=n.aspectRatio,s=n.minAspectRatio,o=n.maxAspectRatio;if(this.$refs.stencil&&this.$refs.stencil.aspectRatios){var l=this.$refs.stencil.aspectRatios();t=l.minimum,i=l.maximum}if(je(t)&&(t=je(r)?s:r),je(i)&&(i=je(r)?o:r),!e&&(je(t)||je(i))){var a=this.getStencilSize(),c=a?ve(a):null;je(t)&&(t=Xl(c)?c:void 0),je(i)&&(i=Xl(c)?c:void 0)}return{minimum:t,maximum:i}},getStencilSize:function(){if(this.stencilSize)return e={currentStencilSize:{width:this.stencilCoordinates.width,height:this.stencilCoordinates.height},stencilSize:this.stencilSize,boundaries:this.boundaries,coefficient:this.coefficient,coordinates:this.coordinates,aspectRatio:this.getAspectRatio(!0)},t=e.boundaries,i=e.stencilSize,n=e.aspectRatio,$r(ve(r=zi(i)?i({boundaries:t,aspectRatio:n}):i),n)&&(r=Nt({sizeRestrictions:{maxWidth:t.width,maxHeight:t.height,minWidth:0,minHeight:0},width:r.width,height:r.height,aspectRatio:{minimum:n.minimum,maximum:n.maximum}})),(r.width>t.width||r.height>t.height)&&(r=Nt({sizeRestrictions:{maxWidth:t.width,maxHeight:t.height,minWidth:0,minHeight:0},width:r.width,height:r.height,aspectRatio:{minimum:ve(r),maximum:ve(r)}})),r;var e,t,i,n,r},getPublicProperties:function(){return{coefficient:this.coefficient,visibleArea:this.visibleArea,coordinates:this.coordinates,boundaries:this.boundaries,sizeRestrictions:this.sizeRestrictions,positionRestrictions:this.positionRestrictions,aspectRatio:this.getAspectRatio(),imageRestriction:this.imageRestriction}},defaultCoordinates:function(){return pe({},Zl)},flip:function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=i.transitions,r=n===void 0||n;if(!this.transitionsActive){r&&this.enableTransitions();var s=pe({},this.imageTransforms.flip),o=kb({flip:{horizontal:e?!s.horizontal:s.horizontal,vertical:t?!s.vertical:s.vertical},previousFlip:s,rotate:this.imageTransforms.rotate,visibleArea:this.visibleArea,coordinates:this.coordinates,imageSize:this.imageSize,positionRestrictions:this.positionRestrictions,sizeRestrictions:this.sizeRestrictions,getAreaRestrictions:this.getAreaRestrictions,aspectRatio:this.getAspectRatio()}),l=o.visibleArea,a=o.coordinates;e&&(this.appliedImageTransforms.flip.horizontal=!this.appliedImageTransforms.flip.horizontal),t&&(this.appliedImageTransforms.flip.vertical=!this.appliedImageTransforms.flip.vertical),this.visibleArea=l,this.coordinates=a,this.onChange(),r&&this.debouncedDisableTransitions()}},rotate:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=t.transitions,n=i===void 0||i;if(!this.transitionsActive){n&&this.enableTransitions();var r=pe({},this.imageSize);this.appliedImageTransforms.rotate+=e;var s=Ib({visibleArea:this.visibleArea,coordinates:this.coordinates,previousImageSize:r,imageSize:this.imageSize,angle:e,positionRestrictions:this.positionRestrictions,sizeRestrictions:this.sizeRestrictions,getAreaRestrictions:this.getAreaRestrictions,aspectRatio:this.getAspectRatio()}),o=s.visibleArea,l=s.coordinates,a=this.processAutoZoom("rotateImage",o,l);o=a.visibleArea,l=a.coordinates,this.visibleArea=o,this.coordinates=l,this.onChange(),n&&this.debouncedDisableTransitions()}}},emits:["change","error","ready"]},Vb={key:0,ref:"canvas",style:{display:"none"}},qb={key:1,ref:"sourceCanvas",style:{display:"none"}};Ad.render=function(e,t,i,n,r,s){return j(),oe("div",{ref:"cropper",class:s.classes.cropper},[k("div",{ref:"stretcher",class:s.classes.stretcher},null,2),k("div",{class:s.classes.boundaries,style:s.boundariesStyle},[(j(),oe(xs(i.backgroundWrapperComponent),{class:s.classes.cropperWrapper,"wheel-resize":s.settings.resizeImage.wheel,"touch-resize":s.settings.resizeImage.touch,"touch-move":s.settings.moveImage.touch,"mouse-move":s.settings.moveImage.mouse,onMove:s.onManipulateImage,onResize:s.onManipulateImage},{default:ge(function(){return[k("div",{class:s.classes.background,style:s.boundariesStyle},null,6),k("div",{class:s.classes.imageWrapper},[k("img",{ref:"image",crossorigin:r.imageAttributes.crossOrigin,src:r.imageAttributes.src,class:s.classes.image,style:s.imageStyle,onMousedown:t[1]||(t[1]=ip(function(){},["prevent"]))},null,46,["crossorigin","src"])],2),k("div",{class:s.classes.foreground,style:s.boundariesStyle},null,6),Bo((j(),oe(xs(i.stencilComponent),qs({ref:"stencil",image:s.image,coordinates:r.coordinates,"stencil-coordinates":s.stencilCoordinates,transitions:s.transitionsOptions},i.stencilProps,{onResize:s.onResize,onResizeEnd:s.onResizeEnd,onMove:s.onMove,onMoveEnd:s.onMoveEnd}),null,16,["image","coordinates","stencil-coordinates","transitions","onResize","onResizeEnd","onMove","onMoveEnd"])),[[Yo,r.imageLoaded]]),i.canvas?(j(),oe("canvas",Vb,null,512)):De("",!0),i.canvas?(j(),oe("canvas",qb,null,512)):De("",!0)]}),_:1},8,["class","wheel-resize","touch-resize","touch-move","mouse-move","onMove","onResize"]))],6)],2)};const Gb={class:"flex items-center flex-col"},Kb=Ae({__name:"Cropp",props:{src:{}},emits:["croppedImageBlob"],setup(e,{emit:t}){const i=se(null),n=async()=>{const{canvas:o}=i.value.getResult();if(!o){s("croppedImageBlob",null);return}const l=await new Promise(a=>o.toBlob(a,"image/jpeg"));s("croppedImageBlob",l)},r=e,s=t;return(o,l)=>(j(),ee("div",Gb,[k(q(Ad),{ref_key:"cropperRef",ref:i,class:"flex w-[300px] h-[300px] sm:w-[400px] sm:h-[400px]",src:r.src,"auto-zoom":!0,"stencil-size":{width:250,height:250},"image-restriction":"stencil"},null,8,["src"]),k(ri,{onClick:n,text:"Загрузить аватар",style:"m-1 p-2 font-medium text-gray-500 rounded-[10px] hover:shadow-shadowDrop hover:ring-[1px] hover:ring-cyan-300"})]))}}),Jb={class:"text-red-500 font-semibold text-[23px]"},Yb=Ae({__name:"DangerText",props:{dangerText:{}},setup(e){return(t,i)=>(j(),ee("div",null,[C("h1",Jb,Se(t.dangerText),1)]))}}),Xb=["type"],Zb=Ae({__name:"UploadInput",props:{type:{}},emits:["loadingAvatar"],setup(e,{emit:t}){const i=r=>{var o;const s=(o=r.target.files)==null?void 0:o[0];if(s){const l=new FileReader;l.onload=function(a){var c;n("loadingAvatar",{preloadFile:(c=a.target)==null?void 0:c.result,avatar:s})},l.readAsDataURL(s)}},n=t;return(r,s)=>(j(),ee("input",{type:r.type,accept:".jpeg, .png, .jpg",onChange:i,class:"hidden"},null,40,Xb))}}),Qb={key:0,class:"fixed z-50 top-0 w-[100%] h-[100%]"},ey={class:"absolute top-[50%] left-[50%] translate-x-[-50%] translate-y-[-50%]"},ty={class:"flex flex-col items-center bg-white rounded-[10px]"},iy=Ae({__name:"UploadAvatar",setup(e){const t=Ti(),i=se(null),n=se(""),r=se(null),s=async c=>{const u=Math.floor(Math.random()*9e9+1e9);let d;if(i.value){const{data:h,error:f}=await ke.storage.from("images").upload("public/"+u,c);f&&console.error(f),h&&(d=h.path,await ke.from("users").update({avatar_url:d}).match({id:t.user.id})),n.value="",t.modal=!1,i.value=null,r.value=null}else n.value="Загрузите изображение"};bt(i,()=>{n.value=""});const o=c=>{r.value=c.preloadFile,i.value=c.avatar},l=()=>{const c=document.getElementById("file-input");c&&c.click()},a=Ce(()=>{var c,u;return((c=i.value)==null?void 0:c.name)!==void 0?(u=i.value)==null?void 0:u.name:"Выберите аватар"});return(c,u)=>(j(),oe(cu,{to:"body"},[q(t).modal?(j(),ee("div",Qb,[C("div",{class:"w-[100%] h-[100%] bg-black opacity-[0.5]",onClick:u[0]||(u[0]=d=>q(t).modal=!1)}),C("div",ey,[C("div",ty,[C("div",null,[k(Zb,{id:"file-input",onLoadingAvatar:u[1]||(u[1]=d=>o(d)),type:"file"}),k(ri,{onClick:u[2]||(u[2]=d=>l()),text:a.value,style:"m-1 p-2 font-medium text-gray-500 rounded-[10px] hover:shadow-shadowDrop hover:ring-[1px] hover:ring-cyan-300"},null,8,["text"])]),k(Yb,{dangerText:n.value},null,8,["dangerText"]),r.value?(j(),oe(Kb,{key:0,src:r.value,onCroppedImageBlob:u[3]||(u[3]=d=>s(d))},null,8,["src"])):De("",!0)])])])):De("",!0)]))}}),ny=()=>{window.scrollTo({top:0,behavior:"smooth"})},sy={class:"flex flex-col justify-center max-w-[1340px] mx-auto"},ry={__name:"App",setup(e){const t=Ti();return li(()=>{t.getUser()}),(i,n)=>(j(),ee(Oe,null,[C("div",sy,[k(lb),k(fb),k(iy),k(q(Pu))]),C("div",{class:"fixed bottom-1 right-1 text-white cursor-pointer",onClick:n[0]||(n[0]=r=>q(ny)())},[k(yi,{width:70,height:70,name:"icon-arrow-up"})])],64))}},oy={},ay={class:"grid gap-[30px] p-[20px] 2xl:grid-cols-6 xl:grid-cols-5 md:grid-cols-4 sm:grid-cols-3 grid-cols-2"};function ly(e,t){return j(),ee("div",ay,[$t(e.$slots,"default")])}const Cd=qn(oy,[["render",ly]]),cy=["onClick","onMouseover"],uy={class:"relative z-0 rounded-[15px] overflow-hidden"},dy=["src"],hy={class:"flex flex-col items-center w-full"},fy={class:"font-medium text-[#ccc7c7]"},Rd=Ae({__name:"Card",props:{anime:{},hovered:{}},emits:["over","leave","push"],setup(e,{emit:t}){const i=t,n=o=>{i("over",o)},r=o=>{i("leave",o)},s=o=>{i("push",o)};return(o,l)=>(j(!0),ee(Oe,null,Ot(o.anime,a=>(j(),ee("article",{key:a,onClick:c=>s(a),onMouseover:c=>n(a),onMouseleave:l[0]||(l[0]=c=>r(null)),class:"flex flex-col items-center gap-3 cursor-pointer"},[C("div",uy,[C("img",{src:`https://dl-20240330-7.anilib.moe${a.posters.original.url}`,class:"w-full h-auto"},null,8,dy),C("div",{class:Ke(["flex absolute z-10 top-0 left-0 w-full h-full duration-300 items-center justify-center text-transparent",{"bg-cardOpacity text-white":o.hovered===a}])},[k(yi,{width:50,height:50,name:"icon-play"})],2)]),C("div",hy,[C("h2",{class:Ke(["font-medium w-full text-white duration-300 whitespace-nowrap text-ellipsis overflow-hidden",{"text-red-500":o.hovered===a}])},Se(a.names.ru),3),C("p",fy,Se(a.season.year),1)])],40,cy))),128))}}),py=Ae({__name:"AnimeList",props:{anime:{}},emits:["getAnimeFromApi","page"],setup(e,{emit:t}){const i=Xs(),n=e,r=se(null),s=t,o=()=>{try{s("getAnimeFromApi")}catch(c){console.error("Ошибка при загрузке данных:",c)}},l=()=>{window.scrollY+window.innerHeight>=document.documentElement.scrollHeight-170&&(s("page"),o())};li(()=>{window.addEventListener("scroll",l,{passive:!0}),n.anime.length===0&&o()}),Un(()=>{window.removeEventListener("scroll",l)});const a=c=>{i.push({name:"anime",params:{id:c,episode:"1"}})};return(c,u)=>(j(),oe(Cd,null,{default:ge(()=>[k(Rd,{anime:n==null?void 0:n.anime,hovered:r.value,onOver:u[0]||(u[0]=d=>r.value=d),onLeave:u[1]||(u[1]=d=>r.value=null),onPush:u[2]||(u[2]=d=>a(d.id))},null,8,["anime","hovered"])]),_:1}))}}),my=Ae({__name:"HomeView",setup(e){const t=Ti(),i=new Map,n=s=>t.aniList=s.reduce((o,l)=>i.get(l.id)?o:(i.set(l.id,!0),[...o,l]),t.aniList),r=async()=>{const s=await Rs.get(`${vv}${t.animePage}&limit=${t.animeCount}`);return n(s.data.list)};return(s,o)=>{var l,a;return j(),ee("div",null,[k(py,{user:(a=(l=q(t))==null?void 0:l.user)==null?void 0:a.id,anime:q(t).searchedAnime.length?q(t).searchedAnime:q(t).aniList,onGetAnimeFromApi:r,onPage:o[0]||(o[0]=c=>q(t).animePage++)},null,8,["user","anime"])])}}}),Od="/assets/noimg-33df41e4.jpeg";var sc=function(){return Math.random().toString(36).substring(2)},ft=Ae({name:"ContentLoader",props:{width:{type:[Number,String]},height:{type:[Number,String]},viewBox:{type:String},preserveAspectRatio:{type:String,default:"xMidYMid meet"},speed:{type:Number,default:2},baseUrl:{type:String,default:""},primaryColor:{type:String,default:"#f9f9f9"},secondaryColor:{type:String,default:"#ecebeb"},primaryOpacity:{type:Number,default:1},secondaryOpacity:{type:Number,default:1},uniqueKey:{type:String},animate:{type:Boolean,default:!0}},setup:function(t){var i=Ce(function(){return t.uniqueKey?"".concat(t.uniqueKey,"-idClip"):sc()}),n=Ce(function(){return t.uniqueKey?"".concat(t.uniqueKey,"-idGradient"):sc()}),r=Ce(function(){var l;return(l=t.width)!==null&&l!==void 0?l:400}),s=Ce(function(){var l;return(l=t.height)!==null&&l!==void 0?l:130}),o=Ce(function(){var l;return(l=t.viewBox)!==null&&l!==void 0?l:"0 0 ".concat(r.value," ").concat(s.value)});return{idClip:i,idGradient:n,computedViewBox:o}},render:function(){return k("svg",{width:this.width,height:this.height,viewBox:this.computedViewBox,version:"1.1",preserveAspectRatio:this.preserveAspectRatio},[k("rect",{style:{fill:"url(".concat(this.baseUrl,"#").concat(this.idGradient,")")},"clip-path":"url(".concat(this.baseUrl,"#").concat(this.idClip,")"),x:"0",y:"0",width:"100%",height:"100%"},null),k("defs",null,[k("clipPath",{id:this.idClip},[this.$slots.default?this.$slots.default():k("rect",{x:"0",y:"0",rx:"5",ry:"5",width:"100%",height:"100%"},null)]),k("linearGradient",{id:this.idGradient},[k("stop",{offset:"0%","stop-color":this.primaryColor,"stop-opacity":this.primaryOpacity},[this.animate?k("animate",{attributeName:"offset",values:"-2; 1",dur:"".concat(this.speed,"s"),repeatCount:"indefinite"},null):null]),k("stop",{offset:"50%","stop-color":this.secondaryColor,"stop-opacity":this.secondaryOpacity},[this.animate?k("animate",{attributeName:"offset",values:"-1.5; 1.5",dur:"".concat(this.speed,"s"),repeatCount:"indefinite"},null):null]),k("stop",{offset:"100%","stop-color":this.primaryColor,"stop-opacity":this.primaryOpacity},[this.animate?k("animate",{attributeName:"offset",values:"-1; 2",dur:"".concat(this.speed,"s"),repeatCount:"indefinite"},null):null])])])])}});const gy={class:"w-[100%] flex flex-row gap-0 md:gap-5 p-3 text-[#d8d8d8] text-[20px]"},vy={class:"max-w-[300px] h-full rounded-[10px] overflow-hidden hidden lg:block"},wy=C("rect",{x:"0",y:"0",rx:"0",ry:"0",width:"371",height:"387"},null,-1),by={class:"w-[100%] flex flex-col gap-5 p-[10px] mb-2"},yy={class:"flex flex-col gap-5"},_y={class:"rounded-[10px] flex w-[100%]"},Sy=C("rect",{x:"0",y:"0",rx:"10",ry:"10",width:"500",height:"30"},null,-1),xy={class:"rounded-[10px] flex w-[100%]"},Ey=C("rect",{x:"0",y:"0",rx:"10",ry:"10",width:"300",height:"20"},null,-1),Ty={class:"rounded-[10px] flex w-[100%]"},Ay=C("rect",{x:"0",y:"0",rx:"10",ry:"10",width:"100",height:"20"},null,-1),Cy={class:"rounded-[10px] flex w-[100%]"},Ry=C("rect",{x:"0",y:"0",rx:"10",ry:"10",width:"400",height:"20"},null,-1),Oy={class:"rounded-[10px] flex w-[100%]"},Py=C("rect",{x:"0",y:"0",rx:"10",ry:"10",width:"430",height:"20"},null,-1),My={class:"rounded-[10px] flex w-[100%]"},$y=C("rect",{x:"0",y:"0",rx:"10",ry:"10",width:"350",height:"20"},null,-1),Iy={class:"rounded-[10px] flex w-[100%]"},ky=C("rect",{x:"0",y:"0",rx:"10",ry:"10",width:"450",height:"20"},null,-1),zy={class:"rounded-[10px] flex w-[100%]"},Ly=C("rect",{x:"0",y:"0",rx:"10",ry:"10",width:"500",height:"20"},null,-1),jy={class:"rounded-[10px] flex w-[100%]"},Dy=C("rect",{x:"0",y:"0",rx:"10",ry:"10",width:"300",height:"20"},null,-1),Ny={class:"rounded-[10px] flex w-[100%]"},By=C("rect",{x:"0",y:"0",rx:"10",ry:"10",width:"200",height:"20"},null,-1),Fy={class:"rounded-[10px] overflow-hidden max-w-[700px] relative"},Uy=["src"],Hy=C("span",{class:"w-[100%] h-[100%] absolute top-0 left-0 bg-white"},null,-1),Wy=Ae({__name:"SkeletonAnimePage",setup(e){return(t,i)=>(j(),ee("div",gy,[C("div",vy,[k(q(ft),{speed:3,width:371,height:387,animate:!0},{default:ge(()=>[wy]),_:1})]),C("div",by,[C("div",yy,[C("p",_y,[k(q(ft),{speed:2,width:500,height:40},{default:ge(()=>[Sy]),_:1})]),C("p",xy,[k(q(ft),{speed:2,width:300,height:20},{default:ge(()=>[Ey]),_:1})]),C("p",Ty,[k(q(ft),{speed:2,width:100,height:20},{default:ge(()=>[Ay]),_:1})]),C("p",Cy,[k(q(ft),{speed:2,width:400,height:20},{default:ge(()=>[Ry]),_:1})]),C("p",Oy,[k(q(ft),{speed:2,width:430,height:20},{default:ge(()=>[Py]),_:1})]),C("p",My,[k(q(ft),{speed:2,width:350,height:20},{default:ge(()=>[$y]),_:1})]),C("p",Iy,[k(q(ft),{speed:2,width:450,height:20},{default:ge(()=>[ky]),_:1})]),C("p",zy,[k(q(ft),{speed:2,width:500,height:20},{default:ge(()=>[Ly]),_:1})]),C("p",jy,[k(q(ft),{speed:2,width:300,height:20},{default:ge(()=>[Dy]),_:1})]),C("p",Ny,[k(q(ft),{speed:2,width:200,height:20},{default:ge(()=>[By]),_:1})])]),C("div",Fy,[C("img",{src:q(Od),alt:""},null,8,Uy),Hy])])]))}}),Vy=e=>(qc("data-v-04933212"),e=e(),Gc(),e),qy={class:"flex flex-col w-full text-white text-[18px] text-center rounded-[10px] overflow-hidden"},Gy=Vy(()=>C("span",{class:"w-full"},"Добавить в список",-1)),Ky=[Gy],Jy={key:0,class:"border-t-[2px] border-white bg-slate-400 animate-slide-up"},Yy={class:"flex flex-col"},Xy=["onClick"],Zy=Ae({__name:"DropDown",props:{status:{}},emits:["sendStatus"],setup(e,{emit:t}){const i=se(!1),n=t,r=s=>{i.value=!1,n("sendStatus",s)};return(s,o)=>(j(),ee("div",qy,[C("div",{class:"flex w-full p-2 bg-slate-400 cursor-pointer",onClick:o[0]||(o[0]=l=>i.value=!i.value)},Ky),i.value?(j(),ee("div",Jy,[C("ol",Yy,[(j(!0),ee(Oe,null,Ot(s.status,l=>(j(),ee("li",{key:l,class:"p-2 cursor-pointer hover:bg-slate-500 duration-short",onClick:a=>r(l)},Se(l),9,Xy))),128))])])):De("",!0)]))}});const rc=qn(Zy,[["__scopeId","data-v-04933212"]]),Qy=async e=>{try{await ke.from("animeStatusList").insert({animeId:e.animeId,userId:e.userId,nameAnime:e.nameAnime,img:e.img?"https://dl-20211030-963.anilib.top"+e.img:null,status:e.status})}catch(t){console.log(t)}},e0={class:"w-[100%] flex flex-row gap-0 md:gap-5 p-3 text-white text-[20px]"},t0={class:"max-w-[300px] h-full flex flex-col gap-5"},i0=["src"],n0={class:"w-[100%] h-full flex flex-col gap-5 p-[10px] mb-2"},s0={class:"text-[30px]"},r0={class:"flex flex-row gap-3 text-gray-500 items-center text-[16px]"},o0={class:"border-[1px] border-gray-500 rounded-[10px] px-2"},a0=C("p",{class:"w-[5px] h-[5px] rounded-full bg-gray-500"},null,-1),l0=C("p",{class:"w-[5px] h-[5px] rounded-full bg-gray-500"},null,-1),c0={class:"flex flex-row gap-5 flex-wrap"},u0=C("li",null,"Жанры:",-1),d0={class:"flex flex-row gap-5 flex-wrap"},h0=C("li",null,"Озвучка:",-1),f0=C("span",{class:"text-[20px] text-white text-center font-medium"},"Похожие Аниме",-1),p0=Ae({__name:"AnimePage",setup(e){const t=Wh(()=>sn(()=>import("./Player-a07c7802.js"),["assets/Player-a07c7802.js","assets/Player-9677f7a6.css"])),i=Ti(),n=Mu(),r=Xs(),s=se(null),o=se(null),l=se(null),a=async()=>{const f=await Rs.get(`${wv}${n.params.id}`);console.log(f.data),s.value=f.data;const p=Object.values(f.data.genres).join(","),m=await Rs.get(`${yv}${p}&limit=20`);o.value=m.data.list.slice(1)};li(async()=>{await a()}),bt(n,async()=>{await a()});const c=f=>{const p=new Date(f*1e3),m=p.getFullYear(),w=("0"+(p.getMonth()+1)).slice(-2);return`${("0"+p.getDate()).slice(-2)}.${w}.${m}`},u=Ce(()=>{var f,p;return s.value?Object.keys((p=(f=s.value)==null?void 0:f.player)==null?void 0:p.list).length:0}),d=Ei(["Просмотрено","Смотрю","Запланировано","Пересматриваю","Выходит","Заброшено"]),h=async f=>{var w,b,_,x,S,P;const{data:p}=await ke.from("animeStatusList").select().filter("animeId","eq",(w=s.value)==null?void 0:w.id).filter("userId","eq",(b=i.user)==null?void 0:b.id).single();if(p){console.log("уже есть");return}const m={animeId:(_=s.value)==null?void 0:_.id,userId:(x=i.user)==null?void 0:x.id,nameAnime:(S=s.value)==null?void 0:S.names.ru,img:(P=s.value)==null?void 0:P.posters.original.url,status:f};Qy(m)};return(f,p)=>{var m,w,b,_,x,S,P,V,te,z,R,M,B,X,W,ue,we,ie;return j(),ee(Oe,null,[s.value?De("",!0):(j(),oe(Wy,{key:0})),Bo(C("div",e0,[C("div",t0,[C("img",{class:"hidden md:block rounded-[10px]",src:s.value?`https://dl-20211030-963.anilib.top${(m=s.value)==null?void 0:m.posters.original.url}`:"",alt:""},null,8,i0),(w=q(i))!=null&&w.user?(j(),oe(rc,{key:0,class:"hidden md:block",status:d,onSendStatus:p[0]||(p[0]=Q=>h(Q))},null,8,["status"])):De("",!0)]),C("div",n0,[C("div",null,[C("h1",s0,Se((b=s.value)==null?void 0:b.names.ru),1),C("p",null,Se((_=s.value)==null?void 0:_.names.en),1)]),C("div",r0,[C("span",o0,Se((x=s.value)==null?void 0:x.status.string),1),a0,C("span",null,Se((S=s.value)==null?void 0:S.season.year),1),l0,C("span",null,Se((P=s.value)==null?void 0:P.type.string),1)]),C("ol",c0,[u0,(j(!0),ee(Oe,null,Ot((V=s.value)==null?void 0:V.genres,Q=>(j(),ee("li",{key:Q},Se(Q),1))),128))]),C("ol",d0,[h0,(j(!0),ee(Oe,null,Ot((te=s.value)==null?void 0:te.team.voice,Q=>(j(),ee("li",{key:Q},Se(Q),1))),128))]),C("div",null,[C("span",null,"Количество эпизодов: "+Se(u.value),1),fu(" из "),C("span",null,Se((R=(z=s.value)==null?void 0:z.type)==null?void 0:R.episodes),1),C("p",null,"Последнее обновление: "+Se(c((M=s.value)==null?void 0:M.updated)),1)]),C("p",null,"Описание: "+Se((B=s.value)==null?void 0:B.description),1),k(q(t),{user:(X=q(i))==null?void 0:X.user,previewUrl:"https://dl-20211030-963.anilib.top",seriaUrl:"https://cache.libria.fun",AnimePlay:(W=s.value)==null?void 0:W.player,animeName:(ue=s.value)==null?void 0:ue.names.ru,animeId:(we=s.value)==null?void 0:we.id,episode:Number(q(n).params.episode),onUpdateEpisode:p[1]||(p[1]=Q=>{var ae;return q(r).push({name:"anime",params:{id:(ae=s.value)==null?void 0:ae.id,episode:Q}})})},null,8,["user","previewUrl","seriaUrl","AnimePlay","animeName","animeId","episode"]),(ie=q(i))!=null&&ie.user?(j(),oe(rc,{key:0,class:"max-md:block hidden mt-2",status:d,onSendStatus:p[2]||(p[2]=Q=>h(Q))},null,8,["status"])):De("",!0)])],512),[[Yo,s.value]]),f0,k(Cd,null,{default:ge(()=>[k(Rd,{anime:o.value,hovered:l.value,onOver:p[3]||(p[3]=Q=>l.value=Q),onLeave:p[4]||(p[4]=Q=>l.value=null),onPush:p[5]||(p[5]=Q=>q(r).push({name:"anime",params:{id:Q.id,episode:"1"}}))},null,8,["anime","hovered"])]),_:1})],64)}}}),m0={},g0={class:"flex justify-center items-center w-[100%] h-[100%]"},v0=C("img",{src:"https://webitnow.co.il/wp-content/uploads/עמודי-404-מה-עושים-1170x640.jpg",alt:""},null,-1),w0=[v0];function b0(e,t){return j(),ee("div",g0,w0)}const y0=qn(m0,[["render",b0]]),_0={class:"relative flex flex-row w-[80%] sm:w-[60%] h-[190px] p-[20px] shadow-shadowDrop rounded-[10px]"},S0={class:"justify-between flex w-full"},x0={class:"flex items-center"},E0={class:"text-[#e4e4e4] font-normal text-[20px]"},T0=Ae({__name:"Profile",props:{user:{},statusAnime:{}},emits:["loadAvatar","deleteAvatar"],setup(e){const t=se(!1);let i=null;const n=()=>{t.value=!0,clearTimeout(i)},r=()=>{i=setTimeout(()=>{t.value=!1},500)},s=()=>{t.value=!1},o=()=>{clearTimeout(i)},l=()=>{i=setTimeout(()=>{t.value=!1},500)};return Un(()=>{clearTimeout(i)}),(a,c)=>{var u,d;return j(),ee("div",_0,[C("div",S0,[C("div",x0,[k(cd,{style:"max-w-[100px] max-h-[100px] sm:max-w-[150px] sm:max-h-[150px]",img:(u=a.user)==null?void 0:u.avatar_url,onMouseenter:n,onMouseleave:r},null,8,["img"])]),C("span",E0,Se((d=a.user)==null?void 0:d.name),1)]),t.value?(j(),oe(ld,{key:0,onMouseleave:l,onMouseenter:o,onClick:s,style:"left-0 top-[90%]"},{default:ge(()=>[k(On,{onClick:c[0]||(c[0]=h=>a.$emit("loadAvatar",!0))},{default:ge(()=>[k(yi,{name:"icon-load"}),k(ri,{text:"Загрузить Фотографию",style:"font-normal p-0"})]),_:1}),k(On,{onClick:c[1]||(c[1]=h=>a.$emit("deleteAvatar"))},{default:ge(()=>[k(yi,{name:"icon-delete"}),k(ri,{text:"Удалить фотографию",style:"font-normal p-0"})]),_:1})]),_:1})):De("",!0)])}}});function oc(e){return e!==null&&typeof e=="object"&&"constructor"in e&&e.constructor===Object}function ga(e,t){e===void 0&&(e={}),t===void 0&&(t={}),Object.keys(t).forEach(i=>{typeof e[i]>"u"?e[i]=t[i]:oc(t[i])&&oc(e[i])&&Object.keys(t[i]).length>0&&ga(e[i],t[i])})}const Pd={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function ln(){const e=typeof document<"u"?document:{};return ga(e,Pd),e}const A0={document:Pd,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(e){return typeof setTimeout>"u"?(e(),null):setTimeout(e,0)},cancelAnimationFrame(e){typeof setTimeout>"u"||clearTimeout(e)}};function nt(){const e=typeof window<"u"?window:{};return ga(e,A0),e}function C0(e){return e===void 0&&(e=""),e.trim().split(" ").filter(t=>!!t.trim())}function R0(e){const t=e;Object.keys(t).forEach(i=>{try{t[i]=null}catch{}try{delete t[i]}catch{}})}function To(e,t){return t===void 0&&(t=0),setTimeout(e,t)}function Os(){return Date.now()}function O0(e){const t=nt();let i;return t.getComputedStyle&&(i=t.getComputedStyle(e,null)),!i&&e.currentStyle&&(i=e.currentStyle),i||(i=e.style),i}function P0(e,t){t===void 0&&(t="x");const i=nt();let n,r,s;const o=O0(e);return i.WebKitCSSMatrix?(r=o.transform||o.webkitTransform,r.split(",").length>6&&(r=r.split(", ").map(l=>l.replace(",",".")).join(", ")),s=new i.WebKitCSSMatrix(r==="none"?"":r)):(s=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),n=s.toString().split(",")),t==="x"&&(i.WebKitCSSMatrix?r=s.m41:n.length===16?r=parseFloat(n[12]):r=parseFloat(n[4])),t==="y"&&(i.WebKitCSSMatrix?r=s.m42:n.length===16?r=parseFloat(n[13]):r=parseFloat(n[5])),r||0}function cs(e){return typeof e=="object"&&e!==null&&e.constructor&&Object.prototype.toString.call(e).slice(8,-1)==="Object"}function M0(e){return typeof window<"u"&&typeof window.HTMLElement<"u"?e instanceof HTMLElement:e&&(e.nodeType===1||e.nodeType===11)}function it(){const e=Object(arguments.length<=0?void 0:arguments[0]),t=["__proto__","constructor","prototype"];for(let i=1;i<arguments.length;i+=1){const n=i<0||arguments.length<=i?void 0:arguments[i];if(n!=null&&!M0(n)){const r=Object.keys(Object(n)).filter(s=>t.indexOf(s)<0);for(let s=0,o=r.length;s<o;s+=1){const l=r[s],a=Object.getOwnPropertyDescriptor(n,l);a!==void 0&&a.enumerable&&(cs(e[l])&&cs(n[l])?n[l].__swiper__?e[l]=n[l]:it(e[l],n[l]):!cs(e[l])&&cs(n[l])?(e[l]={},n[l].__swiper__?e[l]=n[l]:it(e[l],n[l])):e[l]=n[l])}}}return e}function us(e,t,i){e.style.setProperty(t,i)}function Md(e){let{swiper:t,targetPosition:i,side:n}=e;const r=nt(),s=-t.translate;let o=null,l;const a=t.params.speed;t.wrapperEl.style.scrollSnapType="none",r.cancelAnimationFrame(t.cssModeFrameID);const c=i>s?"next":"prev",u=(h,f)=>c==="next"&&h>=f||c==="prev"&&h<=f,d=()=>{l=new Date().getTime(),o===null&&(o=l);const h=Math.max(Math.min((l-o)/a,1),0),f=.5-Math.cos(h*Math.PI)/2;let p=s+f*(i-s);if(u(p,i)&&(p=i),t.wrapperEl.scrollTo({[n]:p}),u(p,i)){t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.scrollSnapType="",setTimeout(()=>{t.wrapperEl.style.overflow="",t.wrapperEl.scrollTo({[n]:p})}),r.cancelAnimationFrame(t.cssModeFrameID);return}t.cssModeFrameID=r.requestAnimationFrame(d)};d()}function Bt(e,t){return t===void 0&&(t=""),[...e.children].filter(i=>i.matches(t))}function Ps(e){try{console.warn(e);return}catch{}}function Ao(e,t){t===void 0&&(t=[]);const i=document.createElement(e);return i.classList.add(...Array.isArray(t)?t:C0(t)),i}function $0(e,t){const i=[];for(;e.previousElementSibling;){const n=e.previousElementSibling;t?n.matches(t)&&i.push(n):i.push(n),e=n}return i}function I0(e,t){const i=[];for(;e.nextElementSibling;){const n=e.nextElementSibling;t?n.matches(t)&&i.push(n):i.push(n),e=n}return i}function ti(e,t){return nt().getComputedStyle(e,null).getPropertyValue(t)}function ac(e){let t=e,i;if(t){for(i=0;(t=t.previousSibling)!==null;)t.nodeType===1&&(i+=1);return i}}function k0(e,t){const i=[];let n=e.parentElement;for(;n;)t?n.matches(t)&&i.push(n):i.push(n),n=n.parentElement;return i}function lc(e,t,i){const n=nt();return i?e[t==="width"?"offsetWidth":"offsetHeight"]+parseFloat(n.getComputedStyle(e,null).getPropertyValue(t==="width"?"margin-right":"margin-top"))+parseFloat(n.getComputedStyle(e,null).getPropertyValue(t==="width"?"margin-left":"margin-bottom")):e.offsetWidth}let Lr;function z0(){const e=nt(),t=ln();return{smoothScroll:t.documentElement&&t.documentElement.style&&"scrollBehavior"in t.documentElement.style,touch:!!("ontouchstart"in e||e.DocumentTouch&&t instanceof e.DocumentTouch)}}function $d(){return Lr||(Lr=z0()),Lr}let jr;function L0(e){let{userAgent:t}=e===void 0?{}:e;const i=$d(),n=nt(),r=n.navigator.platform,s=t||n.navigator.userAgent,o={ios:!1,android:!1},l=n.screen.width,a=n.screen.height,c=s.match(/(Android);?[\s\/]+([\d.]+)?/);let u=s.match(/(iPad).*OS\s([\d_]+)/);const d=s.match(/(iPod)(.*OS\s([\d_]+))?/),h=!u&&s.match(/(iPhone\sOS|iOS)\s([\d_]+)/),f=r==="Win32";let p=r==="MacIntel";const m=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!u&&p&&i.touch&&m.indexOf(`${l}x${a}`)>=0&&(u=s.match(/(Version)\/([\d.]+)/),u||(u=[0,1,"13_0_0"]),p=!1),c&&!f&&(o.os="android",o.android=!0),(u||h||d)&&(o.os="ios",o.ios=!0),o}function Id(e){return e===void 0&&(e={}),jr||(jr=L0(e)),jr}let Dr;function j0(){const e=nt(),t=Id();let i=!1;function n(){const l=e.navigator.userAgent.toLowerCase();return l.indexOf("safari")>=0&&l.indexOf("chrome")<0&&l.indexOf("android")<0}if(n()){const l=String(e.navigator.userAgent);if(l.includes("Version/")){const[a,c]=l.split("Version/")[1].split(" ")[0].split(".").map(u=>Number(u));i=a<16||a===16&&c<2}}const r=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(e.navigator.userAgent),s=n(),o=s||r&&t.ios;return{isSafari:i||s,needPerspectiveFix:i,need3dFix:o,isWebView:r}}function D0(){return Dr||(Dr=j0()),Dr}function N0(e){let{swiper:t,on:i,emit:n}=e;const r=nt();let s=null,o=null;const l=()=>{!t||t.destroyed||!t.initialized||(n("beforeResize"),n("resize"))},a=()=>{!t||t.destroyed||!t.initialized||(s=new ResizeObserver(d=>{o=r.requestAnimationFrame(()=>{const{width:h,height:f}=t;let p=h,m=f;d.forEach(w=>{let{contentBoxSize:b,contentRect:_,target:x}=w;x&&x!==t.el||(p=_?_.width:(b[0]||b).inlineSize,m=_?_.height:(b[0]||b).blockSize)}),(p!==h||m!==f)&&l()})}),s.observe(t.el))},c=()=>{o&&r.cancelAnimationFrame(o),s&&s.unobserve&&t.el&&(s.unobserve(t.el),s=null)},u=()=>{!t||t.destroyed||!t.initialized||n("orientationchange")};i("init",()=>{if(t.params.resizeObserver&&typeof r.ResizeObserver<"u"){a();return}r.addEventListener("resize",l),r.addEventListener("orientationchange",u)}),i("destroy",()=>{c(),r.removeEventListener("resize",l),r.removeEventListener("orientationchange",u)})}function B0(e){let{swiper:t,extendParams:i,on:n,emit:r}=e;const s=[],o=nt(),l=function(u,d){d===void 0&&(d={});const h=o.MutationObserver||o.WebkitMutationObserver,f=new h(p=>{if(t.__preventObserver__)return;if(p.length===1){r("observerUpdate",p[0]);return}const m=function(){r("observerUpdate",p[0])};o.requestAnimationFrame?o.requestAnimationFrame(m):o.setTimeout(m,0)});f.observe(u,{attributes:typeof d.attributes>"u"?!0:d.attributes,childList:typeof d.childList>"u"?!0:d.childList,characterData:typeof d.characterData>"u"?!0:d.characterData}),s.push(f)},a=()=>{if(t.params.observer){if(t.params.observeParents){const u=k0(t.hostEl);for(let d=0;d<u.length;d+=1)l(u[d])}l(t.hostEl,{childList:t.params.observeSlideChildren}),l(t.wrapperEl,{attributes:!1})}},c=()=>{s.forEach(u=>{u.disconnect()}),s.splice(0,s.length)};i({observer:!1,observeParents:!1,observeSlideChildren:!1}),n("init",a),n("destroy",c)}var F0={on(e,t,i){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;const r=i?"unshift":"push";return e.split(" ").forEach(s=>{n.eventsListeners[s]||(n.eventsListeners[s]=[]),n.eventsListeners[s][r](t)}),n},once(e,t,i){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;function r(){n.off(e,r),r.__emitterProxy&&delete r.__emitterProxy;for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];t.apply(n,o)}return r.__emitterProxy=t,n.on(e,r,i)},onAny(e,t){const i=this;if(!i.eventsListeners||i.destroyed||typeof e!="function")return i;const n=t?"unshift":"push";return i.eventsAnyListeners.indexOf(e)<0&&i.eventsAnyListeners[n](e),i},offAny(e){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsAnyListeners)return t;const i=t.eventsAnyListeners.indexOf(e);return i>=0&&t.eventsAnyListeners.splice(i,1),t},off(e,t){const i=this;return!i.eventsListeners||i.destroyed||!i.eventsListeners||e.split(" ").forEach(n=>{typeof t>"u"?i.eventsListeners[n]=[]:i.eventsListeners[n]&&i.eventsListeners[n].forEach((r,s)=>{(r===t||r.__emitterProxy&&r.__emitterProxy===t)&&i.eventsListeners[n].splice(s,1)})}),i},emit(){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsListeners)return e;let t,i,n;for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return typeof s[0]=="string"||Array.isArray(s[0])?(t=s[0],i=s.slice(1,s.length),n=e):(t=s[0].events,i=s[0].data,n=s[0].context||e),i.unshift(n),(Array.isArray(t)?t:t.split(" ")).forEach(a=>{e.eventsAnyListeners&&e.eventsAnyListeners.length&&e.eventsAnyListeners.forEach(c=>{c.apply(n,[a,...i])}),e.eventsListeners&&e.eventsListeners[a]&&e.eventsListeners[a].forEach(c=>{c.apply(n,i)})}),e}};function U0(){const e=this;let t,i;const n=e.el;typeof e.params.width<"u"&&e.params.width!==null?t=e.params.width:t=n.clientWidth,typeof e.params.height<"u"&&e.params.height!==null?i=e.params.height:i=n.clientHeight,!(t===0&&e.isHorizontal()||i===0&&e.isVertical())&&(t=t-parseInt(ti(n,"padding-left")||0,10)-parseInt(ti(n,"padding-right")||0,10),i=i-parseInt(ti(n,"padding-top")||0,10)-parseInt(ti(n,"padding-bottom")||0,10),Number.isNaN(t)&&(t=0),Number.isNaN(i)&&(i=0),Object.assign(e,{width:t,height:i,size:e.isHorizontal()?t:i}))}function H0(){const e=this;function t(M,B){return parseFloat(M.getPropertyValue(e.getDirectionLabel(B))||0)}const i=e.params,{wrapperEl:n,slidesEl:r,size:s,rtlTranslate:o,wrongRTL:l}=e,a=e.virtual&&i.virtual.enabled,c=a?e.virtual.slides.length:e.slides.length,u=Bt(r,`.${e.params.slideClass}, swiper-slide`),d=a?e.virtual.slides.length:u.length;let h=[];const f=[],p=[];let m=i.slidesOffsetBefore;typeof m=="function"&&(m=i.slidesOffsetBefore.call(e));let w=i.slidesOffsetAfter;typeof w=="function"&&(w=i.slidesOffsetAfter.call(e));const b=e.snapGrid.length,_=e.slidesGrid.length;let x=i.spaceBetween,S=-m,P=0,V=0;if(typeof s>"u")return;typeof x=="string"&&x.indexOf("%")>=0?x=parseFloat(x.replace("%",""))/100*s:typeof x=="string"&&(x=parseFloat(x)),e.virtualSize=-x,u.forEach(M=>{o?M.style.marginLeft="":M.style.marginRight="",M.style.marginBottom="",M.style.marginTop=""}),i.centeredSlides&&i.cssMode&&(us(n,"--swiper-centered-offset-before",""),us(n,"--swiper-centered-offset-after",""));const te=i.grid&&i.grid.rows>1&&e.grid;te?e.grid.initSlides(u):e.grid&&e.grid.unsetSlides();let z;const R=i.slidesPerView==="auto"&&i.breakpoints&&Object.keys(i.breakpoints).filter(M=>typeof i.breakpoints[M].slidesPerView<"u").length>0;for(let M=0;M<d;M+=1){z=0;let B;if(u[M]&&(B=u[M]),te&&e.grid.updateSlide(M,B,u),!(u[M]&&ti(B,"display")==="none")){if(i.slidesPerView==="auto"){R&&(u[M].style[e.getDirectionLabel("width")]="");const X=getComputedStyle(B),W=B.style.transform,ue=B.style.webkitTransform;if(W&&(B.style.transform="none"),ue&&(B.style.webkitTransform="none"),i.roundLengths)z=e.isHorizontal()?lc(B,"width",!0):lc(B,"height",!0);else{const we=t(X,"width"),ie=t(X,"padding-left"),Q=t(X,"padding-right"),ae=t(X,"margin-left"),st=t(X,"margin-right"),dt=X.getPropertyValue("box-sizing");if(dt&&dt==="border-box")z=we+ae+st;else{const{clientWidth:rt,offsetWidth:He}=B;z=we+ie+Q+ae+st+(He-rt)}}W&&(B.style.transform=W),ue&&(B.style.webkitTransform=ue),i.roundLengths&&(z=Math.floor(z))}else z=(s-(i.slidesPerView-1)*x)/i.slidesPerView,i.roundLengths&&(z=Math.floor(z)),u[M]&&(u[M].style[e.getDirectionLabel("width")]=`${z}px`);u[M]&&(u[M].swiperSlideSize=z),p.push(z),i.centeredSlides?(S=S+z/2+P/2+x,P===0&&M!==0&&(S=S-s/2-x),M===0&&(S=S-s/2-x),Math.abs(S)<1/1e3&&(S=0),i.roundLengths&&(S=Math.floor(S)),V%i.slidesPerGroup===0&&h.push(S),f.push(S)):(i.roundLengths&&(S=Math.floor(S)),(V-Math.min(e.params.slidesPerGroupSkip,V))%e.params.slidesPerGroup===0&&h.push(S),f.push(S),S=S+z+x),e.virtualSize+=z+x,P=z,V+=1}}if(e.virtualSize=Math.max(e.virtualSize,s)+w,o&&l&&(i.effect==="slide"||i.effect==="coverflow")&&(n.style.width=`${e.virtualSize+x}px`),i.setWrapperSize&&(n.style[e.getDirectionLabel("width")]=`${e.virtualSize+x}px`),te&&e.grid.updateWrapperSize(z,h),!i.centeredSlides){const M=[];for(let B=0;B<h.length;B+=1){let X=h[B];i.roundLengths&&(X=Math.floor(X)),h[B]<=e.virtualSize-s&&M.push(X)}h=M,Math.floor(e.virtualSize-s)-Math.floor(h[h.length-1])>1&&h.push(e.virtualSize-s)}if(a&&i.loop){const M=p[0]+x;if(i.slidesPerGroup>1){const B=Math.ceil((e.virtual.slidesBefore+e.virtual.slidesAfter)/i.slidesPerGroup),X=M*i.slidesPerGroup;for(let W=0;W<B;W+=1)h.push(h[h.length-1]+X)}for(let B=0;B<e.virtual.slidesBefore+e.virtual.slidesAfter;B+=1)i.slidesPerGroup===1&&h.push(h[h.length-1]+M),f.push(f[f.length-1]+M),e.virtualSize+=M}if(h.length===0&&(h=[0]),x!==0){const M=e.isHorizontal()&&o?"marginLeft":e.getDirectionLabel("marginRight");u.filter((B,X)=>!i.cssMode||i.loop?!0:X!==u.length-1).forEach(B=>{B.style[M]=`${x}px`})}if(i.centeredSlides&&i.centeredSlidesBounds){let M=0;p.forEach(X=>{M+=X+(x||0)}),M-=x;const B=M-s;h=h.map(X=>X<=0?-m:X>B?B+w:X)}if(i.centerInsufficientSlides){let M=0;p.forEach(X=>{M+=X+(x||0)}),M-=x;const B=(i.slidesOffsetBefore||0)+(i.slidesOffsetAfter||0);if(M+B<s){const X=(s-M-B)/2;h.forEach((W,ue)=>{h[ue]=W-X}),f.forEach((W,ue)=>{f[ue]=W+X})}}if(Object.assign(e,{slides:u,snapGrid:h,slidesGrid:f,slidesSizesGrid:p}),i.centeredSlides&&i.cssMode&&!i.centeredSlidesBounds){us(n,"--swiper-centered-offset-before",`${-h[0]}px`),us(n,"--swiper-centered-offset-after",`${e.size/2-p[p.length-1]/2}px`);const M=-e.snapGrid[0],B=-e.slidesGrid[0];e.snapGrid=e.snapGrid.map(X=>X+M),e.slidesGrid=e.slidesGrid.map(X=>X+B)}if(d!==c&&e.emit("slidesLengthChange"),h.length!==b&&(e.params.watchOverflow&&e.checkOverflow(),e.emit("snapGridLengthChange")),f.length!==_&&e.emit("slidesGridLengthChange"),i.watchSlidesProgress&&e.updateSlidesOffset(),e.emit("slidesUpdated"),!a&&!i.cssMode&&(i.effect==="slide"||i.effect==="fade")){const M=`${i.containerModifierClass}backface-hidden`,B=e.el.classList.contains(M);d<=i.maxBackfaceHiddenSlides?B||e.el.classList.add(M):B&&e.el.classList.remove(M)}}function W0(e){const t=this,i=[],n=t.virtual&&t.params.virtual.enabled;let r=0,s;typeof e=="number"?t.setTransition(e):e===!0&&t.setTransition(t.params.speed);const o=l=>n?t.slides[t.getSlideIndexByData(l)]:t.slides[l];if(t.params.slidesPerView!=="auto"&&t.params.slidesPerView>1)if(t.params.centeredSlides)(t.visibleSlides||[]).forEach(l=>{i.push(l)});else for(s=0;s<Math.ceil(t.params.slidesPerView);s+=1){const l=t.activeIndex+s;if(l>t.slides.length&&!n)break;i.push(o(l))}else i.push(o(t.activeIndex));for(s=0;s<i.length;s+=1)if(typeof i[s]<"u"){const l=i[s].offsetHeight;r=l>r?l:r}(r||r===0)&&(t.wrapperEl.style.height=`${r}px`)}function V0(){const e=this,t=e.slides,i=e.isElement?e.isHorizontal()?e.wrapperEl.offsetLeft:e.wrapperEl.offsetTop:0;for(let n=0;n<t.length;n+=1)t[n].swiperSlideOffset=(e.isHorizontal()?t[n].offsetLeft:t[n].offsetTop)-i-e.cssOverflowAdjustment()}const cc=(e,t,i)=>{t&&!e.classList.contains(i)?e.classList.add(i):!t&&e.classList.contains(i)&&e.classList.remove(i)};function q0(e){e===void 0&&(e=this&&this.translate||0);const t=this,i=t.params,{slides:n,rtlTranslate:r,snapGrid:s}=t;if(n.length===0)return;typeof n[0].swiperSlideOffset>"u"&&t.updateSlidesOffset();let o=-e;r&&(o=e),t.visibleSlidesIndexes=[],t.visibleSlides=[];let l=i.spaceBetween;typeof l=="string"&&l.indexOf("%")>=0?l=parseFloat(l.replace("%",""))/100*t.size:typeof l=="string"&&(l=parseFloat(l));for(let a=0;a<n.length;a+=1){const c=n[a];let u=c.swiperSlideOffset;i.cssMode&&i.centeredSlides&&(u-=n[0].swiperSlideOffset);const d=(o+(i.centeredSlides?t.minTranslate():0)-u)/(c.swiperSlideSize+l),h=(o-s[0]+(i.centeredSlides?t.minTranslate():0)-u)/(c.swiperSlideSize+l),f=-(o-u),p=f+t.slidesSizesGrid[a],m=f>=0&&f<=t.size-t.slidesSizesGrid[a],w=f>=0&&f<t.size-1||p>1&&p<=t.size||f<=0&&p>=t.size;w&&(t.visibleSlides.push(c),t.visibleSlidesIndexes.push(a)),cc(c,w,i.slideVisibleClass),cc(c,m,i.slideFullyVisibleClass),c.progress=r?-d:d,c.originalProgress=r?-h:h}}function G0(e){const t=this;if(typeof e>"u"){const u=t.rtlTranslate?-1:1;e=t&&t.translate&&t.translate*u||0}const i=t.params,n=t.maxTranslate()-t.minTranslate();let{progress:r,isBeginning:s,isEnd:o,progressLoop:l}=t;const a=s,c=o;if(n===0)r=0,s=!0,o=!0;else{r=(e-t.minTranslate())/n;const u=Math.abs(e-t.minTranslate())<1,d=Math.abs(e-t.maxTranslate())<1;s=u||r<=0,o=d||r>=1,u&&(r=0),d&&(r=1)}if(i.loop){const u=t.getSlideIndexByData(0),d=t.getSlideIndexByData(t.slides.length-1),h=t.slidesGrid[u],f=t.slidesGrid[d],p=t.slidesGrid[t.slidesGrid.length-1],m=Math.abs(e);m>=h?l=(m-h)/p:l=(m+p-f)/p,l>1&&(l-=1)}Object.assign(t,{progress:r,progressLoop:l,isBeginning:s,isEnd:o}),(i.watchSlidesProgress||i.centeredSlides&&i.autoHeight)&&t.updateSlidesProgress(e),s&&!a&&t.emit("reachBeginning toEdge"),o&&!c&&t.emit("reachEnd toEdge"),(a&&!s||c&&!o)&&t.emit("fromEdge"),t.emit("progress",r)}const Nr=(e,t,i)=>{t&&!e.classList.contains(i)?e.classList.add(i):!t&&e.classList.contains(i)&&e.classList.remove(i)};function K0(){const e=this,{slides:t,params:i,slidesEl:n,activeIndex:r}=e,s=e.virtual&&i.virtual.enabled,o=e.grid&&i.grid&&i.grid.rows>1,l=d=>Bt(n,`.${i.slideClass}${d}, swiper-slide${d}`)[0];let a,c,u;if(s)if(i.loop){let d=r-e.virtual.slidesBefore;d<0&&(d=e.virtual.slides.length+d),d>=e.virtual.slides.length&&(d-=e.virtual.slides.length),a=l(`[data-swiper-slide-index="${d}"]`)}else a=l(`[data-swiper-slide-index="${r}"]`);else o?(a=t.filter(d=>d.column===r)[0],u=t.filter(d=>d.column===r+1)[0],c=t.filter(d=>d.column===r-1)[0]):a=t[r];a&&(o||(u=I0(a,`.${i.slideClass}, swiper-slide`)[0],i.loop&&!u&&(u=t[0]),c=$0(a,`.${i.slideClass}, swiper-slide`)[0],i.loop&&!c===0&&(c=t[t.length-1]))),t.forEach(d=>{Nr(d,d===a,i.slideActiveClass),Nr(d,d===u,i.slideNextClass),Nr(d,d===c,i.slidePrevClass)}),e.emitSlidesClasses()}const ws=(e,t)=>{if(!e||e.destroyed||!e.params)return;const i=()=>e.isElement?"swiper-slide":`.${e.params.slideClass}`,n=t.closest(i());if(n){let r=n.querySelector(`.${e.params.lazyPreloaderClass}`);!r&&e.isElement&&(n.shadowRoot?r=n.shadowRoot.querySelector(`.${e.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{n.shadowRoot&&(r=n.shadowRoot.querySelector(`.${e.params.lazyPreloaderClass}`),r&&r.remove())})),r&&r.remove()}},Br=(e,t)=>{if(!e.slides[t])return;const i=e.slides[t].querySelector('[loading="lazy"]');i&&i.removeAttribute("loading")},Co=e=>{if(!e||e.destroyed||!e.params)return;let t=e.params.lazyPreloadPrevNext;const i=e.slides.length;if(!i||!t||t<0)return;t=Math.min(t,i);const n=e.params.slidesPerView==="auto"?e.slidesPerViewDynamic():Math.ceil(e.params.slidesPerView),r=e.activeIndex;if(e.params.grid&&e.params.grid.rows>1){const o=r,l=[o-t];l.push(...Array.from({length:t}).map((a,c)=>o+n+c)),e.slides.forEach((a,c)=>{l.includes(a.column)&&Br(e,c)});return}const s=r+n-1;if(e.params.rewind||e.params.loop)for(let o=r-t;o<=s+t;o+=1){const l=(o%i+i)%i;(l<r||l>s)&&Br(e,l)}else for(let o=Math.max(r-t,0);o<=Math.min(s+t,i-1);o+=1)o!==r&&(o>s||o<r)&&Br(e,o)};function J0(e){const{slidesGrid:t,params:i}=e,n=e.rtlTranslate?e.translate:-e.translate;let r;for(let s=0;s<t.length;s+=1)typeof t[s+1]<"u"?n>=t[s]&&n<t[s+1]-(t[s+1]-t[s])/2?r=s:n>=t[s]&&n<t[s+1]&&(r=s+1):n>=t[s]&&(r=s);return i.normalizeSlideIndex&&(r<0||typeof r>"u")&&(r=0),r}function Y0(e){const t=this,i=t.rtlTranslate?t.translate:-t.translate,{snapGrid:n,params:r,activeIndex:s,realIndex:o,snapIndex:l}=t;let a=e,c;const u=f=>{let p=f-t.virtual.slidesBefore;return p<0&&(p=t.virtual.slides.length+p),p>=t.virtual.slides.length&&(p-=t.virtual.slides.length),p};if(typeof a>"u"&&(a=J0(t)),n.indexOf(i)>=0)c=n.indexOf(i);else{const f=Math.min(r.slidesPerGroupSkip,a);c=f+Math.floor((a-f)/r.slidesPerGroup)}if(c>=n.length&&(c=n.length-1),a===s&&!t.params.loop){c!==l&&(t.snapIndex=c,t.emit("snapIndexChange"));return}if(a===s&&t.params.loop&&t.virtual&&t.params.virtual.enabled){t.realIndex=u(a);return}const d=t.grid&&r.grid&&r.grid.rows>1;let h;if(t.virtual&&r.virtual.enabled&&r.loop)h=u(a);else if(d){const f=t.slides.filter(m=>m.column===a)[0];let p=parseInt(f.getAttribute("data-swiper-slide-index"),10);Number.isNaN(p)&&(p=Math.max(t.slides.indexOf(f),0)),h=Math.floor(p/r.grid.rows)}else if(t.slides[a]){const f=t.slides[a].getAttribute("data-swiper-slide-index");f?h=parseInt(f,10):h=a}else h=a;Object.assign(t,{previousSnapIndex:l,snapIndex:c,previousRealIndex:o,realIndex:h,previousIndex:s,activeIndex:a}),t.initialized&&Co(t),t.emit("activeIndexChange"),t.emit("snapIndexChange"),(t.initialized||t.params.runCallbacksOnInit)&&(o!==h&&t.emit("realIndexChange"),t.emit("slideChange"))}function X0(e,t){const i=this,n=i.params;let r=e.closest(`.${n.slideClass}, swiper-slide`);!r&&i.isElement&&t&&t.length>1&&t.includes(e)&&[...t.slice(t.indexOf(e)+1,t.length)].forEach(l=>{!r&&l.matches&&l.matches(`.${n.slideClass}, swiper-slide`)&&(r=l)});let s=!1,o;if(r){for(let l=0;l<i.slides.length;l+=1)if(i.slides[l]===r){s=!0,o=l;break}}if(r&&s)i.clickedSlide=r,i.virtual&&i.params.virtual.enabled?i.clickedIndex=parseInt(r.getAttribute("data-swiper-slide-index"),10):i.clickedIndex=o;else{i.clickedSlide=void 0,i.clickedIndex=void 0;return}n.slideToClickedSlide&&i.clickedIndex!==void 0&&i.clickedIndex!==i.activeIndex&&i.slideToClickedSlide()}var Z0={updateSize:U0,updateSlides:H0,updateAutoHeight:W0,updateSlidesOffset:V0,updateSlidesProgress:q0,updateProgress:G0,updateSlidesClasses:K0,updateActiveIndex:Y0,updateClickedSlide:X0};function Q0(e){e===void 0&&(e=this.isHorizontal()?"x":"y");const t=this,{params:i,rtlTranslate:n,translate:r,wrapperEl:s}=t;if(i.virtualTranslate)return n?-r:r;if(i.cssMode)return r;let o=P0(s,e);return o+=t.cssOverflowAdjustment(),n&&(o=-o),o||0}function e_(e,t){const i=this,{rtlTranslate:n,params:r,wrapperEl:s,progress:o}=i;let l=0,a=0;const c=0;i.isHorizontal()?l=n?-e:e:a=e,r.roundLengths&&(l=Math.floor(l),a=Math.floor(a)),i.previousTranslate=i.translate,i.translate=i.isHorizontal()?l:a,r.cssMode?s[i.isHorizontal()?"scrollLeft":"scrollTop"]=i.isHorizontal()?-l:-a:r.virtualTranslate||(i.isHorizontal()?l-=i.cssOverflowAdjustment():a-=i.cssOverflowAdjustment(),s.style.transform=`translate3d(${l}px, ${a}px, ${c}px)`);let u;const d=i.maxTranslate()-i.minTranslate();d===0?u=0:u=(e-i.minTranslate())/d,u!==o&&i.updateProgress(e),i.emit("setTranslate",i.translate,t)}function t_(){return-this.snapGrid[0]}function i_(){return-this.snapGrid[this.snapGrid.length-1]}function n_(e,t,i,n,r){e===void 0&&(e=0),t===void 0&&(t=this.params.speed),i===void 0&&(i=!0),n===void 0&&(n=!0);const s=this,{params:o,wrapperEl:l}=s;if(s.animating&&o.preventInteractionOnTransition)return!1;const a=s.minTranslate(),c=s.maxTranslate();let u;if(n&&e>a?u=a:n&&e<c?u=c:u=e,s.updateProgress(u),o.cssMode){const d=s.isHorizontal();if(t===0)l[d?"scrollLeft":"scrollTop"]=-u;else{if(!s.support.smoothScroll)return Md({swiper:s,targetPosition:-u,side:d?"left":"top"}),!0;l.scrollTo({[d?"left":"top"]:-u,behavior:"smooth"})}return!0}return t===0?(s.setTransition(0),s.setTranslate(u),i&&(s.emit("beforeTransitionStart",t,r),s.emit("transitionEnd"))):(s.setTransition(t),s.setTranslate(u),i&&(s.emit("beforeTransitionStart",t,r),s.emit("transitionStart")),s.animating||(s.animating=!0,s.onTranslateToWrapperTransitionEnd||(s.onTranslateToWrapperTransitionEnd=function(h){!s||s.destroyed||h.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onTranslateToWrapperTransitionEnd),s.onTranslateToWrapperTransitionEnd=null,delete s.onTranslateToWrapperTransitionEnd,s.animating=!1,i&&s.emit("transitionEnd"))}),s.wrapperEl.addEventListener("transitionend",s.onTranslateToWrapperTransitionEnd))),!0}var s_={getTranslate:Q0,setTranslate:e_,minTranslate:t_,maxTranslate:i_,translateTo:n_};function r_(e,t){const i=this;i.params.cssMode||(i.wrapperEl.style.transitionDuration=`${e}ms`,i.wrapperEl.style.transitionDelay=e===0?"0ms":""),i.emit("setTransition",e,t)}function kd(e){let{swiper:t,runCallbacks:i,direction:n,step:r}=e;const{activeIndex:s,previousIndex:o}=t;let l=n;if(l||(s>o?l="next":s<o?l="prev":l="reset"),t.emit(`transition${r}`),i&&s!==o){if(l==="reset"){t.emit(`slideResetTransition${r}`);return}t.emit(`slideChangeTransition${r}`),l==="next"?t.emit(`slideNextTransition${r}`):t.emit(`slidePrevTransition${r}`)}}function o_(e,t){e===void 0&&(e=!0);const i=this,{params:n}=i;n.cssMode||(n.autoHeight&&i.updateAutoHeight(),kd({swiper:i,runCallbacks:e,direction:t,step:"Start"}))}function a_(e,t){e===void 0&&(e=!0);const i=this,{params:n}=i;i.animating=!1,!n.cssMode&&(i.setTransition(0),kd({swiper:i,runCallbacks:e,direction:t,step:"End"}))}var l_={setTransition:r_,transitionStart:o_,transitionEnd:a_};function c_(e,t,i,n,r){e===void 0&&(e=0),i===void 0&&(i=!0),typeof e=="string"&&(e=parseInt(e,10));const s=this;let o=e;o<0&&(o=0);const{params:l,snapGrid:a,slidesGrid:c,previousIndex:u,activeIndex:d,rtlTranslate:h,wrapperEl:f,enabled:p}=s;if(!p&&!n&&!r||s.destroyed||s.animating&&l.preventInteractionOnTransition)return!1;typeof t>"u"&&(t=s.params.speed);const m=Math.min(s.params.slidesPerGroupSkip,o);let w=m+Math.floor((o-m)/s.params.slidesPerGroup);w>=a.length&&(w=a.length-1);const b=-a[w];if(l.normalizeSlideIndex)for(let x=0;x<c.length;x+=1){const S=-Math.floor(b*100),P=Math.floor(c[x]*100),V=Math.floor(c[x+1]*100);typeof c[x+1]<"u"?S>=P&&S<V-(V-P)/2?o=x:S>=P&&S<V&&(o=x+1):S>=P&&(o=x)}if(s.initialized&&o!==d&&(!s.allowSlideNext&&(h?b>s.translate&&b>s.minTranslate():b<s.translate&&b<s.minTranslate())||!s.allowSlidePrev&&b>s.translate&&b>s.maxTranslate()&&(d||0)!==o))return!1;o!==(u||0)&&i&&s.emit("beforeSlideChangeStart"),s.updateProgress(b);let _;if(o>d?_="next":o<d?_="prev":_="reset",h&&-b===s.translate||!h&&b===s.translate)return s.updateActiveIndex(o),l.autoHeight&&s.updateAutoHeight(),s.updateSlidesClasses(),l.effect!=="slide"&&s.setTranslate(b),_!=="reset"&&(s.transitionStart(i,_),s.transitionEnd(i,_)),!1;if(l.cssMode){const x=s.isHorizontal(),S=h?b:-b;if(t===0){const P=s.virtual&&s.params.virtual.enabled;P&&(s.wrapperEl.style.scrollSnapType="none",s._immediateVirtual=!0),P&&!s._cssModeVirtualInitialSet&&s.params.initialSlide>0?(s._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{f[x?"scrollLeft":"scrollTop"]=S})):f[x?"scrollLeft":"scrollTop"]=S,P&&requestAnimationFrame(()=>{s.wrapperEl.style.scrollSnapType="",s._immediateVirtual=!1})}else{if(!s.support.smoothScroll)return Md({swiper:s,targetPosition:S,side:x?"left":"top"}),!0;f.scrollTo({[x?"left":"top"]:S,behavior:"smooth"})}return!0}return s.setTransition(t),s.setTranslate(b),s.updateActiveIndex(o),s.updateSlidesClasses(),s.emit("beforeTransitionStart",t,n),s.transitionStart(i,_),t===0?s.transitionEnd(i,_):s.animating||(s.animating=!0,s.onSlideToWrapperTransitionEnd||(s.onSlideToWrapperTransitionEnd=function(S){!s||s.destroyed||S.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onSlideToWrapperTransitionEnd),s.onSlideToWrapperTransitionEnd=null,delete s.onSlideToWrapperTransitionEnd,s.transitionEnd(i,_))}),s.wrapperEl.addEventListener("transitionend",s.onSlideToWrapperTransitionEnd)),!0}function u_(e,t,i,n){e===void 0&&(e=0),i===void 0&&(i=!0),typeof e=="string"&&(e=parseInt(e,10));const r=this;if(r.destroyed)return;typeof t>"u"&&(t=r.params.speed);const s=r.grid&&r.params.grid&&r.params.grid.rows>1;let o=e;if(r.params.loop)if(r.virtual&&r.params.virtual.enabled)o=o+r.virtual.slidesBefore;else{let l;if(s){const h=o*r.params.grid.rows;l=r.slides.filter(f=>f.getAttribute("data-swiper-slide-index")*1===h)[0].column}else l=r.getSlideIndexByData(o);const a=s?Math.ceil(r.slides.length/r.params.grid.rows):r.slides.length,{centeredSlides:c}=r.params;let u=r.params.slidesPerView;u==="auto"?u=r.slidesPerViewDynamic():(u=Math.ceil(parseFloat(r.params.slidesPerView,10)),c&&u%2===0&&(u=u+1));let d=a-l<u;if(c&&(d=d||l<Math.ceil(u/2)),n&&c&&r.params.slidesPerView!=="auto"&&!s&&(d=!1),d){const h=c?l<r.activeIndex?"prev":"next":l-r.activeIndex-1<r.params.slidesPerView?"next":"prev";r.loopFix({direction:h,slideTo:!0,activeSlideIndex:h==="next"?l+1:l-a+1,slideRealIndex:h==="next"?r.realIndex:void 0})}if(s){const h=o*r.params.grid.rows;o=r.slides.filter(f=>f.getAttribute("data-swiper-slide-index")*1===h)[0].column}else o=r.getSlideIndexByData(o)}return requestAnimationFrame(()=>{r.slideTo(o,t,i,n)}),r}function d_(e,t,i){t===void 0&&(t=!0);const n=this,{enabled:r,params:s,animating:o}=n;if(!r||n.destroyed)return n;typeof e>"u"&&(e=n.params.speed);let l=s.slidesPerGroup;s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(l=Math.max(n.slidesPerViewDynamic("current",!0),1));const a=n.activeIndex<s.slidesPerGroupSkip?1:l,c=n.virtual&&s.virtual.enabled;if(s.loop){if(o&&!c&&s.loopPreventsSliding)return!1;if(n.loopFix({direction:"next"}),n._clientLeft=n.wrapperEl.clientLeft,n.activeIndex===n.slides.length-1&&s.cssMode)return requestAnimationFrame(()=>{n.slideTo(n.activeIndex+a,e,t,i)}),!0}return s.rewind&&n.isEnd?n.slideTo(0,e,t,i):n.slideTo(n.activeIndex+a,e,t,i)}function h_(e,t,i){t===void 0&&(t=!0);const n=this,{params:r,snapGrid:s,slidesGrid:o,rtlTranslate:l,enabled:a,animating:c}=n;if(!a||n.destroyed)return n;typeof e>"u"&&(e=n.params.speed);const u=n.virtual&&r.virtual.enabled;if(r.loop){if(c&&!u&&r.loopPreventsSliding)return!1;n.loopFix({direction:"prev"}),n._clientLeft=n.wrapperEl.clientLeft}const d=l?n.translate:-n.translate;function h(b){return b<0?-Math.floor(Math.abs(b)):Math.floor(b)}const f=h(d),p=s.map(b=>h(b));let m=s[p.indexOf(f)-1];if(typeof m>"u"&&r.cssMode){let b;s.forEach((_,x)=>{f>=_&&(b=x)}),typeof b<"u"&&(m=s[b>0?b-1:b])}let w=0;if(typeof m<"u"&&(w=o.indexOf(m),w<0&&(w=n.activeIndex-1),r.slidesPerView==="auto"&&r.slidesPerGroup===1&&r.slidesPerGroupAuto&&(w=w-n.slidesPerViewDynamic("previous",!0)+1,w=Math.max(w,0))),r.rewind&&n.isBeginning){const b=n.params.virtual&&n.params.virtual.enabled&&n.virtual?n.virtual.slides.length-1:n.slides.length-1;return n.slideTo(b,e,t,i)}else if(r.loop&&n.activeIndex===0&&r.cssMode)return requestAnimationFrame(()=>{n.slideTo(w,e,t,i)}),!0;return n.slideTo(w,e,t,i)}function f_(e,t,i){t===void 0&&(t=!0);const n=this;if(!n.destroyed)return typeof e>"u"&&(e=n.params.speed),n.slideTo(n.activeIndex,e,t,i)}function p_(e,t,i,n){t===void 0&&(t=!0),n===void 0&&(n=.5);const r=this;if(r.destroyed)return;typeof e>"u"&&(e=r.params.speed);let s=r.activeIndex;const o=Math.min(r.params.slidesPerGroupSkip,s),l=o+Math.floor((s-o)/r.params.slidesPerGroup),a=r.rtlTranslate?r.translate:-r.translate;if(a>=r.snapGrid[l]){const c=r.snapGrid[l],u=r.snapGrid[l+1];a-c>(u-c)*n&&(s+=r.params.slidesPerGroup)}else{const c=r.snapGrid[l-1],u=r.snapGrid[l];a-c<=(u-c)*n&&(s-=r.params.slidesPerGroup)}return s=Math.max(s,0),s=Math.min(s,r.slidesGrid.length-1),r.slideTo(s,e,t,i)}function m_(){const e=this;if(e.destroyed)return;const{params:t,slidesEl:i}=e,n=t.slidesPerView==="auto"?e.slidesPerViewDynamic():t.slidesPerView;let r=e.clickedIndex,s;const o=e.isElement?"swiper-slide":`.${t.slideClass}`;if(t.loop){if(e.animating)return;s=parseInt(e.clickedSlide.getAttribute("data-swiper-slide-index"),10),t.centeredSlides?r<e.loopedSlides-n/2||r>e.slides.length-e.loopedSlides+n/2?(e.loopFix(),r=e.getSlideIndex(Bt(i,`${o}[data-swiper-slide-index="${s}"]`)[0]),To(()=>{e.slideTo(r)})):e.slideTo(r):r>e.slides.length-n?(e.loopFix(),r=e.getSlideIndex(Bt(i,`${o}[data-swiper-slide-index="${s}"]`)[0]),To(()=>{e.slideTo(r)})):e.slideTo(r)}else e.slideTo(r)}var g_={slideTo:c_,slideToLoop:u_,slideNext:d_,slidePrev:h_,slideReset:f_,slideToClosest:p_,slideToClickedSlide:m_};function v_(e){const t=this,{params:i,slidesEl:n}=t;if(!i.loop||t.virtual&&t.params.virtual.enabled)return;const r=()=>{Bt(n,`.${i.slideClass}, swiper-slide`).forEach((d,h)=>{d.setAttribute("data-swiper-slide-index",h)})},s=t.grid&&i.grid&&i.grid.rows>1,o=i.slidesPerGroup*(s?i.grid.rows:1),l=t.slides.length%o!==0,a=s&&t.slides.length%i.grid.rows!==0,c=u=>{for(let d=0;d<u;d+=1){const h=t.isElement?Ao("swiper-slide",[i.slideBlankClass]):Ao("div",[i.slideClass,i.slideBlankClass]);t.slidesEl.append(h)}};if(l){if(i.loopAddBlankSlides){const u=o-t.slides.length%o;c(u),t.recalcSlides(),t.updateSlides()}else Ps("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");r()}else if(a){if(i.loopAddBlankSlides){const u=i.grid.rows-t.slides.length%i.grid.rows;c(u),t.recalcSlides(),t.updateSlides()}else Ps("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");r()}else r();t.loopFix({slideRealIndex:e,direction:i.centeredSlides?void 0:"next"})}function w_(e){let{slideRealIndex:t,slideTo:i=!0,direction:n,setTranslate:r,activeSlideIndex:s,byController:o,byMousewheel:l}=e===void 0?{}:e;const a=this;if(!a.params.loop)return;a.emit("beforeLoopFix");const{slides:c,allowSlidePrev:u,allowSlideNext:d,slidesEl:h,params:f}=a,{centeredSlides:p}=f;if(a.allowSlidePrev=!0,a.allowSlideNext=!0,a.virtual&&f.virtual.enabled){i&&(!f.centeredSlides&&a.snapIndex===0?a.slideTo(a.virtual.slides.length,0,!1,!0):f.centeredSlides&&a.snapIndex<f.slidesPerView?a.slideTo(a.virtual.slides.length+a.snapIndex,0,!1,!0):a.snapIndex===a.snapGrid.length-1&&a.slideTo(a.virtual.slidesBefore,0,!1,!0)),a.allowSlidePrev=u,a.allowSlideNext=d,a.emit("loopFix");return}let m=f.slidesPerView;m==="auto"?m=a.slidesPerViewDynamic():(m=Math.ceil(parseFloat(f.slidesPerView,10)),p&&m%2===0&&(m=m+1));const w=f.slidesPerGroupAuto?m:f.slidesPerGroup;let b=w;b%w!==0&&(b+=w-b%w),b+=f.loopAdditionalSlides,a.loopedSlides=b;const _=a.grid&&f.grid&&f.grid.rows>1;c.length<m+b?Ps("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled and not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):_&&f.grid.fill==="row"&&Ps("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const x=[],S=[];let P=a.activeIndex;typeof s>"u"?s=a.getSlideIndex(c.filter(W=>W.classList.contains(f.slideActiveClass))[0]):P=s;const V=n==="next"||!n,te=n==="prev"||!n;let z=0,R=0;const M=_?Math.ceil(c.length/f.grid.rows):c.length,X=(_?c[s].column:s)+(p&&typeof r>"u"?-m/2+.5:0);if(X<b){z=Math.max(b-X,w);for(let W=0;W<b-X;W+=1){const ue=W-Math.floor(W/M)*M;if(_){const we=M-ue-1;for(let ie=c.length-1;ie>=0;ie-=1)c[ie].column===we&&x.push(ie)}else x.push(M-ue-1)}}else if(X+m>M-b){R=Math.max(X-(M-b*2),w);for(let W=0;W<R;W+=1){const ue=W-Math.floor(W/M)*M;_?c.forEach((we,ie)=>{we.column===ue&&S.push(ie)}):S.push(ue)}}if(a.__preventObserver__=!0,requestAnimationFrame(()=>{a.__preventObserver__=!1}),te&&x.forEach(W=>{c[W].swiperLoopMoveDOM=!0,h.prepend(c[W]),c[W].swiperLoopMoveDOM=!1}),V&&S.forEach(W=>{c[W].swiperLoopMoveDOM=!0,h.append(c[W]),c[W].swiperLoopMoveDOM=!1}),a.recalcSlides(),f.slidesPerView==="auto"?a.updateSlides():_&&(x.length>0&&te||S.length>0&&V)&&a.slides.forEach((W,ue)=>{a.grid.updateSlide(ue,W,a.slides)}),f.watchSlidesProgress&&a.updateSlidesOffset(),i){if(x.length>0&&te){if(typeof t>"u"){const W=a.slidesGrid[P],we=a.slidesGrid[P+z]-W;l?a.setTranslate(a.translate-we):(a.slideTo(P+Math.ceil(z),0,!1,!0),r&&(a.touchEventsData.startTranslate=a.touchEventsData.startTranslate-we,a.touchEventsData.currentTranslate=a.touchEventsData.currentTranslate-we))}else if(r){const W=_?x.length/f.grid.rows:x.length;a.slideTo(a.activeIndex+W,0,!1,!0),a.touchEventsData.currentTranslate=a.translate}}else if(S.length>0&&V)if(typeof t>"u"){const W=a.slidesGrid[P],we=a.slidesGrid[P-R]-W;l?a.setTranslate(a.translate-we):(a.slideTo(P-R,0,!1,!0),r&&(a.touchEventsData.startTranslate=a.touchEventsData.startTranslate-we,a.touchEventsData.currentTranslate=a.touchEventsData.currentTranslate-we))}else{const W=_?S.length/f.grid.rows:S.length;a.slideTo(a.activeIndex-W,0,!1,!0)}}if(a.allowSlidePrev=u,a.allowSlideNext=d,a.controller&&a.controller.control&&!o){const W={slideRealIndex:t,direction:n,setTranslate:r,activeSlideIndex:s,byController:!0};Array.isArray(a.controller.control)?a.controller.control.forEach(ue=>{!ue.destroyed&&ue.params.loop&&ue.loopFix({...W,slideTo:ue.params.slidesPerView===f.slidesPerView?i:!1})}):a.controller.control instanceof a.constructor&&a.controller.control.params.loop&&a.controller.control.loopFix({...W,slideTo:a.controller.control.params.slidesPerView===f.slidesPerView?i:!1})}a.emit("loopFix")}function b_(){const e=this,{params:t,slidesEl:i}=e;if(!t.loop||e.virtual&&e.params.virtual.enabled)return;e.recalcSlides();const n=[];e.slides.forEach(r=>{const s=typeof r.swiperSlideIndex>"u"?r.getAttribute("data-swiper-slide-index")*1:r.swiperSlideIndex;n[s]=r}),e.slides.forEach(r=>{r.removeAttribute("data-swiper-slide-index")}),n.forEach(r=>{i.append(r)}),e.recalcSlides(),e.slideTo(e.realIndex,0)}var y_={loopCreate:v_,loopFix:w_,loopDestroy:b_};function __(e){const t=this;if(!t.params.simulateTouch||t.params.watchOverflow&&t.isLocked||t.params.cssMode)return;const i=t.params.touchEventsTarget==="container"?t.el:t.wrapperEl;t.isElement&&(t.__preventObserver__=!0),i.style.cursor="move",i.style.cursor=e?"grabbing":"grab",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1})}function S_(){const e=this;e.params.watchOverflow&&e.isLocked||e.params.cssMode||(e.isElement&&(e.__preventObserver__=!0),e[e.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1}))}var x_={setGrabCursor:__,unsetGrabCursor:S_};function E_(e,t){t===void 0&&(t=this);function i(n){if(!n||n===ln()||n===nt())return null;n.assignedSlot&&(n=n.assignedSlot);const r=n.closest(e);return!r&&!n.getRootNode?null:r||i(n.getRootNode().host)}return i(t)}function uc(e,t,i){const n=nt(),{params:r}=e,s=r.edgeSwipeDetection,o=r.edgeSwipeThreshold;return s&&(i<=o||i>=n.innerWidth-o)?s==="prevent"?(t.preventDefault(),!0):!1:!0}function T_(e){const t=this,i=ln();let n=e;n.originalEvent&&(n=n.originalEvent);const r=t.touchEventsData;if(n.type==="pointerdown"){if(r.pointerId!==null&&r.pointerId!==n.pointerId)return;r.pointerId=n.pointerId}else n.type==="touchstart"&&n.targetTouches.length===1&&(r.touchId=n.targetTouches[0].identifier);if(n.type==="touchstart"){uc(t,n,n.targetTouches[0].pageX);return}const{params:s,touches:o,enabled:l}=t;if(!l||!s.simulateTouch&&n.pointerType==="mouse"||t.animating&&s.preventInteractionOnTransition)return;!t.animating&&s.cssMode&&s.loop&&t.loopFix();let a=n.target;if(s.touchEventsTarget==="wrapper"&&!t.wrapperEl.contains(a)||"which"in n&&n.which===3||"button"in n&&n.button>0||r.isTouched&&r.isMoved)return;const c=!!s.noSwipingClass&&s.noSwipingClass!=="",u=n.composedPath?n.composedPath():n.path;c&&n.target&&n.target.shadowRoot&&u&&(a=u[0]);const d=s.noSwipingSelector?s.noSwipingSelector:`.${s.noSwipingClass}`,h=!!(n.target&&n.target.shadowRoot);if(s.noSwiping&&(h?E_(d,a):a.closest(d))){t.allowClick=!0;return}if(s.swipeHandler&&!a.closest(s.swipeHandler))return;o.currentX=n.pageX,o.currentY=n.pageY;const f=o.currentX,p=o.currentY;if(!uc(t,n,f))return;Object.assign(r,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=f,o.startY=p,r.touchStartTime=Os(),t.allowClick=!0,t.updateSize(),t.swipeDirection=void 0,s.threshold>0&&(r.allowThresholdMove=!1);let m=!0;a.matches(r.focusableElements)&&(m=!1,a.nodeName==="SELECT"&&(r.isTouched=!1)),i.activeElement&&i.activeElement.matches(r.focusableElements)&&i.activeElement!==a&&i.activeElement.blur();const w=m&&t.allowTouchMove&&s.touchStartPreventDefault;(s.touchStartForcePreventDefault||w)&&!a.isContentEditable&&n.preventDefault(),s.freeMode&&s.freeMode.enabled&&t.freeMode&&t.animating&&!s.cssMode&&t.freeMode.onTouchStart(),t.emit("touchStart",n)}function A_(e){const t=ln(),i=this,n=i.touchEventsData,{params:r,touches:s,rtlTranslate:o,enabled:l}=i;if(!l||!r.simulateTouch&&e.pointerType==="mouse")return;let a=e;if(a.originalEvent&&(a=a.originalEvent),a.type==="pointermove"&&(n.touchId!==null||a.pointerId!==n.pointerId))return;let c;if(a.type==="touchmove"){if(c=[...a.changedTouches].filter(V=>V.identifier===n.touchId)[0],!c||c.identifier!==n.touchId)return}else c=a;if(!n.isTouched){n.startMoving&&n.isScrolling&&i.emit("touchMoveOpposite",a);return}const u=c.pageX,d=c.pageY;if(a.preventedByNestedSwiper){s.startX=u,s.startY=d;return}if(!i.allowTouchMove){a.target.matches(n.focusableElements)||(i.allowClick=!1),n.isTouched&&(Object.assign(s,{startX:u,startY:d,currentX:u,currentY:d}),n.touchStartTime=Os());return}if(r.touchReleaseOnEdges&&!r.loop){if(i.isVertical()){if(d<s.startY&&i.translate<=i.maxTranslate()||d>s.startY&&i.translate>=i.minTranslate()){n.isTouched=!1,n.isMoved=!1;return}}else if(u<s.startX&&i.translate<=i.maxTranslate()||u>s.startX&&i.translate>=i.minTranslate())return}if(t.activeElement&&a.target===t.activeElement&&a.target.matches(n.focusableElements)){n.isMoved=!0,i.allowClick=!1;return}n.allowTouchCallbacks&&i.emit("touchMove",a),s.previousX=s.currentX,s.previousY=s.currentY,s.currentX=u,s.currentY=d;const h=s.currentX-s.startX,f=s.currentY-s.startY;if(i.params.threshold&&Math.sqrt(h**2+f**2)<i.params.threshold)return;if(typeof n.isScrolling>"u"){let V;i.isHorizontal()&&s.currentY===s.startY||i.isVertical()&&s.currentX===s.startX?n.isScrolling=!1:h*h+f*f>=25&&(V=Math.atan2(Math.abs(f),Math.abs(h))*180/Math.PI,n.isScrolling=i.isHorizontal()?V>r.touchAngle:90-V>r.touchAngle)}if(n.isScrolling&&i.emit("touchMoveOpposite",a),typeof n.startMoving>"u"&&(s.currentX!==s.startX||s.currentY!==s.startY)&&(n.startMoving=!0),n.isScrolling||a.type==="touchmove"&&n.preventTouchMoveFromPointerMove){n.isTouched=!1;return}if(!n.startMoving)return;i.allowClick=!1,!r.cssMode&&a.cancelable&&a.preventDefault(),r.touchMoveStopPropagation&&!r.nested&&a.stopPropagation();let p=i.isHorizontal()?h:f,m=i.isHorizontal()?s.currentX-s.previousX:s.currentY-s.previousY;r.oneWayMovement&&(p=Math.abs(p)*(o?1:-1),m=Math.abs(m)*(o?1:-1)),s.diff=p,p*=r.touchRatio,o&&(p=-p,m=-m);const w=i.touchesDirection;i.swipeDirection=p>0?"prev":"next",i.touchesDirection=m>0?"prev":"next";const b=i.params.loop&&!r.cssMode,_=i.touchesDirection==="next"&&i.allowSlideNext||i.touchesDirection==="prev"&&i.allowSlidePrev;if(!n.isMoved){if(b&&_&&i.loopFix({direction:i.swipeDirection}),n.startTranslate=i.getTranslate(),i.setTransition(0),i.animating){const V=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});i.wrapperEl.dispatchEvent(V)}n.allowMomentumBounce=!1,r.grabCursor&&(i.allowSlideNext===!0||i.allowSlidePrev===!0)&&i.setGrabCursor(!0),i.emit("sliderFirstMove",a)}let x;if(new Date().getTime(),n.isMoved&&n.allowThresholdMove&&w!==i.touchesDirection&&b&&_&&Math.abs(p)>=1){Object.assign(s,{startX:u,startY:d,currentX:u,currentY:d,startTranslate:n.currentTranslate}),n.loopSwapReset=!0,n.startTranslate=n.currentTranslate;return}i.emit("sliderMove",a),n.isMoved=!0,n.currentTranslate=p+n.startTranslate;let S=!0,P=r.resistanceRatio;if(r.touchReleaseOnEdges&&(P=0),p>0?(b&&_&&!x&&n.allowThresholdMove&&n.currentTranslate>(r.centeredSlides?i.minTranslate()-i.slidesSizesGrid[i.activeIndex+1]:i.minTranslate())&&i.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),n.currentTranslate>i.minTranslate()&&(S=!1,r.resistance&&(n.currentTranslate=i.minTranslate()-1+(-i.minTranslate()+n.startTranslate+p)**P))):p<0&&(b&&_&&!x&&n.allowThresholdMove&&n.currentTranslate<(r.centeredSlides?i.maxTranslate()+i.slidesSizesGrid[i.slidesSizesGrid.length-1]:i.maxTranslate())&&i.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:i.slides.length-(r.slidesPerView==="auto"?i.slidesPerViewDynamic():Math.ceil(parseFloat(r.slidesPerView,10)))}),n.currentTranslate<i.maxTranslate()&&(S=!1,r.resistance&&(n.currentTranslate=i.maxTranslate()+1-(i.maxTranslate()-n.startTranslate-p)**P))),S&&(a.preventedByNestedSwiper=!0),!i.allowSlideNext&&i.swipeDirection==="next"&&n.currentTranslate<n.startTranslate&&(n.currentTranslate=n.startTranslate),!i.allowSlidePrev&&i.swipeDirection==="prev"&&n.currentTranslate>n.startTranslate&&(n.currentTranslate=n.startTranslate),!i.allowSlidePrev&&!i.allowSlideNext&&(n.currentTranslate=n.startTranslate),r.threshold>0)if(Math.abs(p)>r.threshold||n.allowThresholdMove){if(!n.allowThresholdMove){n.allowThresholdMove=!0,s.startX=s.currentX,s.startY=s.currentY,n.currentTranslate=n.startTranslate,s.diff=i.isHorizontal()?s.currentX-s.startX:s.currentY-s.startY;return}}else{n.currentTranslate=n.startTranslate;return}!r.followFinger||r.cssMode||((r.freeMode&&r.freeMode.enabled&&i.freeMode||r.watchSlidesProgress)&&(i.updateActiveIndex(),i.updateSlidesClasses()),r.freeMode&&r.freeMode.enabled&&i.freeMode&&i.freeMode.onTouchMove(),i.updateProgress(n.currentTranslate),i.setTranslate(n.currentTranslate))}function C_(e){const t=this,i=t.touchEventsData;let n=e;n.originalEvent&&(n=n.originalEvent);let r;if(n.type==="touchend"||n.type==="touchcancel"){if(r=[...n.changedTouches].filter(P=>P.identifier===i.touchId)[0],!r||r.identifier!==i.touchId)return}else{if(i.touchId!==null||n.pointerId!==i.pointerId)return;r=n}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(n.type)&&!(["pointercancel","contextmenu"].includes(n.type)&&(t.browser.isSafari||t.browser.isWebView)))return;i.pointerId=null,i.touchId=null;const{params:o,touches:l,rtlTranslate:a,slidesGrid:c,enabled:u}=t;if(!u||!o.simulateTouch&&n.pointerType==="mouse")return;if(i.allowTouchCallbacks&&t.emit("touchEnd",n),i.allowTouchCallbacks=!1,!i.isTouched){i.isMoved&&o.grabCursor&&t.setGrabCursor(!1),i.isMoved=!1,i.startMoving=!1;return}o.grabCursor&&i.isMoved&&i.isTouched&&(t.allowSlideNext===!0||t.allowSlidePrev===!0)&&t.setGrabCursor(!1);const d=Os(),h=d-i.touchStartTime;if(t.allowClick){const P=n.path||n.composedPath&&n.composedPath();t.updateClickedSlide(P&&P[0]||n.target,P),t.emit("tap click",n),h<300&&d-i.lastClickTime<300&&t.emit("doubleTap doubleClick",n)}if(i.lastClickTime=Os(),To(()=>{t.destroyed||(t.allowClick=!0)}),!i.isTouched||!i.isMoved||!t.swipeDirection||l.diff===0&&!i.loopSwapReset||i.currentTranslate===i.startTranslate&&!i.loopSwapReset){i.isTouched=!1,i.isMoved=!1,i.startMoving=!1;return}i.isTouched=!1,i.isMoved=!1,i.startMoving=!1;let f;if(o.followFinger?f=a?t.translate:-t.translate:f=-i.currentTranslate,o.cssMode)return;if(o.freeMode&&o.freeMode.enabled){t.freeMode.onTouchEnd({currentPos:f});return}const p=f>=-t.maxTranslate()&&!t.params.loop;let m=0,w=t.slidesSizesGrid[0];for(let P=0;P<c.length;P+=P<o.slidesPerGroupSkip?1:o.slidesPerGroup){const V=P<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;typeof c[P+V]<"u"?(p||f>=c[P]&&f<c[P+V])&&(m=P,w=c[P+V]-c[P]):(p||f>=c[P])&&(m=P,w=c[c.length-1]-c[c.length-2])}let b=null,_=null;o.rewind&&(t.isBeginning?_=o.virtual&&o.virtual.enabled&&t.virtual?t.virtual.slides.length-1:t.slides.length-1:t.isEnd&&(b=0));const x=(f-c[m])/w,S=m<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;if(h>o.longSwipesMs){if(!o.longSwipes){t.slideTo(t.activeIndex);return}t.swipeDirection==="next"&&(x>=o.longSwipesRatio?t.slideTo(o.rewind&&t.isEnd?b:m+S):t.slideTo(m)),t.swipeDirection==="prev"&&(x>1-o.longSwipesRatio?t.slideTo(m+S):_!==null&&x<0&&Math.abs(x)>o.longSwipesRatio?t.slideTo(_):t.slideTo(m))}else{if(!o.shortSwipes){t.slideTo(t.activeIndex);return}t.navigation&&(n.target===t.navigation.nextEl||n.target===t.navigation.prevEl)?n.target===t.navigation.nextEl?t.slideTo(m+S):t.slideTo(m):(t.swipeDirection==="next"&&t.slideTo(b!==null?b:m+S),t.swipeDirection==="prev"&&t.slideTo(_!==null?_:m))}}function dc(){const e=this,{params:t,el:i}=e;if(i&&i.offsetWidth===0)return;t.breakpoints&&e.setBreakpoint();const{allowSlideNext:n,allowSlidePrev:r,snapGrid:s}=e,o=e.virtual&&e.params.virtual.enabled;e.allowSlideNext=!0,e.allowSlidePrev=!0,e.updateSize(),e.updateSlides(),e.updateSlidesClasses();const l=o&&t.loop;(t.slidesPerView==="auto"||t.slidesPerView>1)&&e.isEnd&&!e.isBeginning&&!e.params.centeredSlides&&!l?e.slideTo(e.slides.length-1,0,!1,!0):e.params.loop&&!o?e.slideToLoop(e.realIndex,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0),e.autoplay&&e.autoplay.running&&e.autoplay.paused&&(clearTimeout(e.autoplay.resizeTimeout),e.autoplay.resizeTimeout=setTimeout(()=>{e.autoplay&&e.autoplay.running&&e.autoplay.paused&&e.autoplay.resume()},500)),e.allowSlidePrev=r,e.allowSlideNext=n,e.params.watchOverflow&&s!==e.snapGrid&&e.checkOverflow()}function R_(e){const t=this;t.enabled&&(t.allowClick||(t.params.preventClicks&&e.preventDefault(),t.params.preventClicksPropagation&&t.animating&&(e.stopPropagation(),e.stopImmediatePropagation())))}function O_(){const e=this,{wrapperEl:t,rtlTranslate:i,enabled:n}=e;if(!n)return;e.previousTranslate=e.translate,e.isHorizontal()?e.translate=-t.scrollLeft:e.translate=-t.scrollTop,e.translate===0&&(e.translate=0),e.updateActiveIndex(),e.updateSlidesClasses();let r;const s=e.maxTranslate()-e.minTranslate();s===0?r=0:r=(e.translate-e.minTranslate())/s,r!==e.progress&&e.updateProgress(i?-e.translate:e.translate),e.emit("setTranslate",e.translate,!1)}function P_(e){const t=this;ws(t,e.target),!(t.params.cssMode||t.params.slidesPerView!=="auto"&&!t.params.autoHeight)&&t.update()}function M_(){const e=this;e.documentTouchHandlerProceeded||(e.documentTouchHandlerProceeded=!0,e.params.touchReleaseOnEdges&&(e.el.style.touchAction="auto"))}const zd=(e,t)=>{const i=ln(),{params:n,el:r,wrapperEl:s,device:o}=e,l=!!n.nested,a=t==="on"?"addEventListener":"removeEventListener",c=t;i[a]("touchstart",e.onDocumentTouchStart,{passive:!1,capture:l}),r[a]("touchstart",e.onTouchStart,{passive:!1}),r[a]("pointerdown",e.onTouchStart,{passive:!1}),i[a]("touchmove",e.onTouchMove,{passive:!1,capture:l}),i[a]("pointermove",e.onTouchMove,{passive:!1,capture:l}),i[a]("touchend",e.onTouchEnd,{passive:!0}),i[a]("pointerup",e.onTouchEnd,{passive:!0}),i[a]("pointercancel",e.onTouchEnd,{passive:!0}),i[a]("touchcancel",e.onTouchEnd,{passive:!0}),i[a]("pointerout",e.onTouchEnd,{passive:!0}),i[a]("pointerleave",e.onTouchEnd,{passive:!0}),i[a]("contextmenu",e.onTouchEnd,{passive:!0}),(n.preventClicks||n.preventClicksPropagation)&&r[a]("click",e.onClick,!0),n.cssMode&&s[a]("scroll",e.onScroll),n.updateOnWindowResize?e[c](o.ios||o.android?"resize orientationchange observerUpdate":"resize observerUpdate",dc,!0):e[c]("observerUpdate",dc,!0),r[a]("load",e.onLoad,{capture:!0})};function $_(){const e=this,{params:t}=e;e.onTouchStart=T_.bind(e),e.onTouchMove=A_.bind(e),e.onTouchEnd=C_.bind(e),e.onDocumentTouchStart=M_.bind(e),t.cssMode&&(e.onScroll=O_.bind(e)),e.onClick=R_.bind(e),e.onLoad=P_.bind(e),zd(e,"on")}function I_(){zd(this,"off")}var k_={attachEvents:$_,detachEvents:I_};const hc=(e,t)=>e.grid&&t.grid&&t.grid.rows>1;function z_(){const e=this,{realIndex:t,initialized:i,params:n,el:r}=e,s=n.breakpoints;if(!s||s&&Object.keys(s).length===0)return;const o=e.getBreakpoint(s,e.params.breakpointsBase,e.el);if(!o||e.currentBreakpoint===o)return;const a=(o in s?s[o]:void 0)||e.originalParams,c=hc(e,n),u=hc(e,a),d=e.params.grabCursor,h=a.grabCursor,f=n.enabled;c&&!u?(r.classList.remove(`${n.containerModifierClass}grid`,`${n.containerModifierClass}grid-column`),e.emitContainerClasses()):!c&&u&&(r.classList.add(`${n.containerModifierClass}grid`),(a.grid.fill&&a.grid.fill==="column"||!a.grid.fill&&n.grid.fill==="column")&&r.classList.add(`${n.containerModifierClass}grid-column`),e.emitContainerClasses()),d&&!h?e.unsetGrabCursor():!d&&h&&e.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(x=>{if(typeof a[x]>"u")return;const S=n[x]&&n[x].enabled,P=a[x]&&a[x].enabled;S&&!P&&e[x].disable(),!S&&P&&e[x].enable()});const p=a.direction&&a.direction!==n.direction,m=n.loop&&(a.slidesPerView!==n.slidesPerView||p),w=n.loop;p&&i&&e.changeDirection(),it(e.params,a);const b=e.params.enabled,_=e.params.loop;Object.assign(e,{allowTouchMove:e.params.allowTouchMove,allowSlideNext:e.params.allowSlideNext,allowSlidePrev:e.params.allowSlidePrev}),f&&!b?e.disable():!f&&b&&e.enable(),e.currentBreakpoint=o,e.emit("_beforeBreakpoint",a),i&&(m?(e.loopDestroy(),e.loopCreate(t),e.updateSlides()):!w&&_?(e.loopCreate(t),e.updateSlides()):w&&!_&&e.loopDestroy()),e.emit("breakpoint",a)}function L_(e,t,i){if(t===void 0&&(t="window"),!e||t==="container"&&!i)return;let n=!1;const r=nt(),s=t==="window"?r.innerHeight:i.clientHeight,o=Object.keys(e).map(l=>{if(typeof l=="string"&&l.indexOf("@")===0){const a=parseFloat(l.substr(1));return{value:s*a,point:l}}return{value:l,point:l}});o.sort((l,a)=>parseInt(l.value,10)-parseInt(a.value,10));for(let l=0;l<o.length;l+=1){const{point:a,value:c}=o[l];t==="window"?r.matchMedia(`(min-width: ${c}px)`).matches&&(n=a):c<=i.clientWidth&&(n=a)}return n||"max"}var j_={setBreakpoint:z_,getBreakpoint:L_};function D_(e,t){const i=[];return e.forEach(n=>{typeof n=="object"?Object.keys(n).forEach(r=>{n[r]&&i.push(t+r)}):typeof n=="string"&&i.push(t+n)}),i}function N_(){const e=this,{classNames:t,params:i,rtl:n,el:r,device:s}=e,o=D_(["initialized",i.direction,{"free-mode":e.params.freeMode&&i.freeMode.enabled},{autoheight:i.autoHeight},{rtl:n},{grid:i.grid&&i.grid.rows>1},{"grid-column":i.grid&&i.grid.rows>1&&i.grid.fill==="column"},{android:s.android},{ios:s.ios},{"css-mode":i.cssMode},{centered:i.cssMode&&i.centeredSlides},{"watch-progress":i.watchSlidesProgress}],i.containerModifierClass);t.push(...o),r.classList.add(...t),e.emitContainerClasses()}function B_(){const e=this,{el:t,classNames:i}=e;t.classList.remove(...i),e.emitContainerClasses()}var F_={addClasses:N_,removeClasses:B_};function U_(){const e=this,{isLocked:t,params:i}=e,{slidesOffsetBefore:n}=i;if(n){const r=e.slides.length-1,s=e.slidesGrid[r]+e.slidesSizesGrid[r]+n*2;e.isLocked=e.size>s}else e.isLocked=e.snapGrid.length===1;i.allowSlideNext===!0&&(e.allowSlideNext=!e.isLocked),i.allowSlidePrev===!0&&(e.allowSlidePrev=!e.isLocked),t&&t!==e.isLocked&&(e.isEnd=!1),t!==e.isLocked&&e.emit(e.isLocked?"lock":"unlock")}var H_={checkOverflow:U_},Ro={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function W_(e,t){return function(n){n===void 0&&(n={});const r=Object.keys(n)[0],s=n[r];if(typeof s!="object"||s===null){it(t,n);return}if(e[r]===!0&&(e[r]={enabled:!0}),r==="navigation"&&e[r]&&e[r].enabled&&!e[r].prevEl&&!e[r].nextEl&&(e[r].auto=!0),["pagination","scrollbar"].indexOf(r)>=0&&e[r]&&e[r].enabled&&!e[r].el&&(e[r].auto=!0),!(r in e&&"enabled"in s)){it(t,n);return}typeof e[r]=="object"&&!("enabled"in e[r])&&(e[r].enabled=!0),e[r]||(e[r]={enabled:!1}),it(t,n)}}const Fr={eventsEmitter:F0,update:Z0,translate:s_,transition:l_,slide:g_,loop:y_,grabCursor:x_,events:k_,breakpoints:j_,checkOverflow:H_,classes:F_},Ur={};let va=class jt{constructor(){let t,i;for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];r.length===1&&r[0].constructor&&Object.prototype.toString.call(r[0]).slice(8,-1)==="Object"?i=r[0]:[t,i]=r,i||(i={}),i=it({},i),t&&!i.el&&(i.el=t);const o=ln();if(i.el&&typeof i.el=="string"&&o.querySelectorAll(i.el).length>1){const u=[];return o.querySelectorAll(i.el).forEach(d=>{const h=it({},i,{el:d});u.push(new jt(h))}),u}const l=this;l.__swiper__=!0,l.support=$d(),l.device=Id({userAgent:i.userAgent}),l.browser=D0(),l.eventsListeners={},l.eventsAnyListeners=[],l.modules=[...l.__modules__],i.modules&&Array.isArray(i.modules)&&l.modules.push(...i.modules);const a={};l.modules.forEach(u=>{u({params:i,swiper:l,extendParams:W_(i,a),on:l.on.bind(l),once:l.once.bind(l),off:l.off.bind(l),emit:l.emit.bind(l)})});const c=it({},Ro,a);return l.params=it({},c,Ur,i),l.originalParams=it({},l.params),l.passedParams=it({},i),l.params&&l.params.on&&Object.keys(l.params.on).forEach(u=>{l.on(u,l.params.on[u])}),l.params&&l.params.onAny&&l.onAny(l.params.onAny),Object.assign(l,{enabled:l.params.enabled,el:t,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return l.params.direction==="horizontal"},isVertical(){return l.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:l.params.allowSlideNext,allowSlidePrev:l.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:l.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:l.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),l.emit("_swiper"),l.params.init&&l.init(),l}getDirectionLabel(t){return this.isHorizontal()?t:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[t]}getSlideIndex(t){const{slidesEl:i,params:n}=this,r=Bt(i,`.${n.slideClass}, swiper-slide`),s=ac(r[0]);return ac(t)-s}getSlideIndexByData(t){return this.getSlideIndex(this.slides.filter(i=>i.getAttribute("data-swiper-slide-index")*1===t)[0])}recalcSlides(){const t=this,{slidesEl:i,params:n}=t;t.slides=Bt(i,`.${n.slideClass}, swiper-slide`)}enable(){const t=this;t.enabled||(t.enabled=!0,t.params.grabCursor&&t.setGrabCursor(),t.emit("enable"))}disable(){const t=this;t.enabled&&(t.enabled=!1,t.params.grabCursor&&t.unsetGrabCursor(),t.emit("disable"))}setProgress(t,i){const n=this;t=Math.min(Math.max(t,0),1);const r=n.minTranslate(),o=(n.maxTranslate()-r)*t+r;n.translateTo(o,typeof i>"u"?0:i),n.updateActiveIndex(),n.updateSlidesClasses()}emitContainerClasses(){const t=this;if(!t.params._emitClasses||!t.el)return;const i=t.el.className.split(" ").filter(n=>n.indexOf("swiper")===0||n.indexOf(t.params.containerModifierClass)===0);t.emit("_containerClasses",i.join(" "))}getSlideClasses(t){const i=this;return i.destroyed?"":t.className.split(" ").filter(n=>n.indexOf("swiper-slide")===0||n.indexOf(i.params.slideClass)===0).join(" ")}emitSlidesClasses(){const t=this;if(!t.params._emitClasses||!t.el)return;const i=[];t.slides.forEach(n=>{const r=t.getSlideClasses(n);i.push({slideEl:n,classNames:r}),t.emit("_slideClass",n,r)}),t.emit("_slideClasses",i)}slidesPerViewDynamic(t,i){t===void 0&&(t="current"),i===void 0&&(i=!1);const n=this,{params:r,slides:s,slidesGrid:o,slidesSizesGrid:l,size:a,activeIndex:c}=n;let u=1;if(typeof r.slidesPerView=="number")return r.slidesPerView;if(r.centeredSlides){let d=s[c]?Math.ceil(s[c].swiperSlideSize):0,h;for(let f=c+1;f<s.length;f+=1)s[f]&&!h&&(d+=Math.ceil(s[f].swiperSlideSize),u+=1,d>a&&(h=!0));for(let f=c-1;f>=0;f-=1)s[f]&&!h&&(d+=s[f].swiperSlideSize,u+=1,d>a&&(h=!0))}else if(t==="current")for(let d=c+1;d<s.length;d+=1)(i?o[d]+l[d]-o[c]<a:o[d]-o[c]<a)&&(u+=1);else for(let d=c-1;d>=0;d-=1)o[c]-o[d]<a&&(u+=1);return u}update(){const t=this;if(!t||t.destroyed)return;const{snapGrid:i,params:n}=t;n.breakpoints&&t.setBreakpoint(),[...t.el.querySelectorAll('[loading="lazy"]')].forEach(o=>{o.complete&&ws(t,o)}),t.updateSize(),t.updateSlides(),t.updateProgress(),t.updateSlidesClasses();function r(){const o=t.rtlTranslate?t.translate*-1:t.translate,l=Math.min(Math.max(o,t.maxTranslate()),t.minTranslate());t.setTranslate(l),t.updateActiveIndex(),t.updateSlidesClasses()}let s;if(n.freeMode&&n.freeMode.enabled&&!n.cssMode)r(),n.autoHeight&&t.updateAutoHeight();else{if((n.slidesPerView==="auto"||n.slidesPerView>1)&&t.isEnd&&!n.centeredSlides){const o=t.virtual&&n.virtual.enabled?t.virtual.slides:t.slides;s=t.slideTo(o.length-1,0,!1,!0)}else s=t.slideTo(t.activeIndex,0,!1,!0);s||r()}n.watchOverflow&&i!==t.snapGrid&&t.checkOverflow(),t.emit("update")}changeDirection(t,i){i===void 0&&(i=!0);const n=this,r=n.params.direction;return t||(t=r==="horizontal"?"vertical":"horizontal"),t===r||t!=="horizontal"&&t!=="vertical"||(n.el.classList.remove(`${n.params.containerModifierClass}${r}`),n.el.classList.add(`${n.params.containerModifierClass}${t}`),n.emitContainerClasses(),n.params.direction=t,n.slides.forEach(s=>{t==="vertical"?s.style.width="":s.style.height=""}),n.emit("changeDirection"),i&&n.update()),n}changeLanguageDirection(t){const i=this;i.rtl&&t==="rtl"||!i.rtl&&t==="ltr"||(i.rtl=t==="rtl",i.rtlTranslate=i.params.direction==="horizontal"&&i.rtl,i.rtl?(i.el.classList.add(`${i.params.containerModifierClass}rtl`),i.el.dir="rtl"):(i.el.classList.remove(`${i.params.containerModifierClass}rtl`),i.el.dir="ltr"),i.update())}mount(t){const i=this;if(i.mounted)return!0;let n=t||i.params.el;if(typeof n=="string"&&(n=document.querySelector(n)),!n)return!1;n.swiper=i,n.parentNode&&n.parentNode.host&&n.parentNode.host.nodeName===i.params.swiperElementNodeName.toUpperCase()&&(i.isElement=!0);const r=()=>`.${(i.params.wrapperClass||"").trim().split(" ").join(".")}`;let o=(()=>n&&n.shadowRoot&&n.shadowRoot.querySelector?n.shadowRoot.querySelector(r()):Bt(n,r())[0])();return!o&&i.params.createElements&&(o=Ao("div",i.params.wrapperClass),n.append(o),Bt(n,`.${i.params.slideClass}`).forEach(l=>{o.append(l)})),Object.assign(i,{el:n,wrapperEl:o,slidesEl:i.isElement&&!n.parentNode.host.slideSlots?n.parentNode.host:o,hostEl:i.isElement?n.parentNode.host:n,mounted:!0,rtl:n.dir.toLowerCase()==="rtl"||ti(n,"direction")==="rtl",rtlTranslate:i.params.direction==="horizontal"&&(n.dir.toLowerCase()==="rtl"||ti(n,"direction")==="rtl"),wrongRTL:ti(o,"display")==="-webkit-box"}),!0}init(t){const i=this;if(i.initialized||i.mount(t)===!1)return i;i.emit("beforeInit"),i.params.breakpoints&&i.setBreakpoint(),i.addClasses(),i.updateSize(),i.updateSlides(),i.params.watchOverflow&&i.checkOverflow(),i.params.grabCursor&&i.enabled&&i.setGrabCursor(),i.params.loop&&i.virtual&&i.params.virtual.enabled?i.slideTo(i.params.initialSlide+i.virtual.slidesBefore,0,i.params.runCallbacksOnInit,!1,!0):i.slideTo(i.params.initialSlide,0,i.params.runCallbacksOnInit,!1,!0),i.params.loop&&i.loopCreate(),i.attachEvents();const r=[...i.el.querySelectorAll('[loading="lazy"]')];return i.isElement&&r.push(...i.hostEl.querySelectorAll('[loading="lazy"]')),r.forEach(s=>{s.complete?ws(i,s):s.addEventListener("load",o=>{ws(i,o.target)})}),Co(i),i.initialized=!0,Co(i),i.emit("init"),i.emit("afterInit"),i}destroy(t,i){t===void 0&&(t=!0),i===void 0&&(i=!0);const n=this,{params:r,el:s,wrapperEl:o,slides:l}=n;return typeof n.params>"u"||n.destroyed||(n.emit("beforeDestroy"),n.initialized=!1,n.detachEvents(),r.loop&&n.loopDestroy(),i&&(n.removeClasses(),s.removeAttribute("style"),o.removeAttribute("style"),l&&l.length&&l.forEach(a=>{a.classList.remove(r.slideVisibleClass,r.slideFullyVisibleClass,r.slideActiveClass,r.slideNextClass,r.slidePrevClass),a.removeAttribute("style"),a.removeAttribute("data-swiper-slide-index")})),n.emit("destroy"),Object.keys(n.eventsListeners).forEach(a=>{n.off(a)}),t!==!1&&(n.el.swiper=null,R0(n)),n.destroyed=!0),null}static extendDefaults(t){it(Ur,t)}static get extendedDefaults(){return Ur}static get defaults(){return Ro}static installModule(t){jt.prototype.__modules__||(jt.prototype.__modules__=[]);const i=jt.prototype.__modules__;typeof t=="function"&&i.indexOf(t)<0&&i.push(t)}static use(t){return Array.isArray(t)?(t.forEach(i=>jt.installModule(i)),jt):(jt.installModule(t),jt)}};Object.keys(Fr).forEach(e=>{Object.keys(Fr[e]).forEach(t=>{va.prototype[t]=Fr[e][t]})});va.use([N0,B0]);const Ld=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function xi(e){return typeof e=="object"&&e!==null&&e.constructor&&Object.prototype.toString.call(e).slice(8,-1)==="Object"&&!e.__swiper__}function Hi(e,t){const i=["__proto__","constructor","prototype"];Object.keys(t).filter(n=>i.indexOf(n)<0).forEach(n=>{typeof e[n]>"u"?e[n]=t[n]:xi(t[n])&&xi(e[n])&&Object.keys(t[n]).length>0?t[n].__swiper__?e[n]=t[n]:Hi(e[n],t[n]):e[n]=t[n]})}function jd(e){return e===void 0&&(e={}),e.navigation&&typeof e.navigation.nextEl>"u"&&typeof e.navigation.prevEl>"u"}function Dd(e){return e===void 0&&(e={}),e.pagination&&typeof e.pagination.el>"u"}function Nd(e){return e===void 0&&(e={}),e.scrollbar&&typeof e.scrollbar.el>"u"}function Bd(e){e===void 0&&(e="");const t=e.split(" ").map(n=>n.trim()).filter(n=>!!n),i=[];return t.forEach(n=>{i.indexOf(n)<0&&i.push(n)}),i.join(" ")}function V_(e){return e===void 0&&(e=""),e?e.includes("swiper-wrapper")?e:`swiper-wrapper ${e}`:"swiper-wrapper"}function q_(e){let{swiper:t,slides:i,passedParams:n,changedParams:r,nextEl:s,prevEl:o,scrollbarEl:l,paginationEl:a}=e;const c=r.filter(R=>R!=="children"&&R!=="direction"&&R!=="wrapperClass"),{params:u,pagination:d,navigation:h,scrollbar:f,virtual:p,thumbs:m}=t;let w,b,_,x,S,P,V,te;r.includes("thumbs")&&n.thumbs&&n.thumbs.swiper&&u.thumbs&&!u.thumbs.swiper&&(w=!0),r.includes("controller")&&n.controller&&n.controller.control&&u.controller&&!u.controller.control&&(b=!0),r.includes("pagination")&&n.pagination&&(n.pagination.el||a)&&(u.pagination||u.pagination===!1)&&d&&!d.el&&(_=!0),r.includes("scrollbar")&&n.scrollbar&&(n.scrollbar.el||l)&&(u.scrollbar||u.scrollbar===!1)&&f&&!f.el&&(x=!0),r.includes("navigation")&&n.navigation&&(n.navigation.prevEl||o)&&(n.navigation.nextEl||s)&&(u.navigation||u.navigation===!1)&&h&&!h.prevEl&&!h.nextEl&&(S=!0);const z=R=>{t[R]&&(t[R].destroy(),R==="navigation"?(t.isElement&&(t[R].prevEl.remove(),t[R].nextEl.remove()),u[R].prevEl=void 0,u[R].nextEl=void 0,t[R].prevEl=void 0,t[R].nextEl=void 0):(t.isElement&&t[R].el.remove(),u[R].el=void 0,t[R].el=void 0))};r.includes("loop")&&t.isElement&&(u.loop&&!n.loop?P=!0:!u.loop&&n.loop?V=!0:te=!0),c.forEach(R=>{if(xi(u[R])&&xi(n[R]))Object.assign(u[R],n[R]),(R==="navigation"||R==="pagination"||R==="scrollbar")&&"enabled"in n[R]&&!n[R].enabled&&z(R);else{const M=n[R];(M===!0||M===!1)&&(R==="navigation"||R==="pagination"||R==="scrollbar")?M===!1&&z(R):u[R]=n[R]}}),c.includes("controller")&&!b&&t.controller&&t.controller.control&&u.controller&&u.controller.control&&(t.controller.control=u.controller.control),r.includes("children")&&i&&p&&u.virtual.enabled?(p.slides=i,p.update(!0)):r.includes("virtual")&&p&&u.virtual.enabled&&(i&&(p.slides=i),p.update(!0)),r.includes("children")&&i&&u.loop&&(te=!0),w&&m.init()&&m.update(!0),b&&(t.controller.control=u.controller.control),_&&(t.isElement&&(!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-pagination"),a.part.add("pagination"),t.el.appendChild(a)),a&&(u.pagination.el=a),d.init(),d.render(),d.update()),x&&(t.isElement&&(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-scrollbar"),l.part.add("scrollbar"),t.el.appendChild(l)),l&&(u.scrollbar.el=l),f.init(),f.updateSize(),f.setTranslate()),S&&(t.isElement&&((!s||typeof s=="string")&&(s=document.createElement("div"),s.classList.add("swiper-button-next"),s.innerHTML=t.hostEl.constructor.nextButtonSvg,s.part.add("button-next"),t.el.appendChild(s)),(!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-prev"),o.innerHTML=t.hostEl.constructor.prevButtonSvg,o.part.add("button-prev"),t.el.appendChild(o))),s&&(u.navigation.nextEl=s),o&&(u.navigation.prevEl=o),h.init(),h.update()),r.includes("allowSlideNext")&&(t.allowSlideNext=n.allowSlideNext),r.includes("allowSlidePrev")&&(t.allowSlidePrev=n.allowSlidePrev),r.includes("direction")&&t.changeDirection(n.direction,!1),(P||te)&&t.loopDestroy(),(V||te)&&t.loopCreate(),t.update()}function fc(e,t){e===void 0&&(e={}),t===void 0&&(t=!0);const i={on:{}},n={},r={};Hi(i,Ro),i._emitClasses=!0,i.init=!1;const s={},o=Ld.map(a=>a.replace(/_/,"")),l=Object.assign({},e);return Object.keys(l).forEach(a=>{typeof e[a]>"u"||(o.indexOf(a)>=0?xi(e[a])?(i[a]={},r[a]={},Hi(i[a],e[a]),Hi(r[a],e[a])):(i[a]=e[a],r[a]=e[a]):a.search(/on[A-Z]/)===0&&typeof e[a]=="function"?t?n[`${a[2].toLowerCase()}${a.substr(3)}`]=e[a]:i.on[`${a[2].toLowerCase()}${a.substr(3)}`]=e[a]:s[a]=e[a])}),["navigation","pagination","scrollbar"].forEach(a=>{i[a]===!0&&(i[a]={}),i[a]===!1&&delete i[a]}),{params:i,passedParams:r,rest:s,events:n}}function G_(e,t){let{el:i,nextEl:n,prevEl:r,paginationEl:s,scrollbarEl:o,swiper:l}=e;jd(t)&&n&&r&&(l.params.navigation.nextEl=n,l.originalParams.navigation.nextEl=n,l.params.navigation.prevEl=r,l.originalParams.navigation.prevEl=r),Dd(t)&&s&&(l.params.pagination.el=s,l.originalParams.pagination.el=s),Nd(t)&&o&&(l.params.scrollbar.el=o,l.originalParams.scrollbar.el=o),l.init(i)}function K_(e,t,i,n,r){const s=[];if(!t)return s;const o=a=>{s.indexOf(a)<0&&s.push(a)};if(i&&n){const a=n.map(r),c=i.map(r);a.join("")!==c.join("")&&o("children"),n.length!==i.length&&o("children")}return Ld.filter(a=>a[0]==="_").map(a=>a.replace(/_/,"")).forEach(a=>{if(a in e&&a in t)if(xi(e[a])&&xi(t[a])){const c=Object.keys(e[a]),u=Object.keys(t[a]);c.length!==u.length?o(a):(c.forEach(d=>{e[a][d]!==t[a][d]&&o(a)}),u.forEach(d=>{e[a][d]!==t[a][d]&&o(a)}))}else e[a]!==t[a]&&o(a)}),s}const J_=e=>{!e||e.destroyed||!e.params.virtual||e.params.virtual&&!e.params.virtual.enabled||(e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.parallax&&e.params.parallax&&e.params.parallax.enabled&&e.parallax.setTranslate())};function Hr(e,t,i){e===void 0&&(e={});const n=[],r={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]},s=(o,l)=>{Array.isArray(o)&&o.forEach(a=>{const c=typeof a.type=="symbol";l==="default"&&(l="container-end"),c&&a.children?s(a.children,l):a.type&&(a.type.name==="SwiperSlide"||a.type.name==="AsyncComponentWrapper")||a.componentOptions&&a.componentOptions.tag==="SwiperSlide"?n.push(a):r[l]&&r[l].push(a)})};return Object.keys(e).forEach(o=>{if(typeof e[o]!="function")return;const l=e[o]();s(l,o)}),i.value=t.value,t.value=n,{slides:n,slots:r}}function Y_(e,t,i){if(!i)return null;const n=u=>{let d=u;return u<0?d=t.length+u:d>=t.length&&(d=d-t.length),d},r=e.value.isHorizontal()?{[e.value.rtlTranslate?"right":"left"]:`${i.offset}px`}:{top:`${i.offset}px`},{from:s,to:o}=i,l=e.value.params.loop?-t.length:0,a=e.value.params.loop?t.length*2:t.length,c=[];for(let u=l;u<a;u+=1)u>=s&&u<=o&&c.push(t[n(u)]);return c.map(u=>{if(u.props||(u.props={}),u.props.style||(u.props.style={}),u.props.swiperRef=e,u.props.style=r,u.type)return Ye(u.type,{...u.props},u.children);if(u.componentOptions)return Ye(u.componentOptions.Ctor,{...u.props},u.componentOptions.children)})}const X_={name:"Swiper",props:{tag:{type:String,default:"div"},wrapperTag:{type:String,default:"div"},modules:{type:Array,default:void 0},init:{type:Boolean,default:void 0},direction:{type:String,default:void 0},oneWayMovement:{type:Boolean,default:void 0},swiperElementNodeName:{type:String,default:"SWIPER-CONTAINER"},touchEventsTarget:{type:String,default:void 0},initialSlide:{type:Number,default:void 0},speed:{type:Number,default:void 0},cssMode:{type:Boolean,default:void 0},updateOnWindowResize:{type:Boolean,default:void 0},resizeObserver:{type:Boolean,default:void 0},nested:{type:Boolean,default:void 0},focusableElements:{type:String,default:void 0},width:{type:Number,default:void 0},height:{type:Number,default:void 0},preventInteractionOnTransition:{type:Boolean,default:void 0},userAgent:{type:String,default:void 0},url:{type:String,default:void 0},edgeSwipeDetection:{type:[Boolean,String],default:void 0},edgeSwipeThreshold:{type:Number,default:void 0},autoHeight:{type:Boolean,default:void 0},setWrapperSize:{type:Boolean,default:void 0},virtualTranslate:{type:Boolean,default:void 0},effect:{type:String,default:void 0},breakpoints:{type:Object,default:void 0},spaceBetween:{type:[Number,String],default:void 0},slidesPerView:{type:[Number,String],default:void 0},maxBackfaceHiddenSlides:{type:Number,default:void 0},slidesPerGroup:{type:Number,default:void 0},slidesPerGroupSkip:{type:Number,default:void 0},slidesPerGroupAuto:{type:Boolean,default:void 0},centeredSlides:{type:Boolean,default:void 0},centeredSlidesBounds:{type:Boolean,default:void 0},slidesOffsetBefore:{type:Number,default:void 0},slidesOffsetAfter:{type:Number,default:void 0},normalizeSlideIndex:{type:Boolean,default:void 0},centerInsufficientSlides:{type:Boolean,default:void 0},watchOverflow:{type:Boolean,default:void 0},roundLengths:{type:Boolean,default:void 0},touchRatio:{type:Number,default:void 0},touchAngle:{type:Number,default:void 0},simulateTouch:{type:Boolean,default:void 0},shortSwipes:{type:Boolean,default:void 0},longSwipes:{type:Boolean,default:void 0},longSwipesRatio:{type:Number,default:void 0},longSwipesMs:{type:Number,default:void 0},followFinger:{type:Boolean,default:void 0},allowTouchMove:{type:Boolean,default:void 0},threshold:{type:Number,default:void 0},touchMoveStopPropagation:{type:Boolean,default:void 0},touchStartPreventDefault:{type:Boolean,default:void 0},touchStartForcePreventDefault:{type:Boolean,default:void 0},touchReleaseOnEdges:{type:Boolean,default:void 0},uniqueNavElements:{type:Boolean,default:void 0},resistance:{type:Boolean,default:void 0},resistanceRatio:{type:Number,default:void 0},watchSlidesProgress:{type:Boolean,default:void 0},grabCursor:{type:Boolean,default:void 0},preventClicks:{type:Boolean,default:void 0},preventClicksPropagation:{type:Boolean,default:void 0},slideToClickedSlide:{type:Boolean,default:void 0},loop:{type:Boolean,default:void 0},loopedSlides:{type:Number,default:void 0},loopPreventsSliding:{type:Boolean,default:void 0},rewind:{type:Boolean,default:void 0},allowSlidePrev:{type:Boolean,default:void 0},allowSlideNext:{type:Boolean,default:void 0},swipeHandler:{type:Boolean,default:void 0},noSwiping:{type:Boolean,default:void 0},noSwipingClass:{type:String,default:void 0},noSwipingSelector:{type:String,default:void 0},passiveListeners:{type:Boolean,default:void 0},containerModifierClass:{type:String,default:void 0},slideClass:{type:String,default:void 0},slideActiveClass:{type:String,default:void 0},slideVisibleClass:{type:String,default:void 0},slideFullyVisibleClass:{type:String,default:void 0},slideBlankClass:{type:String,default:void 0},slideNextClass:{type:String,default:void 0},slidePrevClass:{type:String,default:void 0},wrapperClass:{type:String,default:void 0},lazyPreloaderClass:{type:String,default:void 0},lazyPreloadPrevNext:{type:Number,default:void 0},runCallbacksOnInit:{type:Boolean,default:void 0},observer:{type:Boolean,default:void 0},observeParents:{type:Boolean,default:void 0},observeSlideChildren:{type:Boolean,default:void 0},a11y:{type:[Boolean,Object],default:void 0},autoplay:{type:[Boolean,Object],default:void 0},controller:{type:Object,default:void 0},coverflowEffect:{type:Object,default:void 0},cubeEffect:{type:Object,default:void 0},fadeEffect:{type:Object,default:void 0},flipEffect:{type:Object,default:void 0},creativeEffect:{type:Object,default:void 0},cardsEffect:{type:Object,default:void 0},hashNavigation:{type:[Boolean,Object],default:void 0},history:{type:[Boolean,Object],default:void 0},keyboard:{type:[Boolean,Object],default:void 0},mousewheel:{type:[Boolean,Object],default:void 0},navigation:{type:[Boolean,Object],default:void 0},pagination:{type:[Boolean,Object],default:void 0},parallax:{type:[Boolean,Object],default:void 0},scrollbar:{type:[Boolean,Object],default:void 0},thumbs:{type:Object,default:void 0},virtual:{type:[Boolean,Object],default:void 0},zoom:{type:[Boolean,Object],default:void 0},grid:{type:[Object],default:void 0},freeMode:{type:[Boolean,Object],default:void 0},enabled:{type:Boolean,default:void 0}},emits:["_beforeBreakpoint","_containerClasses","_slideClass","_slideClasses","_swiper","_freeModeNoMomentumRelease","activeIndexChange","afterInit","autoplay","autoplayStart","autoplayStop","autoplayPause","autoplayResume","autoplayTimeLeft","beforeDestroy","beforeInit","beforeLoopFix","beforeResize","beforeSlideChangeStart","beforeTransitionStart","breakpoint","breakpointsBase","changeDirection","click","disable","doubleTap","doubleClick","destroy","enable","fromEdge","hashChange","hashSet","init","keyPress","lock","loopFix","momentumBounce","navigationHide","navigationShow","navigationPrev","navigationNext","observerUpdate","orientationchange","paginationHide","paginationRender","paginationShow","paginationUpdate","progress","reachBeginning","reachEnd","realIndexChange","resize","scroll","scrollbarDragEnd","scrollbarDragMove","scrollbarDragStart","setTransition","setTranslate","slidesUpdated","slideChange","slideChangeTransitionEnd","slideChangeTransitionStart","slideNextTransitionEnd","slideNextTransitionStart","slidePrevTransitionEnd","slidePrevTransitionStart","slideResetTransitionStart","slideResetTransitionEnd","sliderMove","sliderFirstMove","slidesLengthChange","slidesGridLengthChange","snapGridLengthChange","snapIndexChange","swiper","tap","toEdge","touchEnd","touchMove","touchMoveOpposite","touchStart","transitionEnd","transitionStart","unlock","update","virtualUpdate","zoomChange"],setup(e,t){let{slots:i,emit:n}=t;const{tag:r,wrapperTag:s}=e,o=se("swiper"),l=se(null),a=se(!1),c=se(!1),u=se(null),d=se(null),h=se(null),f={value:[]},p={value:[]},m=se(null),w=se(null),b=se(null),_=se(null),{params:x,passedParams:S}=fc(e,!1);Hr(i,f,p),h.value=S,p.value=f.value;const P=()=>{Hr(i,f,p),a.value=!0};x.onAny=function(z){for(var R=arguments.length,M=new Array(R>1?R-1:0),B=1;B<R;B++)M[B-1]=arguments[B];n(z,...M)},Object.assign(x.on,{_beforeBreakpoint:P,_containerClasses(z,R){o.value=R}});const V={...x};if(delete V.wrapperClass,d.value=new va(V),d.value.virtual&&d.value.params.virtual.enabled){d.value.virtual.slides=f.value;const z={cache:!1,slides:f.value,renderExternal:R=>{l.value=R},renderExternalUpdate:!1};Hi(d.value.params.virtual,z),Hi(d.value.originalParams.virtual,z)}Uo(()=>{!c.value&&d.value&&(d.value.emitSlidesClasses(),c.value=!0);const{passedParams:z}=fc(e,!1),R=K_(z,h.value,f.value,p.value,M=>M.props&&M.props.key);h.value=z,(R.length||a.value)&&d.value&&!d.value.destroyed&&q_({swiper:d.value,slides:f.value,passedParams:z,changedParams:R,nextEl:m.value,prevEl:w.value,scrollbarEl:_.value,paginationEl:b.value}),a.value=!1}),Ui("swiper",d),bt(l,()=>{Ns(()=>{J_(d.value)})}),li(()=>{u.value&&(G_({el:u.value,nextEl:m.value,prevEl:w.value,paginationEl:b.value,scrollbarEl:_.value,swiper:d.value},x),n("swiper",d.value))}),Un(()=>{d.value&&!d.value.destroyed&&d.value.destroy(!0,!1)});function te(z){return x.virtual?Y_(d,z,l.value):(z.forEach((R,M)=>{R.props||(R.props={}),R.props.swiperRef=d,R.props.swiperSlideIndex=M}),z)}return()=>{const{slides:z,slots:R}=Hr(i,f,p);return Ye(r,{ref:u,class:Bd(o.value)},[R["container-start"],Ye(s,{class:V_(x.wrapperClass)},[R["wrapper-start"],te(z),R["wrapper-end"]]),jd(e)&&[Ye("div",{ref:w,class:"swiper-button-prev"}),Ye("div",{ref:m,class:"swiper-button-next"})],Nd(e)&&Ye("div",{ref:_,class:"swiper-scrollbar"}),Dd(e)&&Ye("div",{ref:b,class:"swiper-pagination"}),R["container-end"]])}}},pc={name:"SwiperSlide",props:{tag:{type:String,default:"div"},swiperRef:{type:Object,required:!1},swiperSlideIndex:{type:Number,default:void 0,required:!1},zoom:{type:Boolean,default:void 0,required:!1},lazy:{type:Boolean,default:!1,required:!1},virtualIndex:{type:[String,Number],default:void 0}},setup(e,t){let{slots:i}=t,n=!1;const{swiperRef:r}=e,s=se(null),o=se("swiper-slide"),l=se(!1);function a(d,h,f){h===s.value&&(o.value=f)}li(()=>{!r||!r.value||(r.value.on("_slideClass",a),n=!0)}),Xc(()=>{n||!r||!r.value||(r.value.on("_slideClass",a),n=!0)}),Uo(()=>{!s.value||!r||!r.value||(typeof e.swiperSlideIndex<"u"&&(s.value.swiperSlideIndex=e.swiperSlideIndex),r.value.destroyed&&o.value!=="swiper-slide"&&(o.value="swiper-slide"))}),Un(()=>{!r||!r.value||r.value.off("_slideClass",a)});const c=Ce(()=>({isActive:o.value.indexOf("swiper-slide-active")>=0,isVisible:o.value.indexOf("swiper-slide-visible")>=0,isPrev:o.value.indexOf("swiper-slide-prev")>=0,isNext:o.value.indexOf("swiper-slide-next")>=0}));Ui("swiperSlide",c);const u=()=>{l.value=!0};return()=>Ye(e.tag,{class:Bd(`${o.value}`),ref:s,"data-swiper-slide-index":typeof e.virtualIndex>"u"&&r&&r.value&&r.value.params.loop?e.swiperSlideIndex:e.virtualIndex,onLoadCapture:u},e.zoom?Ye("div",{class:"swiper-zoom-container","data-swiper-zoom":typeof e.zoom=="number"?e.zoom:void 0},[i.default&&i.default(c.value),e.lazy&&!l.value&&Ye("div",{class:"swiper-lazy-preloader"})]):[i.default&&i.default(c.value),e.lazy&&!l.value&&Ye("div",{class:"swiper-lazy-preloader"})])}};const Z_={class:"flex flex-col gap-5"},Q_=C("span",{class:"text-white text-[18px]"},"История просмотра",-1),eS=["onClick"],tS=["src"],iS={class:"absolute bottom-0 left-0 flex flex-col bg-white w-[100%]"},nS={class:"relative flex"},sS=C("span",{class:"w-full flex h-[5px] bg-slate-300"},null,-1),rS={class:"px-2"},oS={class:"text-[18px] w-full whitespace-nowrap text-ellipsis overflow-hidden"},aS={class:"flex flex-col gap-3"},lS={key:0,class:"gap-2 flex flex-col"},cS=["onClick"],uS={class:"flex flex-row justify-between w-full gap-2 overflow-hidden"},dS=["src"],hS={class:"flex flex-col w-full justify-between gap-5"},fS={class:"max-w-[200px] whitespace-nowrap text-ellipsis overflow-hidden"},pS={key:1,class:"flex justify-center items-center w-full h-full"},mS=C("img",{src:"https://dreamerscast.com/img/chibi.webp",alt:""},null,-1),gS=[mS],vS=Ae({__name:"Swiper",props:{history:{},labelStatus:{},list:{}},emits:["pushing"],setup(e,{emit:t}){const i=e,n=t,r=(o,l)=>{n("pushing",{id:o,episode:l})},s=o=>i.list.filter(l=>l.status===o);return(o,l)=>(j(),oe(q(X_),{"slides-per-view":1,"space-between":0,pagination:{clickable:!0},"grab-cursor":!0,autoHeight:!0,loop:!0,class:"w-full h-full overflow-hidden"},{default:ge(()=>[k(q(pc),null,{default:ge(()=>[C("div",Z_,[Q_,(j(!0),ee(Oe,null,Ot(i.history,a=>(j(),ee("div",{key:a,class:"relative cursor-pointer flex gap-5 rounded-[10px] overflow-hidden",onClick:c=>r(a.animeId,a.episode)},[C("img",{src:a.img===null?q(Od):a.img,alt:"",class:"w-[100%]"},null,8,tS),C("div",iS,[C("div",nS,[sS,C("span",{class:"h-[5px] bg-red-500 absolute top-0 left-0",style:Ls(`width: ${a.current_Time/a.duration_Time*100}%`)},null,4)]),C("div",rS,[C("h1",oS,Se(a.nameAnime),1),C("h3",null,"Серия: "+Se(a.episode),1)])])],8,eS))),128))])]),_:1}),(j(!0),ee(Oe,null,Ot(i.labelStatus,a=>(j(),oe(q(pc),{class:"text-white text-[18px] flex gap-5 cursor-pointer",key:a},{default:ge(()=>[C("div",aS,[C("span",null,Se(a),1),i.list&&s(a).length>0?(j(),ee("div",lS,[(j(!0),ee(Oe,null,Ot(s(a),c=>(j(),ee("div",{key:c,onClick:u=>r(c.animeId,1)},[C("div",uS,[C("img",{src:c.img,class:"max-w-[100px] rounded-[10px]"},null,8,dS),C("div",hS,[C("span",fS,Se(c.nameAnime),1),C("span",null,Se(c.status),1)])])],8,cS))),128))])):(j(),ee("div",pS,gS))])]),_:2},1024))),128))]),_:1}))}}),wS={class:"flex flex-col w-[100%] justify-center items-center mt-3"},bS={class:"flex flex-col gap-5 mt-10 w-[80%] sm:w-[60%]"},yS={key:0},_S={class:"flex flex-row gap-3 text-white flex-wrap text-[18px]"},SS=Ae({__name:"ProfileView",setup(e){const t=Xs(),i=Mu(),n=Ti(),r=se(null),s=se(null),o=async()=>{await ke.from("users").update({avatar_url:null}).match({id:i.params.id})},l=async()=>{const{data:p}=await ke.from("animeUserList").select().eq("userId",i.params.id);r.value=p},a=async()=>{const{data:p}=await ke.from("animeStatusList").select().eq("userId",i.params.id);s.value=p};let c;const u=async()=>{if(!n.user||n.user.id.toString()!==i.params.id){c=setTimeout(async()=>{t.push("/")},3e3);return}await l(),await a()};li(async()=>{await u()}),bt(()=>n.user,async()=>{clearTimeout(c),await u()});const d=Ce(()=>{var p;return(p=r.value)==null?void 0:p.filter(m=>m.updated!==null).sort((m,w)=>new Date(w.updated)-new Date(m.updated))}),h=["Смотрю","Просмотрено","Запланировано","Пересматриваю","Выходит","Заброшено"],f=Ce(()=>{var p;return(p=s.value)!=null&&p.length?s.value.reduce((m,w)=>m[w.status]?{...m,[w.status]:m[w.status]+1}:{...m,[w.status]:1},{}):{}});return(p,m)=>{var w,b,_,x;return j(),ee("div",wS,[k(T0,{user:((b=(w=q(n))==null?void 0:w.user)==null?void 0:b.id)===Number(q(i).params.id)?q(n).user:null,onLoadAvatar:m[0]||(m[0]=S=>q(n).modal=S),onDeleteAvatar:m[1]||(m[1]=S=>o()),statusAnime:null},null,8,["user"]),C("div",bS,[(_=q(n))!=null&&_.user?(j(),ee("div",yS,[C("ol",_S,[C("li",null,"История - "+Se((x=d.value)==null?void 0:x.length),1),(j(),ee(Oe,null,Ot(h,S=>C("li",{key:S},Se(S)+" - "+Se(f.value[S]||0),1)),64))])])):De("",!0),k(vS,{history:d.value,labelStatus:h,list:s.value,onPushing:m[2]||(m[2]=S=>q(t).push({name:"anime",params:{id:S.id,episode:S.episode}}))},null,8,["history","list"])])])}}}),xS=mm({history:$p("/"),routes:[{path:"/",name:"home",component:my},{path:"/anime/:id/:episode",name:"anime",component:p0},{path:"/:pathMatch(.*)*",name:"NoFound",component:y0},{path:"/lk/:id",name:"lk",component:SS}]}),wa=rp(ry);wa.use(lp());wa.use(xS);wa.mount("#app");export{Oe as F,qn as _,C as a,Ot as b,ee as c,Ae as d,De as e,k as f,yi as g,Ce as h,ip as i,oe as j,Ke as k,bt as l,Od as m,Ls as n,j as o,li as p,Zc as q,se as r,ke as s,Se as t,q as u,ES as v,Bo as w,Yo as x};
