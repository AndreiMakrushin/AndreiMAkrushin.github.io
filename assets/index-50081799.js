function Su(e,t){for(var n=0;n<t.length;n++){const i=t[n];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in e)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(e,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function Wr(e,t){const n=Object.create(null),i=e.split(",");for(let r=0;r<i.length;r++)n[i[r]]=!0;return t?r=>!!n[r.toLowerCase()]:r=>!!n[r]}const me={},Sn=[],rt=()=>{},Au=()=>!1,Ou=/^on[^a-z]/,cs=e=>Ou.test(e),qr=e=>e.startsWith("onUpdate:"),$e=Object.assign,Kr=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Tu=Object.prototype.hasOwnProperty,Q=(e,t)=>Tu.call(e,t),B=Array.isArray,An=e=>us(e)==="[object Map]",pc=e=>us(e)==="[object Set]",W=e=>typeof e=="function",_e=e=>typeof e=="string",ls=e=>typeof e=="symbol",ge=e=>e!==null&&typeof e=="object",mc=e=>(ge(e)||W(e))&&W(e.then)&&W(e.catch),gc=Object.prototype.toString,us=e=>gc.call(e),Cu=e=>us(e).slice(8,-1),vc=e=>us(e)==="[object Object]",Vr=e=>_e(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,qi=Wr(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),hs=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},Pu=/-(\w)/g,bt=hs(e=>e.replace(Pu,(t,n)=>n?n.toUpperCase():"")),ku=/\B([A-Z])/g,Dn=hs(e=>e.replace(ku,"-$1").toLowerCase()),fs=hs(e=>e.charAt(0).toUpperCase()+e.slice(1)),zs=hs(e=>e?`on${fs(e)}`:""),hn=(e,t)=>!Object.is(e,t),Ls=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},Zi=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},$u=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Mo;const ur=()=>Mo||(Mo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Jr(e){if(B(e)){const t={};for(let n=0;n<e.length;n++){const i=e[n],r=_e(i)?zu(i):Jr(i);if(r)for(const s in r)t[s]=r[s]}return t}else if(_e(e)||ge(e))return e}const ju=/;(?![^(]*\))/g,Iu=/:([^]+)/,Mu=/\/\*[^]*?\*\//g;function zu(e){const t={};return e.replace(Mu,"").split(ju).forEach(n=>{if(n){const i=n.split(Iu);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function wt(e){let t="";if(_e(e))t=e;else if(B(e))for(let n=0;n<e.length;n++){const i=wt(e[n]);i&&(t+=i+" ")}else if(ge(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const Lu="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Du=Wr(Lu);function bc(e){return!!e||e===""}const Tt=e=>_e(e)?e:e==null?"":B(e)||ge(e)&&(e.toString===gc||!W(e.toString))?JSON.stringify(e,wc,2):String(e),wc=(e,t)=>t&&t.__v_isRef?wc(e,t.value):An(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[i,r])=>(n[`${i} =>`]=r,n),{})}:pc(t)?{[`Set(${t.size})`]:[...t.values()]}:ge(t)&&!B(t)&&!vc(t)?String(t):t;let Ke;class yc{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Ke,!t&&Ke&&(this.index=(Ke.scopes||(Ke.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=Ke;try{return Ke=this,t()}finally{Ke=n}}}on(){Ke=this}off(){Ke=this.parent}stop(t){if(this._active){let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.scopes)for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0,this._active=!1}}}function _c(e){return new yc(e)}function Uu(e,t=Ke){t&&t.active&&t.effects.push(e)}function Ec(){return Ke}function Nu(e){Ke&&Ke.cleanups.push(e)}const Xr=e=>{const t=new Set(e);return t.w=0,t.n=0,t},Rc=e=>(e.w&Xt)>0,xc=e=>(e.n&Xt)>0,Fu=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=Xt},Bu=e=>{const{deps:t}=e;if(t.length){let n=0;for(let i=0;i<t.length;i++){const r=t[i];Rc(r)&&!xc(r)?r.delete(e):t[n++]=r,r.w&=~Xt,r.n&=~Xt}t.length=n}},es=new WeakMap;let Qn=0,Xt=1;const hr=30;let it;const cn=Symbol(""),fr=Symbol("");class Yr{constructor(t,n=null,i){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,Uu(this,i)}run(){if(!this.active)return this.fn();let t=it,n=qt;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=it,it=this,qt=!0,Xt=1<<++Qn,Qn<=hr?Fu(this):zo(this),this.fn()}finally{Qn<=hr&&Bu(this),Xt=1<<--Qn,it=this.parent,qt=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){it===this?this.deferStop=!0:this.active&&(zo(this),this.onStop&&this.onStop(),this.active=!1)}}function zo(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let qt=!0;const Sc=[];function Un(){Sc.push(qt),qt=!1}function Nn(){const e=Sc.pop();qt=e===void 0?!0:e}function Be(e,t,n){if(qt&&it){let i=es.get(e);i||es.set(e,i=new Map);let r=i.get(n);r||i.set(n,r=Xr()),Ac(r)}}function Ac(e,t){let n=!1;Qn<=hr?xc(e)||(e.n|=Xt,n=!Rc(e)):n=!e.has(it),n&&(e.add(it),it.deps.push(e))}function Ct(e,t,n,i,r,s){const o=es.get(e);if(!o)return;let c=[];if(t==="clear")c=[...o.values()];else if(n==="length"&&B(e)){const a=Number(i);o.forEach((l,u)=>{(u==="length"||!ls(u)&&u>=a)&&c.push(l)})}else switch(n!==void 0&&c.push(o.get(n)),t){case"add":B(e)?Vr(n)&&c.push(o.get("length")):(c.push(o.get(cn)),An(e)&&c.push(o.get(fr)));break;case"delete":B(e)||(c.push(o.get(cn)),An(e)&&c.push(o.get(fr)));break;case"set":An(e)&&c.push(o.get(cn));break}if(c.length===1)c[0]&&dr(c[0]);else{const a=[];for(const l of c)l&&a.push(...l);dr(Xr(a))}}function dr(e,t){const n=B(e)?e:[...e];for(const i of n)i.computed&&Lo(i);for(const i of n)i.computed||Lo(i)}function Lo(e,t){(e!==it||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}function Hu(e,t){var n;return(n=es.get(e))==null?void 0:n.get(t)}const Wu=Wr("__proto__,__v_isRef,__isVue"),Oc=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(ls)),Do=qu();function qu(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const i=ee(this);for(let s=0,o=this.length;s<o;s++)Be(i,"get",s+"");const r=i[t](...n);return r===-1||r===!1?i[t](...n.map(ee)):r}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){Un();const i=ee(this)[t].apply(this,n);return Nn(),i}}),e}function Ku(e){const t=ee(this);return Be(t,"has",e),t.hasOwnProperty(e)}class Tc{constructor(t=!1,n=!1){this._isReadonly=t,this._shallow=n}get(t,n,i){const r=this._isReadonly,s=this._shallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return s;if(n==="__v_raw"&&i===(r?s?rh:$c:s?kc:Pc).get(t))return t;const o=B(t);if(!r){if(o&&Q(Do,n))return Reflect.get(Do,n,i);if(n==="hasOwnProperty")return Ku}const c=Reflect.get(t,n,i);return(ls(n)?Oc.has(n):Wu(n))||(r||Be(t,"get",n),s)?c:ye(c)?o&&Vr(n)?c:c.value:ge(c)?r?Ic(c):Fn(c):c}}class Cc extends Tc{constructor(t=!1){super(!1,t)}set(t,n,i,r){let s=t[n];if(Tn(s)&&ye(s)&&!ye(i))return!1;if(!this._shallow&&(!ts(i)&&!Tn(i)&&(s=ee(s),i=ee(i)),!B(t)&&ye(s)&&!ye(i)))return s.value=i,!0;const o=B(t)&&Vr(n)?Number(n)<t.length:Q(t,n),c=Reflect.set(t,n,i,r);return t===ee(r)&&(o?hn(i,s)&&Ct(t,"set",n,i):Ct(t,"add",n,i)),c}deleteProperty(t,n){const i=Q(t,n);t[n];const r=Reflect.deleteProperty(t,n);return r&&i&&Ct(t,"delete",n,void 0),r}has(t,n){const i=Reflect.has(t,n);return(!ls(n)||!Oc.has(n))&&Be(t,"has",n),i}ownKeys(t){return Be(t,"iterate",B(t)?"length":cn),Reflect.ownKeys(t)}}class Vu extends Tc{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const Ju=new Cc,Xu=new Vu,Yu=new Cc(!0),Gr=e=>e,ds=e=>Reflect.getPrototypeOf(e);function Pi(e,t,n=!1,i=!1){e=e.__v_raw;const r=ee(e),s=ee(t);n||(hn(t,s)&&Be(r,"get",t),Be(r,"get",s));const{has:o}=ds(r),c=i?Gr:n?eo:di;if(o.call(r,t))return c(e.get(t));if(o.call(r,s))return c(e.get(s));e!==r&&e.get(t)}function ki(e,t=!1){const n=this.__v_raw,i=ee(n),r=ee(e);return t||(hn(e,r)&&Be(i,"has",e),Be(i,"has",r)),e===r?n.has(e):n.has(e)||n.has(r)}function $i(e,t=!1){return e=e.__v_raw,!t&&Be(ee(e),"iterate",cn),Reflect.get(e,"size",e)}function Uo(e){e=ee(e);const t=ee(this);return ds(t).has.call(t,e)||(t.add(e),Ct(t,"add",e,e)),this}function No(e,t){t=ee(t);const n=ee(this),{has:i,get:r}=ds(n);let s=i.call(n,e);s||(e=ee(e),s=i.call(n,e));const o=r.call(n,e);return n.set(e,t),s?hn(t,o)&&Ct(n,"set",e,t):Ct(n,"add",e,t),this}function Fo(e){const t=ee(this),{has:n,get:i}=ds(t);let r=n.call(t,e);r||(e=ee(e),r=n.call(t,e)),i&&i.call(t,e);const s=t.delete(e);return r&&Ct(t,"delete",e,void 0),s}function Bo(){const e=ee(this),t=e.size!==0,n=e.clear();return t&&Ct(e,"clear",void 0,void 0),n}function ji(e,t){return function(i,r){const s=this,o=s.__v_raw,c=ee(o),a=t?Gr:e?eo:di;return!e&&Be(c,"iterate",cn),o.forEach((l,u)=>i.call(r,a(l),a(u),s))}}function Ii(e,t,n){return function(...i){const r=this.__v_raw,s=ee(r),o=An(s),c=e==="entries"||e===Symbol.iterator&&o,a=e==="keys"&&o,l=r[e](...i),u=n?Gr:t?eo:di;return!t&&Be(s,"iterate",a?fr:cn),{next(){const{value:h,done:f}=l.next();return f?{value:h,done:f}:{value:c?[u(h[0]),u(h[1])]:u(h),done:f}},[Symbol.iterator](){return this}}}}function Mt(e){return function(...t){return e==="delete"?!1:this}}function Gu(){const e={get(s){return Pi(this,s)},get size(){return $i(this)},has:ki,add:Uo,set:No,delete:Fo,clear:Bo,forEach:ji(!1,!1)},t={get(s){return Pi(this,s,!1,!0)},get size(){return $i(this)},has:ki,add:Uo,set:No,delete:Fo,clear:Bo,forEach:ji(!1,!0)},n={get(s){return Pi(this,s,!0)},get size(){return $i(this,!0)},has(s){return ki.call(this,s,!0)},add:Mt("add"),set:Mt("set"),delete:Mt("delete"),clear:Mt("clear"),forEach:ji(!0,!1)},i={get(s){return Pi(this,s,!0,!0)},get size(){return $i(this,!0)},has(s){return ki.call(this,s,!0)},add:Mt("add"),set:Mt("set"),delete:Mt("delete"),clear:Mt("clear"),forEach:ji(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{e[s]=Ii(s,!1,!1),n[s]=Ii(s,!0,!1),t[s]=Ii(s,!1,!0),i[s]=Ii(s,!0,!0)}),[e,n,t,i]}const[Qu,Zu,eh,th]=Gu();function Qr(e,t){const n=t?e?th:eh:e?Zu:Qu;return(i,r,s)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?i:Reflect.get(Q(n,r)&&r in i?n:i,r,s)}const nh={get:Qr(!1,!1)},ih={get:Qr(!1,!0)},sh={get:Qr(!0,!1)},Pc=new WeakMap,kc=new WeakMap,$c=new WeakMap,rh=new WeakMap;function oh(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function ah(e){return e.__v_skip||!Object.isExtensible(e)?0:oh(Cu(e))}function Fn(e){return Tn(e)?e:Zr(e,!1,Ju,nh,Pc)}function jc(e){return Zr(e,!1,Yu,ih,kc)}function Ic(e){return Zr(e,!0,Xu,sh,$c)}function Zr(e,t,n,i,r){if(!ge(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const s=r.get(e);if(s)return s;const o=ah(e);if(o===0)return e;const c=new Proxy(e,o===2?i:n);return r.set(e,c),c}function Kt(e){return Tn(e)?Kt(e.__v_raw):!!(e&&e.__v_isReactive)}function Tn(e){return!!(e&&e.__v_isReadonly)}function ts(e){return!!(e&&e.__v_isShallow)}function Mc(e){return Kt(e)||Tn(e)}function ee(e){const t=e&&e.__v_raw;return t?ee(t):e}function ps(e){return Zi(e,"__v_skip",!0),e}const di=e=>ge(e)?Fn(e):e,eo=e=>ge(e)?Ic(e):e;function zc(e){qt&&it&&(e=ee(e),Ac(e.dep||(e.dep=Xr())))}function Lc(e,t){e=ee(e);const n=e.dep;n&&dr(n)}function ye(e){return!!(e&&e.__v_isRef===!0)}function Te(e){return Dc(e,!1)}function ch(e){return Dc(e,!0)}function Dc(e,t){return ye(e)?e:new lh(e,t)}class lh{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:ee(t),this._value=n?t:di(t)}get value(){return zc(this),this._value}set value(t){const n=this.__v_isShallow||ts(t)||Tn(t);t=n?t:ee(t),hn(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:di(t),Lc(this))}}function le(e){return ye(e)?e.value:e}const uh={get:(e,t,n)=>le(Reflect.get(e,t,n)),set:(e,t,n,i)=>{const r=e[t];return ye(r)&&!ye(n)?(r.value=n,!0):Reflect.set(e,t,n,i)}};function Uc(e){return Kt(e)?e:new Proxy(e,uh)}function hh(e){const t=B(e)?new Array(e.length):{};for(const n in e)t[n]=dh(e,n);return t}class fh{constructor(t,n,i){this._object=t,this._key=n,this._defaultValue=i,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return Hu(ee(this._object),this._key)}}function dh(e,t,n){const i=e[t];return ye(i)?i:new fh(e,t,n)}class ph{constructor(t,n,i,r){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new Yr(t,()=>{this._dirty||(this._dirty=!0,Lc(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!r,this.__v_isReadonly=i}get value(){const t=ee(this);return zc(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function mh(e,t,n=!1){let i,r;const s=W(e);return s?(i=e,r=rt):(i=e.get,r=e.set),new ph(i,r,s||!r,n)}function Vt(e,t,n,i){let r;try{r=i?e(...i):e()}catch(s){ms(s,t,n)}return r}function ot(e,t,n,i){if(W(e)){const s=Vt(e,t,n,i);return s&&mc(s)&&s.catch(o=>{ms(o,t,n)}),s}const r=[];for(let s=0;s<e.length;s++)r.push(ot(e[s],t,n,i));return r}function ms(e,t,n,i=!0){const r=t?t.vnode:null;if(t){let s=t.parent;const o=t.proxy,c=n;for(;s;){const l=s.ec;if(l){for(let u=0;u<l.length;u++)if(l[u](e,o,c)===!1)return}s=s.parent}const a=t.appContext.config.errorHandler;if(a){Vt(a,null,10,[e,o,c]);return}}gh(e,n,r,i)}function gh(e,t,n,i=!0){console.error(e)}let pi=!1,pr=!1;const Me=[];let mt=0;const On=[];let At=null,nn=0;const Nc=Promise.resolve();let to=null;function no(e){const t=to||Nc;return e?t.then(this?e.bind(this):e):t}function vh(e){let t=mt+1,n=Me.length;for(;t<n;){const i=t+n>>>1,r=Me[i],s=mi(r);s<e||s===e&&r.pre?t=i+1:n=i}return t}function io(e){(!Me.length||!Me.includes(e,pi&&e.allowRecurse?mt+1:mt))&&(e.id==null?Me.push(e):Me.splice(vh(e.id),0,e),Fc())}function Fc(){!pi&&!pr&&(pr=!0,to=Nc.then(Hc))}function bh(e){const t=Me.indexOf(e);t>mt&&Me.splice(t,1)}function wh(e){B(e)?On.push(...e):(!At||!At.includes(e,e.allowRecurse?nn+1:nn))&&On.push(e),Fc()}function Ho(e,t=pi?mt+1:0){for(;t<Me.length;t++){const n=Me[t];n&&n.pre&&(Me.splice(t,1),t--,n())}}function Bc(e){if(On.length){const t=[...new Set(On)];if(On.length=0,At){At.push(...t);return}for(At=t,At.sort((n,i)=>mi(n)-mi(i)),nn=0;nn<At.length;nn++)At[nn]();At=null,nn=0}}const mi=e=>e.id==null?1/0:e.id,yh=(e,t)=>{const n=mi(e)-mi(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function Hc(e){pr=!1,pi=!0,Me.sort(yh);const t=rt;try{for(mt=0;mt<Me.length;mt++){const n=Me[mt];n&&n.active!==!1&&Vt(n,null,14)}}finally{mt=0,Me.length=0,Bc(),pi=!1,to=null,(Me.length||On.length)&&Hc()}}function _h(e,t,...n){if(e.isUnmounted)return;const i=e.vnode.props||me;let r=n;const s=t.startsWith("update:"),o=s&&t.slice(7);if(o&&o in i){const u=`${o==="modelValue"?"model":o}Modifiers`,{number:h,trim:f}=i[u]||me;f&&(r=n.map(p=>_e(p)?p.trim():p)),h&&(r=n.map($u))}let c,a=i[c=zs(t)]||i[c=zs(bt(t))];!a&&s&&(a=i[c=zs(Dn(t))]),a&&ot(a,e,6,r);const l=i[c+"Once"];if(l){if(!e.emitted)e.emitted={};else if(e.emitted[c])return;e.emitted[c]=!0,ot(l,e,6,r)}}function Wc(e,t,n=!1){const i=t.emitsCache,r=i.get(e);if(r!==void 0)return r;const s=e.emits;let o={},c=!1;if(!W(e)){const a=l=>{const u=Wc(l,t,!0);u&&(c=!0,$e(o,u))};!n&&t.mixins.length&&t.mixins.forEach(a),e.extends&&a(e.extends),e.mixins&&e.mixins.forEach(a)}return!s&&!c?(ge(e)&&i.set(e,null),null):(B(s)?s.forEach(a=>o[a]=null):$e(o,s),ge(e)&&i.set(e,o),o)}function gs(e,t){return!e||!cs(t)?!1:(t=t.slice(2).replace(/Once$/,""),Q(e,t[0].toLowerCase()+t.slice(1))||Q(e,Dn(t))||Q(e,t))}let Ce=null,vs=null;function ns(e){const t=Ce;return Ce=e,vs=e&&e.type.__scopeId||null,t}function Eh(e){vs=e}function Rh(){vs=null}function Je(e,t=Ce,n){if(!t||e._n)return e;const i=(...r)=>{i._d&&ta(-1);const s=ns(t);let o;try{o=e(...r)}finally{ns(s),i._d&&ta(1)}return o};return i._n=!0,i._c=!0,i._d=!0,i}function Ds(e){const{type:t,vnode:n,proxy:i,withProxy:r,props:s,propsOptions:[o],slots:c,attrs:a,emit:l,render:u,renderCache:h,data:f,setupState:p,ctx:g,inheritAttrs:v}=e;let E,x;const C=ns(e);try{if(n.shapeFlag&4){const T=r||i;E=dt(u.call(T,T,h,s,p,f,g)),x=a}else{const T=t;E=dt(T.length>1?T(s,{attrs:a,slots:c,emit:l}):T(s,null)),x=t.props?a:xh(a)}}catch(T){ri.length=0,ms(T,e,1),E=F(Yt)}let I=E;if(x&&v!==!1){const T=Object.keys(x),{shapeFlag:J}=I;T.length&&J&7&&(o&&T.some(qr)&&(x=Sh(x,o)),I=Cn(I,x))}return n.dirs&&(I=Cn(I),I.dirs=I.dirs?I.dirs.concat(n.dirs):n.dirs),n.transition&&(I.transition=n.transition),E=I,ns(C),E}const xh=e=>{let t;for(const n in e)(n==="class"||n==="style"||cs(n))&&((t||(t={}))[n]=e[n]);return t},Sh=(e,t)=>{const n={};for(const i in e)(!qr(i)||!(i.slice(9)in t))&&(n[i]=e[i]);return n};function Ah(e,t,n){const{props:i,children:r,component:s}=e,{props:o,children:c,patchFlag:a}=t,l=s.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&a>=0){if(a&1024)return!0;if(a&16)return i?Wo(i,o,l):!!o;if(a&8){const u=t.dynamicProps;for(let h=0;h<u.length;h++){const f=u[h];if(o[f]!==i[f]&&!gs(l,f))return!0}}}else return(r||c)&&(!c||!c.$stable)?!0:i===o?!1:i?o?Wo(i,o,l):!0:!!o;return!1}function Wo(e,t,n){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let r=0;r<i.length;r++){const s=i[r];if(t[s]!==e[s]&&!gs(n,s))return!0}return!1}function Oh({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const Th=e=>e.__isSuspense;function Ch(e,t){t&&t.pendingBranch?B(e)?t.effects.push(...e):t.effects.push(e):wh(e)}const Mi={};function ln(e,t,n){return qc(e,t,n)}function qc(e,t,{immediate:n,deep:i,flush:r,onTrack:s,onTrigger:o}=me){var c;const a=Ec()===((c=Ae)==null?void 0:c.scope)?Ae:null;let l,u=!1,h=!1;if(ye(e)?(l=()=>e.value,u=ts(e)):Kt(e)?(l=()=>e,i=!0):B(e)?(h=!0,u=e.some(T=>Kt(T)||ts(T)),l=()=>e.map(T=>{if(ye(T))return T.value;if(Kt(T))return an(T);if(W(T))return Vt(T,a,2)})):W(e)?t?l=()=>Vt(e,a,2):l=()=>{if(!(a&&a.isUnmounted))return f&&f(),ot(e,a,3,[p])}:l=rt,t&&i){const T=l;l=()=>an(T())}let f,p=T=>{f=C.onStop=()=>{Vt(T,a,4)}},g;if(bi)if(p=rt,t?n&&ot(t,a,3,[l(),h?[]:void 0,p]):l(),r==="sync"){const T=xf();g=T.__watcherHandles||(T.__watcherHandles=[])}else return rt;let v=h?new Array(e.length).fill(Mi):Mi;const E=()=>{if(C.active)if(t){const T=C.run();(i||u||(h?T.some((J,ve)=>hn(J,v[ve])):hn(T,v)))&&(f&&f(),ot(t,a,3,[T,v===Mi?void 0:h&&v[0]===Mi?[]:v,p]),v=T)}else C.run()};E.allowRecurse=!!t;let x;r==="sync"?x=E:r==="post"?x=()=>Ne(E,a&&a.suspense):(E.pre=!0,a&&(E.id=a.uid),x=()=>io(E));const C=new Yr(l,x);t?n?E():v=C.run():r==="post"?Ne(C.run.bind(C),a&&a.suspense):C.run();const I=()=>{C.stop(),a&&a.scope&&Kr(a.scope.effects,C)};return g&&g.push(I),I}function Ph(e,t,n){const i=this.proxy,r=_e(e)?e.includes(".")?Kc(i,e):()=>i[e]:e.bind(i,i);let s;W(t)?s=t:(s=t.handler,n=t);const o=Ae;Pn(this);const c=qc(r,s.bind(i),n);return o?Pn(o):un(),c}function Kc(e,t){const n=t.split(".");return()=>{let i=e;for(let r=0;r<n.length&&i;r++)i=i[n[r]];return i}}function an(e,t){if(!ge(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),ye(e))an(e.value,t);else if(B(e))for(let n=0;n<e.length;n++)an(e[n],t);else if(pc(e)||An(e))e.forEach(n=>{an(n,t)});else if(vc(e))for(const n in e)an(e[n],t);return e}function Vc(e,t){const n=Ce;if(n===null)return e;const i=Es(n)||n.proxy,r=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[o,c,a,l=me]=t[s];o&&(W(o)&&(o={mounted:o,updated:o}),o.deep&&an(c),r.push({dir:o,instance:i,value:c,oldValue:void 0,arg:a,modifiers:l}))}return e}function Qt(e,t,n,i){const r=e.dirs,s=t&&t.dirs;for(let o=0;o<r.length;o++){const c=r[o];s&&(c.oldValue=s[o].value);let a=c.dir[i];a&&(Un(),ot(a,n,8,[e.el,c,e,t]),Nn())}}/*! #__NO_SIDE_EFFECTS__ */function Oe(e,t){return W(e)?(()=>$e({name:e.name},t,{setup:e}))():e}const ni=e=>!!e.type.__asyncLoader,Jc=e=>e.type.__isKeepAlive;function kh(e,t){Xc(e,"a",t)}function $h(e,t){Xc(e,"da",t)}function Xc(e,t,n=Ae){const i=e.__wdc||(e.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return e()});if(bs(t,i,n),n){let r=n.parent;for(;r&&r.parent;)Jc(r.parent.vnode)&&jh(i,t,n,r),r=r.parent}}function jh(e,t,n,i){const r=bs(t,e,i,!0);Yc(()=>{Kr(i[t],r)},n)}function bs(e,t,n=Ae,i=!1){if(n){const r=n[e]||(n[e]=[]),s=t.__weh||(t.__weh=(...o)=>{if(n.isUnmounted)return;Un(),Pn(n);const c=ot(t,n,e,o);return un(),Nn(),c});return i?r.unshift(s):r.push(s),s}}const $t=e=>(t,n=Ae)=>(!bi||e==="sp")&&bs(e,(...i)=>t(...i),n),Ih=$t("bm"),so=$t("m"),Mh=$t("bu"),zh=$t("u"),Lh=$t("bum"),Yc=$t("um"),Dh=$t("sp"),Uh=$t("rtg"),Nh=$t("rtc");function Fh(e,t=Ae){bs("ec",e,t)}const ro="components";function Pt(e,t){return Qc(ro,e,!0,t)||e}const Gc=Symbol.for("v-ndc");function is(e){return _e(e)?Qc(ro,e,!1)||e:e||Gc}function Qc(e,t,n=!0,i=!1){const r=Ce||Ae;if(r){const s=r.type;if(e===ro){const c=_f(s,!1);if(c&&(c===t||c===bt(t)||c===fs(bt(t))))return s}const o=qo(r[e]||s[e],t)||qo(r.appContext[e],t);return!o&&i?s:o}}function qo(e,t){return e&&(e[t]||e[bt(t)]||e[fs(bt(t))])}function mr(e,t,n,i){let r;const s=n&&n[i];if(B(e)||_e(e)){r=new Array(e.length);for(let o=0,c=e.length;o<c;o++)r[o]=t(e[o],o,void 0,s&&s[o])}else if(typeof e=="number"){r=new Array(e);for(let o=0;o<e;o++)r[o]=t(o+1,o,void 0,s&&s[o])}else if(ge(e))if(e[Symbol.iterator])r=Array.from(e,(o,c)=>t(o,c,void 0,s&&s[c]));else{const o=Object.keys(e);r=new Array(o.length);for(let c=0,a=o.length;c<a;c++){const l=o[c];r[c]=t(e[l],l,c,s&&s[c])}}else r=[];return n&&(n[i]=r),r}function jt(e,t,n={},i,r){if(Ce.isCE||Ce.parent&&ni(Ce.parent)&&Ce.parent.isCE)return t!=="default"&&(n.name=t),F("slot",n,i&&i());let s=e[t];s&&s._c&&(s._d=!1),z();const o=s&&Zc(s(n)),c=Z(Le,{key:n.key||o&&o.key||`_${t}`},o||(i?i():[]),o&&e._===1?64:-2);return!r&&c.scopeId&&(c.slotScopeIds=[c.scopeId+"-s"]),s&&s._c&&(s._d=!0),c}function Zc(e){return e.some(t=>rs(t)?!(t.type===Yt||t.type===Le&&!Zc(t.children)):!0)?e:null}const gr=e=>e?hl(e)?Es(e)||e.proxy:gr(e.parent):null,ii=$e(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>gr(e.parent),$root:e=>gr(e.root),$emit:e=>e.emit,$options:e=>oo(e),$forceUpdate:e=>e.f||(e.f=()=>io(e.update)),$nextTick:e=>e.n||(e.n=no.bind(e.proxy)),$watch:e=>Ph.bind(e)}),Us=(e,t)=>e!==me&&!e.__isScriptSetup&&Q(e,t),Bh={get({_:e},t){const{ctx:n,setupState:i,data:r,props:s,accessCache:o,type:c,appContext:a}=e;let l;if(t[0]!=="$"){const p=o[t];if(p!==void 0)switch(p){case 1:return i[t];case 2:return r[t];case 4:return n[t];case 3:return s[t]}else{if(Us(i,t))return o[t]=1,i[t];if(r!==me&&Q(r,t))return o[t]=2,r[t];if((l=e.propsOptions[0])&&Q(l,t))return o[t]=3,s[t];if(n!==me&&Q(n,t))return o[t]=4,n[t];vr&&(o[t]=0)}}const u=ii[t];let h,f;if(u)return t==="$attrs"&&Be(e,"get",t),u(e);if((h=c.__cssModules)&&(h=h[t]))return h;if(n!==me&&Q(n,t))return o[t]=4,n[t];if(f=a.config.globalProperties,Q(f,t))return f[t]},set({_:e},t,n){const{data:i,setupState:r,ctx:s}=e;return Us(r,t)?(r[t]=n,!0):i!==me&&Q(i,t)?(i[t]=n,!0):Q(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(s[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:i,appContext:r,propsOptions:s}},o){let c;return!!n[o]||e!==me&&Q(e,o)||Us(t,o)||(c=s[0])&&Q(c,o)||Q(i,o)||Q(ii,o)||Q(r.config.globalProperties,o)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Q(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function Ko(e){return B(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let vr=!0;function Hh(e){const t=oo(e),n=e.proxy,i=e.ctx;vr=!1,t.beforeCreate&&Vo(t.beforeCreate,e,"bc");const{data:r,computed:s,methods:o,watch:c,provide:a,inject:l,created:u,beforeMount:h,mounted:f,beforeUpdate:p,updated:g,activated:v,deactivated:E,beforeDestroy:x,beforeUnmount:C,destroyed:I,unmounted:T,render:J,renderTracked:ve,renderTriggered:de,errorCaptured:K,serverPrefetch:V,expose:pe,inheritAttrs:we,components:He,directives:Xe,filters:Gt}=t;if(l&&Wh(l,i,null),o)for(const ue in o){const re=o[ue];W(re)&&(i[ue]=re.bind(n))}if(r){const ue=r.call(n,n);ge(ue)&&(e.data=Fn(ue))}if(vr=!0,s)for(const ue in s){const re=s[ue],Et=W(re)?re.bind(n,n):W(re.get)?re.get.bind(n,n):rt,It=!W(re)&&W(re.set)?re.set.bind(n):rt,ut=Ve({get:Et,set:It});Object.defineProperty(i,ue,{enumerable:!0,configurable:!0,get:()=>ut.value,set:De=>ut.value=De})}if(c)for(const ue in c)el(c[ue],i,n,ue);if(a){const ue=W(a)?a.call(n):a;Reflect.ownKeys(ue).forEach(re=>{Ki(re,ue[re])})}u&&Vo(u,e,"c");function se(ue,re){B(re)?re.forEach(Et=>ue(Et.bind(n))):re&&ue(re.bind(n))}if(se(Ih,h),se(so,f),se(Mh,p),se(zh,g),se(kh,v),se($h,E),se(Fh,K),se(Nh,ve),se(Uh,de),se(Lh,C),se(Yc,T),se(Dh,V),B(pe))if(pe.length){const ue=e.exposed||(e.exposed={});pe.forEach(re=>{Object.defineProperty(ue,re,{get:()=>n[re],set:Et=>n[re]=Et})})}else e.exposed||(e.exposed={});J&&e.render===rt&&(e.render=J),we!=null&&(e.inheritAttrs=we),He&&(e.components=He),Xe&&(e.directives=Xe)}function Wh(e,t,n=rt){B(e)&&(e=br(e));for(const i in e){const r=e[i];let s;ge(r)?"default"in r?s=at(r.from||i,r.default,!0):s=at(r.from||i):s=at(r),ye(s)?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):t[i]=s}}function Vo(e,t,n){ot(B(e)?e.map(i=>i.bind(t.proxy)):e.bind(t.proxy),t,n)}function el(e,t,n,i){const r=i.includes(".")?Kc(n,i):()=>n[i];if(_e(e)){const s=t[e];W(s)&&ln(r,s)}else if(W(e))ln(r,e.bind(n));else if(ge(e))if(B(e))e.forEach(s=>el(s,t,n,i));else{const s=W(e.handler)?e.handler.bind(n):t[e.handler];W(s)&&ln(r,s,e)}}function oo(e){const t=e.type,{mixins:n,extends:i}=t,{mixins:r,optionsCache:s,config:{optionMergeStrategies:o}}=e.appContext,c=s.get(t);let a;return c?a=c:!r.length&&!n&&!i?a=t:(a={},r.length&&r.forEach(l=>ss(a,l,o,!0)),ss(a,t,o)),ge(t)&&s.set(t,a),a}function ss(e,t,n,i=!1){const{mixins:r,extends:s}=t;s&&ss(e,s,n,!0),r&&r.forEach(o=>ss(e,o,n,!0));for(const o in t)if(!(i&&o==="expose")){const c=qh[o]||n&&n[o];e[o]=c?c(e[o],t[o]):t[o]}return e}const qh={data:Jo,props:Xo,emits:Xo,methods:Zn,computed:Zn,beforeCreate:ze,created:ze,beforeMount:ze,mounted:ze,beforeUpdate:ze,updated:ze,beforeDestroy:ze,beforeUnmount:ze,destroyed:ze,unmounted:ze,activated:ze,deactivated:ze,errorCaptured:ze,serverPrefetch:ze,components:Zn,directives:Zn,watch:Vh,provide:Jo,inject:Kh};function Jo(e,t){return t?e?function(){return $e(W(e)?e.call(this,this):e,W(t)?t.call(this,this):t)}:t:e}function Kh(e,t){return Zn(br(e),br(t))}function br(e){if(B(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function ze(e,t){return e?[...new Set([].concat(e,t))]:t}function Zn(e,t){return e?$e(Object.create(null),e,t):t}function Xo(e,t){return e?B(e)&&B(t)?[...new Set([...e,...t])]:$e(Object.create(null),Ko(e),Ko(t??{})):t}function Vh(e,t){if(!e)return t;if(!t)return e;const n=$e(Object.create(null),e);for(const i in t)n[i]=ze(e[i],t[i]);return n}function tl(){return{app:null,config:{isNativeTag:Au,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Jh=0;function Xh(e,t){return function(i,r=null){W(i)||(i=$e({},i)),r!=null&&!ge(r)&&(r=null);const s=tl(),o=new WeakSet;let c=!1;const a=s.app={_uid:Jh++,_component:i,_props:r,_container:null,_context:s,_instance:null,version:Sf,get config(){return s.config},set config(l){},use(l,...u){return o.has(l)||(l&&W(l.install)?(o.add(l),l.install(a,...u)):W(l)&&(o.add(l),l(a,...u))),a},mixin(l){return s.mixins.includes(l)||s.mixins.push(l),a},component(l,u){return u?(s.components[l]=u,a):s.components[l]},directive(l,u){return u?(s.directives[l]=u,a):s.directives[l]},mount(l,u,h){if(!c){const f=F(i,r);return f.appContext=s,u&&t?t(f,l):e(f,l,h),c=!0,a._container=l,l.__vue_app__=a,Es(f.component)||f.component.proxy}},unmount(){c&&(e(null,a._container),delete a._container.__vue_app__)},provide(l,u){return s.provides[l]=u,a},runWithContext(l){gi=a;try{return l()}finally{gi=null}}};return a}}let gi=null;function Ki(e,t){if(Ae){let n=Ae.provides;const i=Ae.parent&&Ae.parent.provides;i===n&&(n=Ae.provides=Object.create(i)),n[e]=t}}function at(e,t,n=!1){const i=Ae||Ce;if(i||gi){const r=i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:gi._context.provides;if(r&&e in r)return r[e];if(arguments.length>1)return n&&W(t)?t.call(i&&i.proxy):t}}function Yh(){return!!(Ae||Ce||gi)}function Gh(e,t,n,i=!1){const r={},s={};Zi(s,ys,1),e.propsDefaults=Object.create(null),nl(e,t,r,s);for(const o in e.propsOptions[0])o in r||(r[o]=void 0);n?e.props=i?r:jc(r):e.type.props?e.props=r:e.props=s,e.attrs=s}function Qh(e,t,n,i){const{props:r,attrs:s,vnode:{patchFlag:o}}=e,c=ee(r),[a]=e.propsOptions;let l=!1;if((i||o>0)&&!(o&16)){if(o&8){const u=e.vnode.dynamicProps;for(let h=0;h<u.length;h++){let f=u[h];if(gs(e.emitsOptions,f))continue;const p=t[f];if(a)if(Q(s,f))p!==s[f]&&(s[f]=p,l=!0);else{const g=bt(f);r[g]=wr(a,c,g,p,e,!1)}else p!==s[f]&&(s[f]=p,l=!0)}}}else{nl(e,t,r,s)&&(l=!0);let u;for(const h in c)(!t||!Q(t,h)&&((u=Dn(h))===h||!Q(t,u)))&&(a?n&&(n[h]!==void 0||n[u]!==void 0)&&(r[h]=wr(a,c,h,void 0,e,!0)):delete r[h]);if(s!==c)for(const h in s)(!t||!Q(t,h))&&(delete s[h],l=!0)}l&&Ct(e,"set","$attrs")}function nl(e,t,n,i){const[r,s]=e.propsOptions;let o=!1,c;if(t)for(let a in t){if(qi(a))continue;const l=t[a];let u;r&&Q(r,u=bt(a))?!s||!s.includes(u)?n[u]=l:(c||(c={}))[u]=l:gs(e.emitsOptions,a)||(!(a in i)||l!==i[a])&&(i[a]=l,o=!0)}if(s){const a=ee(n),l=c||me;for(let u=0;u<s.length;u++){const h=s[u];n[h]=wr(r,a,h,l[h],e,!Q(l,h))}}return o}function wr(e,t,n,i,r,s){const o=e[n];if(o!=null){const c=Q(o,"default");if(c&&i===void 0){const a=o.default;if(o.type!==Function&&!o.skipFactory&&W(a)){const{propsDefaults:l}=r;n in l?i=l[n]:(Pn(r),i=l[n]=a.call(null,t),un())}else i=a}o[0]&&(s&&!c?i=!1:o[1]&&(i===""||i===Dn(n))&&(i=!0))}return i}function il(e,t,n=!1){const i=t.propsCache,r=i.get(e);if(r)return r;const s=e.props,o={},c=[];let a=!1;if(!W(e)){const u=h=>{a=!0;const[f,p]=il(h,t,!0);$e(o,f),p&&c.push(...p)};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!s&&!a)return ge(e)&&i.set(e,Sn),Sn;if(B(s))for(let u=0;u<s.length;u++){const h=bt(s[u]);Yo(h)&&(o[h]=me)}else if(s)for(const u in s){const h=bt(u);if(Yo(h)){const f=s[u],p=o[h]=B(f)||W(f)?{type:f}:$e({},f);if(p){const g=Zo(Boolean,p.type),v=Zo(String,p.type);p[0]=g>-1,p[1]=v<0||g<v,(g>-1||Q(p,"default"))&&c.push(h)}}}const l=[o,c];return ge(e)&&i.set(e,l),l}function Yo(e){return e[0]!=="$"}function Go(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function Qo(e,t){return Go(e)===Go(t)}function Zo(e,t){return B(t)?t.findIndex(n=>Qo(n,e)):W(t)&&Qo(t,e)?0:-1}const sl=e=>e[0]==="_"||e==="$stable",ao=e=>B(e)?e.map(dt):[dt(e)],Zh=(e,t,n)=>{if(t._n)return t;const i=Je((...r)=>ao(t(...r)),n);return i._c=!1,i},rl=(e,t,n)=>{const i=e._ctx;for(const r in e){if(sl(r))continue;const s=e[r];if(W(s))t[r]=Zh(r,s,i);else if(s!=null){const o=ao(s);t[r]=()=>o}}},ol=(e,t)=>{const n=ao(t);e.slots.default=()=>n},ef=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=ee(t),Zi(t,"_",n)):rl(t,e.slots={})}else e.slots={},t&&ol(e,t);Zi(e.slots,ys,1)},tf=(e,t,n)=>{const{vnode:i,slots:r}=e;let s=!0,o=me;if(i.shapeFlag&32){const c=t._;c?n&&c===1?s=!1:($e(r,t),!n&&c===1&&delete r._):(s=!t.$stable,rl(t,r)),o=t}else t&&(ol(e,t),o={default:1});if(s)for(const c in r)!sl(c)&&o[c]==null&&delete r[c]};function yr(e,t,n,i,r=!1){if(B(e)){e.forEach((f,p)=>yr(f,t&&(B(t)?t[p]:t),n,i,r));return}if(ni(i)&&!r)return;const s=i.shapeFlag&4?Es(i.component)||i.component.proxy:i.el,o=r?null:s,{i:c,r:a}=e,l=t&&t.r,u=c.refs===me?c.refs={}:c.refs,h=c.setupState;if(l!=null&&l!==a&&(_e(l)?(u[l]=null,Q(h,l)&&(h[l]=null)):ye(l)&&(l.value=null)),W(a))Vt(a,c,12,[o,u]);else{const f=_e(a),p=ye(a);if(f||p){const g=()=>{if(e.f){const v=f?Q(h,a)?h[a]:u[a]:a.value;r?B(v)&&Kr(v,s):B(v)?v.includes(s)||v.push(s):f?(u[a]=[s],Q(h,a)&&(h[a]=u[a])):(a.value=[s],e.k&&(u[e.k]=a.value))}else f?(u[a]=o,Q(h,a)&&(h[a]=o)):p&&(a.value=o,e.k&&(u[e.k]=o))};o?(g.id=-1,Ne(g,n)):g()}}}const Ne=Ch;function nf(e){return sf(e)}function sf(e,t){const n=ur();n.__VUE__=!0;const{insert:i,remove:r,patchProp:s,createElement:o,createText:c,createComment:a,setText:l,setElementText:u,parentNode:h,nextSibling:f,setScopeId:p=rt,insertStaticContent:g}=e,v=(d,m,b,w=null,R=null,S=null,$=!1,O=null,P=!!m.dynamicChildren)=>{if(d===m)return;d&&!Vn(d,m)&&(w=_(d),De(d,R,S,!0),d=null),m.patchFlag===-2&&(P=!1,m.dynamicChildren=null);const{type:A,ref:U,shapeFlag:M}=m;switch(A){case ws:E(d,m,b,w);break;case Yt:x(d,m,b,w);break;case Ns:d==null&&C(m,b,w,$);break;case Le:He(d,m,b,w,R,S,$,O,P);break;default:M&1?J(d,m,b,w,R,S,$,O,P):M&6?Xe(d,m,b,w,R,S,$,O,P):(M&64||M&128)&&A.process(d,m,b,w,R,S,$,O,P,k)}U!=null&&R&&yr(U,d&&d.ref,S,m||d,!m)},E=(d,m,b,w)=>{if(d==null)i(m.el=c(m.children),b,w);else{const R=m.el=d.el;m.children!==d.children&&l(R,m.children)}},x=(d,m,b,w)=>{d==null?i(m.el=a(m.children||""),b,w):m.el=d.el},C=(d,m,b,w)=>{[d.el,d.anchor]=g(d.children,m,b,w,d.el,d.anchor)},I=({el:d,anchor:m},b,w)=>{let R;for(;d&&d!==m;)R=f(d),i(d,b,w),d=R;i(m,b,w)},T=({el:d,anchor:m})=>{let b;for(;d&&d!==m;)b=f(d),r(d),d=b;r(m)},J=(d,m,b,w,R,S,$,O,P)=>{$=$||m.type==="svg",d==null?ve(m,b,w,R,S,$,O,P):V(d,m,R,S,$,O,P)},ve=(d,m,b,w,R,S,$,O)=>{let P,A;const{type:U,props:M,shapeFlag:N,transition:H,dirs:X}=d;if(P=d.el=o(d.type,S,M&&M.is,M),N&8?u(P,d.children):N&16&&K(d.children,P,null,w,R,S&&U!=="foreignObject",$,O),X&&Qt(d,null,w,"created"),de(P,d,d.scopeId,$,w),M){for(const ce in M)ce!=="value"&&!qi(ce)&&s(P,ce,null,M[ce],S,d.children,w,R,je);"value"in M&&s(P,"value",null,M.value),(A=M.onVnodeBeforeMount)&&ft(A,w,d)}X&&Qt(d,null,w,"beforeMount");const he=rf(R,H);he&&H.beforeEnter(P),i(P,m,b),((A=M&&M.onVnodeMounted)||he||X)&&Ne(()=>{A&&ft(A,w,d),he&&H.enter(P),X&&Qt(d,null,w,"mounted")},R)},de=(d,m,b,w,R)=>{if(b&&p(d,b),w)for(let S=0;S<w.length;S++)p(d,w[S]);if(R){let S=R.subTree;if(m===S){const $=R.vnode;de(d,$,$.scopeId,$.slotScopeIds,R.parent)}}},K=(d,m,b,w,R,S,$,O,P=0)=>{for(let A=P;A<d.length;A++){const U=d[A]=O?Nt(d[A]):dt(d[A]);v(null,U,m,b,w,R,S,$,O)}},V=(d,m,b,w,R,S,$)=>{const O=m.el=d.el;let{patchFlag:P,dynamicChildren:A,dirs:U}=m;P|=d.patchFlag&16;const M=d.props||me,N=m.props||me;let H;b&&Zt(b,!1),(H=N.onVnodeBeforeUpdate)&&ft(H,b,m,d),U&&Qt(m,d,b,"beforeUpdate"),b&&Zt(b,!0);const X=R&&m.type!=="foreignObject";if(A?pe(d.dynamicChildren,A,O,b,w,X,S):$||re(d,m,O,null,b,w,X,S,!1),P>0){if(P&16)we(O,m,M,N,b,w,R);else if(P&2&&M.class!==N.class&&s(O,"class",null,N.class,R),P&4&&s(O,"style",M.style,N.style,R),P&8){const he=m.dynamicProps;for(let ce=0;ce<he.length;ce++){const Ee=he[ce],tt=M[Ee],mn=N[Ee];(mn!==tt||Ee==="value")&&s(O,Ee,tt,mn,R,d.children,b,w,je)}}P&1&&d.children!==m.children&&u(O,m.children)}else!$&&A==null&&we(O,m,M,N,b,w,R);((H=N.onVnodeUpdated)||U)&&Ne(()=>{H&&ft(H,b,m,d),U&&Qt(m,d,b,"updated")},w)},pe=(d,m,b,w,R,S,$)=>{for(let O=0;O<m.length;O++){const P=d[O],A=m[O],U=P.el&&(P.type===Le||!Vn(P,A)||P.shapeFlag&70)?h(P.el):b;v(P,A,U,null,w,R,S,$,!0)}},we=(d,m,b,w,R,S,$)=>{if(b!==w){if(b!==me)for(const O in b)!qi(O)&&!(O in w)&&s(d,O,b[O],null,$,m.children,R,S,je);for(const O in w){if(qi(O))continue;const P=w[O],A=b[O];P!==A&&O!=="value"&&s(d,O,A,P,$,m.children,R,S,je)}"value"in w&&s(d,"value",b.value,w.value)}},He=(d,m,b,w,R,S,$,O,P)=>{const A=m.el=d?d.el:c(""),U=m.anchor=d?d.anchor:c("");let{patchFlag:M,dynamicChildren:N,slotScopeIds:H}=m;H&&(O=O?O.concat(H):H),d==null?(i(A,b,w),i(U,b,w),K(m.children,b,U,R,S,$,O,P)):M>0&&M&64&&N&&d.dynamicChildren?(pe(d.dynamicChildren,N,b,R,S,$,O),(m.key!=null||R&&m===R.subTree)&&co(d,m,!0)):re(d,m,b,U,R,S,$,O,P)},Xe=(d,m,b,w,R,S,$,O,P)=>{m.slotScopeIds=O,d==null?m.shapeFlag&512?R.ctx.activate(m,b,w,$,P):Gt(m,b,w,R,S,$,P):Ye(d,m,P)},Gt=(d,m,b,w,R,S,$)=>{const O=d.component=gf(d,w,R);if(Jc(d)&&(O.ctx.renderer=k),vf(O),O.asyncDep){if(R&&R.registerDep(O,se),!d.el){const P=O.subTree=F(Yt);x(null,P,m,b)}return}se(O,d,m,b,R,S,$)},Ye=(d,m,b)=>{const w=m.component=d.component;if(Ah(d,m,b))if(w.asyncDep&&!w.asyncResolved){ue(w,m,b);return}else w.next=m,bh(w.update),w.update();else m.el=d.el,w.vnode=m},se=(d,m,b,w,R,S,$)=>{const O=()=>{if(d.isMounted){let{next:U,bu:M,u:N,parent:H,vnode:X}=d,he=U,ce;Zt(d,!1),U?(U.el=X.el,ue(d,U,$)):U=X,M&&Ls(M),(ce=U.props&&U.props.onVnodeBeforeUpdate)&&ft(ce,H,U,X),Zt(d,!0);const Ee=Ds(d),tt=d.subTree;d.subTree=Ee,v(tt,Ee,h(tt.el),_(tt),d,R,S),U.el=Ee.el,he===null&&Oh(d,Ee.el),N&&Ne(N,R),(ce=U.props&&U.props.onVnodeUpdated)&&Ne(()=>ft(ce,H,U,X),R)}else{let U;const{el:M,props:N}=m,{bm:H,m:X,parent:he}=d,ce=ni(m);if(Zt(d,!1),H&&Ls(H),!ce&&(U=N&&N.onVnodeBeforeMount)&&ft(U,he,m),Zt(d,!0),M&&oe){const Ee=()=>{d.subTree=Ds(d),oe(M,d.subTree,d,R,null)};ce?m.type.__asyncLoader().then(()=>!d.isUnmounted&&Ee()):Ee()}else{const Ee=d.subTree=Ds(d);v(null,Ee,b,w,d,R,S),m.el=Ee.el}if(X&&Ne(X,R),!ce&&(U=N&&N.onVnodeMounted)){const Ee=m;Ne(()=>ft(U,he,Ee),R)}(m.shapeFlag&256||he&&ni(he.vnode)&&he.vnode.shapeFlag&256)&&d.a&&Ne(d.a,R),d.isMounted=!0,m=b=w=null}},P=d.effect=new Yr(O,()=>io(A),d.scope),A=d.update=()=>P.run();A.id=d.uid,Zt(d,!0),A()},ue=(d,m,b)=>{m.component=d;const w=d.vnode.props;d.vnode=m,d.next=null,Qh(d,m.props,w,b),tf(d,m.children,b),Un(),Ho(),Nn()},re=(d,m,b,w,R,S,$,O,P=!1)=>{const A=d&&d.children,U=d?d.shapeFlag:0,M=m.children,{patchFlag:N,shapeFlag:H}=m;if(N>0){if(N&128){It(A,M,b,w,R,S,$,O,P);return}else if(N&256){Et(A,M,b,w,R,S,$,O,P);return}}H&8?(U&16&&je(A,R,S),M!==A&&u(b,M)):U&16?H&16?It(A,M,b,w,R,S,$,O,P):je(A,R,S,!0):(U&8&&u(b,""),H&16&&K(M,b,w,R,S,$,O,P))},Et=(d,m,b,w,R,S,$,O,P)=>{d=d||Sn,m=m||Sn;const A=d.length,U=m.length,M=Math.min(A,U);let N;for(N=0;N<M;N++){const H=m[N]=P?Nt(m[N]):dt(m[N]);v(d[N],H,b,null,R,S,$,O,P)}A>U?je(d,R,S,!0,!1,M):K(m,b,w,R,S,$,O,P,M)},It=(d,m,b,w,R,S,$,O,P)=>{let A=0;const U=m.length;let M=d.length-1,N=U-1;for(;A<=M&&A<=N;){const H=d[A],X=m[A]=P?Nt(m[A]):dt(m[A]);if(Vn(H,X))v(H,X,b,null,R,S,$,O,P);else break;A++}for(;A<=M&&A<=N;){const H=d[M],X=m[N]=P?Nt(m[N]):dt(m[N]);if(Vn(H,X))v(H,X,b,null,R,S,$,O,P);else break;M--,N--}if(A>M){if(A<=N){const H=N+1,X=H<U?m[H].el:w;for(;A<=N;)v(null,m[A]=P?Nt(m[A]):dt(m[A]),b,X,R,S,$,O,P),A++}}else if(A>N)for(;A<=M;)De(d[A],R,S,!0),A++;else{const H=A,X=A,he=new Map;for(A=X;A<=N;A++){const We=m[A]=P?Nt(m[A]):dt(m[A]);We.key!=null&&he.set(We.key,A)}let ce,Ee=0;const tt=N-X+1;let mn=!1,$o=0;const Kn=new Array(tt);for(A=0;A<tt;A++)Kn[A]=0;for(A=H;A<=M;A++){const We=d[A];if(Ee>=tt){De(We,R,S,!0);continue}let ht;if(We.key!=null)ht=he.get(We.key);else for(ce=X;ce<=N;ce++)if(Kn[ce-X]===0&&Vn(We,m[ce])){ht=ce;break}ht===void 0?De(We,R,S,!0):(Kn[ht-X]=A+1,ht>=$o?$o=ht:mn=!0,v(We,m[ht],b,null,R,S,$,O,P),Ee++)}const jo=mn?of(Kn):Sn;for(ce=jo.length-1,A=tt-1;A>=0;A--){const We=X+A,ht=m[We],Io=We+1<U?m[We+1].el:w;Kn[A]===0?v(null,ht,b,Io,R,S,$,O,P):mn&&(ce<0||A!==jo[ce]?ut(ht,b,Io,2):ce--)}}},ut=(d,m,b,w,R=null)=>{const{el:S,type:$,transition:O,children:P,shapeFlag:A}=d;if(A&6){ut(d.component.subTree,m,b,w);return}if(A&128){d.suspense.move(m,b,w);return}if(A&64){$.move(d,m,b,k);return}if($===Le){i(S,m,b);for(let M=0;M<P.length;M++)ut(P[M],m,b,w);i(d.anchor,m,b);return}if($===Ns){I(d,m,b);return}if(w!==2&&A&1&&O)if(w===0)O.beforeEnter(S),i(S,m,b),Ne(()=>O.enter(S),R);else{const{leave:M,delayLeave:N,afterLeave:H}=O,X=()=>i(S,m,b),he=()=>{M(S,()=>{X(),H&&H()})};N?N(S,X,he):he()}else i(S,m,b)},De=(d,m,b,w=!1,R=!1)=>{const{type:S,props:$,ref:O,children:P,dynamicChildren:A,shapeFlag:U,patchFlag:M,dirs:N}=d;if(O!=null&&yr(O,null,b,d,!0),U&256){m.ctx.deactivate(d);return}const H=U&1&&N,X=!ni(d);let he;if(X&&(he=$&&$.onVnodeBeforeUnmount)&&ft(he,m,d),U&6)Ci(d.component,b,w);else{if(U&128){d.suspense.unmount(b,w);return}H&&Qt(d,null,m,"beforeUnmount"),U&64?d.type.remove(d,m,b,R,k,w):A&&(S!==Le||M>0&&M&64)?je(A,m,b,!1,!0):(S===Le&&M&384||!R&&U&16)&&je(P,m,b),w&&dn(d)}(X&&(he=$&&$.onVnodeUnmounted)||H)&&Ne(()=>{he&&ft(he,m,d),H&&Qt(d,null,m,"unmounted")},b)},dn=d=>{const{type:m,el:b,anchor:w,transition:R}=d;if(m===Le){pn(b,w);return}if(m===Ns){T(d);return}const S=()=>{r(b),R&&!R.persisted&&R.afterLeave&&R.afterLeave()};if(d.shapeFlag&1&&R&&!R.persisted){const{leave:$,delayLeave:O}=R,P=()=>$(b,S);O?O(d.el,S,P):P()}else S()},pn=(d,m)=>{let b;for(;d!==m;)b=f(d),r(d),d=b;r(m)},Ci=(d,m,b)=>{const{bum:w,scope:R,update:S,subTree:$,um:O}=d;w&&Ls(w),R.stop(),S&&(S.active=!1,De($,d,m,b)),O&&Ne(O,m),Ne(()=>{d.isUnmounted=!0},m),m&&m.pendingBranch&&!m.isUnmounted&&d.asyncDep&&!d.asyncResolved&&d.suspenseId===m.pendingId&&(m.deps--,m.deps===0&&m.resolve())},je=(d,m,b,w=!1,R=!1,S=0)=>{for(let $=S;$<d.length;$++)De(d[$],m,b,w,R)},_=d=>d.shapeFlag&6?_(d.component.subTree):d.shapeFlag&128?d.suspense.next():f(d.anchor||d.el),j=(d,m,b)=>{d==null?m._vnode&&De(m._vnode,null,null,!0):v(m._vnode||null,d,m,null,null,null,b),Ho(),Bc(),m._vnode=d},k={p:v,um:De,m:ut,r:dn,mt:Gt,mc:K,pc:re,pbc:pe,n:_,o:e};let L,oe;return t&&([L,oe]=t(k)),{render:j,hydrate:L,createApp:Xh(j,L)}}function Zt({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function rf(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function co(e,t,n=!1){const i=e.children,r=t.children;if(B(i)&&B(r))for(let s=0;s<i.length;s++){const o=i[s];let c=r[s];c.shapeFlag&1&&!c.dynamicChildren&&((c.patchFlag<=0||c.patchFlag===32)&&(c=r[s]=Nt(r[s]),c.el=o.el),n||co(o,c)),c.type===ws&&(c.el=o.el)}}function of(e){const t=e.slice(),n=[0];let i,r,s,o,c;const a=e.length;for(i=0;i<a;i++){const l=e[i];if(l!==0){if(r=n[n.length-1],e[r]<l){t[i]=r,n.push(i);continue}for(s=0,o=n.length-1;s<o;)c=s+o>>1,e[n[c]]<l?s=c+1:o=c;l<e[n[s]]&&(s>0&&(t[i]=n[s-1]),n[s]=i)}}for(s=n.length,o=n[s-1];s-- >0;)n[s]=o,o=t[o];return n}const af=e=>e.__isTeleport,si=e=>e&&(e.disabled||e.disabled===""),ea=e=>typeof SVGElement<"u"&&e instanceof SVGElement,_r=(e,t)=>{const n=e&&e.to;return _e(n)?t?t(n):null:n},cf={__isTeleport:!0,process(e,t,n,i,r,s,o,c,a,l){const{mc:u,pc:h,pbc:f,o:{insert:p,querySelector:g,createText:v,createComment:E}}=l,x=si(t.props);let{shapeFlag:C,children:I,dynamicChildren:T}=t;if(e==null){const J=t.el=v(""),ve=t.anchor=v("");p(J,n,i),p(ve,n,i);const de=t.target=_r(t.props,g),K=t.targetAnchor=v("");de&&(p(K,de),o=o||ea(de));const V=(pe,we)=>{C&16&&u(I,pe,we,r,s,o,c,a)};x?V(n,ve):de&&V(de,K)}else{t.el=e.el;const J=t.anchor=e.anchor,ve=t.target=e.target,de=t.targetAnchor=e.targetAnchor,K=si(e.props),V=K?n:ve,pe=K?J:de;if(o=o||ea(ve),T?(f(e.dynamicChildren,T,V,r,s,o,c),co(e,t,!0)):a||h(e,t,V,pe,r,s,o,c,!1),x)K?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):zi(t,n,J,l,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const we=t.target=_r(t.props,g);we&&zi(t,we,null,l,0)}else K&&zi(t,ve,de,l,1)}cl(t)},remove(e,t,n,i,{um:r,o:{remove:s}},o){const{shapeFlag:c,children:a,anchor:l,targetAnchor:u,target:h,props:f}=e;if(h&&s(u),o&&s(l),c&16){const p=o||!si(f);for(let g=0;g<a.length;g++){const v=a[g];r(v,t,n,p,!!v.dynamicChildren)}}},move:zi,hydrate:lf};function zi(e,t,n,{o:{insert:i},m:r},s=2){s===0&&i(e.targetAnchor,t,n);const{el:o,anchor:c,shapeFlag:a,children:l,props:u}=e,h=s===2;if(h&&i(o,t,n),(!h||si(u))&&a&16)for(let f=0;f<l.length;f++)r(l[f],t,n,2);h&&i(c,t,n)}function lf(e,t,n,i,r,s,{o:{nextSibling:o,parentNode:c,querySelector:a}},l){const u=t.target=_r(t.props,a);if(u){const h=u._lpa||u.firstChild;if(t.shapeFlag&16)if(si(t.props))t.anchor=l(o(e),t,c(e),n,i,r,s),t.targetAnchor=h;else{t.anchor=o(e);let f=h;for(;f;)if(f=o(f),f&&f.nodeType===8&&f.data==="teleport anchor"){t.targetAnchor=f,u._lpa=t.targetAnchor&&o(t.targetAnchor);break}l(h,t,u,n,i,r,s)}cl(t)}return t.anchor&&o(t.anchor)}const al=cf;function cl(e){const t=e.ctx;if(t&&t.ut){let n=e.children[0].el;for(;n&&n!==e.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",t.uid),n=n.nextSibling;t.ut()}}const Le=Symbol.for("v-fgt"),ws=Symbol.for("v-txt"),Yt=Symbol.for("v-cmt"),Ns=Symbol.for("v-stc"),ri=[];let st=null;function z(e=!1){ri.push(st=e?null:[])}function uf(){ri.pop(),st=ri[ri.length-1]||null}let vi=1;function ta(e){vi+=e}function ll(e){return e.dynamicChildren=vi>0?st||Sn:null,uf(),vi>0&&st&&st.push(e),e}function be(e,t,n,i,r,s){return ll(q(e,t,n,i,r,s,!0))}function Z(e,t,n,i,r){return ll(F(e,t,n,i,r,!0))}function rs(e){return e?e.__v_isVNode===!0:!1}function Vn(e,t){return e.type===t.type&&e.key===t.key}const ys="__vInternal",ul=({key:e})=>e??null,Vi=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?_e(e)||ye(e)||W(e)?{i:Ce,r:e,k:t,f:!!n}:e:null);function q(e,t=null,n=null,i=0,r=null,s=e===Le?0:1,o=!1,c=!1){const a={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&ul(t),ref:t&&Vi(t),scopeId:vs,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:i,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:Ce};return c?(lo(a,n),s&128&&e.normalize(a)):n&&(a.shapeFlag|=_e(n)?8:16),vi>0&&!o&&st&&(a.patchFlag>0||s&6)&&a.patchFlag!==32&&st.push(a),a}const F=hf;function hf(e,t=null,n=null,i=0,r=null,s=!1){if((!e||e===Gc)&&(e=Yt),rs(e)){const c=Cn(e,t,!0);return n&&lo(c,n),vi>0&&!s&&st&&(c.shapeFlag&6?st[st.indexOf(e)]=c:st.push(c)),c.patchFlag|=-2,c}if(Ef(e)&&(e=e.__vccOpts),t){t=ff(t);let{class:c,style:a}=t;c&&!_e(c)&&(t.class=wt(c)),ge(a)&&(Mc(a)&&!B(a)&&(a=$e({},a)),t.style=Jr(a))}const o=_e(e)?1:Th(e)?128:af(e)?64:ge(e)?4:W(e)?2:0;return q(e,t,n,i,r,o,s,!0)}function ff(e){return e?Mc(e)||ys in e?$e({},e):e:null}function Cn(e,t,n=!1){const{props:i,ref:r,patchFlag:s,children:o}=e,c=t?_s(i||{},t):i;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&ul(c),ref:t&&t.ref?n&&r?B(r)?r.concat(Vi(t)):[r,Vi(t)]:Vi(t):r,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:o,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Le?s===-1?16:s|16:s,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Cn(e.ssContent),ssFallback:e.ssFallback&&Cn(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function df(e=" ",t=0){return F(ws,null,e,t)}function Jt(e="",t=!1){return t?(z(),Z(Yt,null,e)):F(Yt,null,e)}function dt(e){return e==null||typeof e=="boolean"?F(Yt):B(e)?F(Le,null,e.slice()):typeof e=="object"?Nt(e):F(ws,null,String(e))}function Nt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Cn(e)}function lo(e,t){let n=0;const{shapeFlag:i}=e;if(t==null)t=null;else if(B(t))n=16;else if(typeof t=="object")if(i&65){const r=t.default;r&&(r._c&&(r._d=!1),lo(e,r()),r._c&&(r._d=!0));return}else{n=32;const r=t._;!r&&!(ys in t)?t._ctx=Ce:r===3&&Ce&&(Ce.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else W(t)?(t={default:t,_ctx:Ce},n=32):(t=String(t),i&64?(n=16,t=[df(t)]):n=8);e.children=t,e.shapeFlag|=n}function _s(...e){const t={};for(let n=0;n<e.length;n++){const i=e[n];for(const r in i)if(r==="class")t.class!==i.class&&(t.class=wt([t.class,i.class]));else if(r==="style")t.style=Jr([t.style,i.style]);else if(cs(r)){const s=t[r],o=i[r];o&&s!==o&&!(B(s)&&s.includes(o))&&(t[r]=s?[].concat(s,o):o)}else r!==""&&(t[r]=i[r])}return t}function ft(e,t,n,i=null){ot(e,t,7,[n,i])}const pf=tl();let mf=0;function gf(e,t,n){const i=e.type,r=(t?t.appContext:e.appContext)||pf,s={uid:mf++,vnode:e,type:i,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,scope:new yc(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:il(i,r),emitsOptions:Wc(i,r),emit:null,emitted:null,propsDefaults:me,inheritAttrs:i.inheritAttrs,ctx:me,data:me,props:me,attrs:me,slots:me,refs:me,setupState:me,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=_h.bind(null,s),e.ce&&e.ce(s),s}let Ae=null,uo,gn,na="__VUE_INSTANCE_SETTERS__";(gn=ur()[na])||(gn=ur()[na]=[]),gn.push(e=>Ae=e),uo=e=>{gn.length>1?gn.forEach(t=>t(e)):gn[0](e)};const Pn=e=>{uo(e),e.scope.on()},un=()=>{Ae&&Ae.scope.off(),uo(null)};function hl(e){return e.vnode.shapeFlag&4}let bi=!1;function vf(e,t=!1){bi=t;const{props:n,children:i}=e.vnode,r=hl(e);Gh(e,n,r,t),ef(e,i);const s=r?bf(e,t):void 0;return bi=!1,s}function bf(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=ps(new Proxy(e.ctx,Bh));const{setup:i}=n;if(i){const r=e.setupContext=i.length>1?yf(e):null;Pn(e),Un();const s=Vt(i,e,0,[e.props,r]);if(Nn(),un(),mc(s)){if(s.then(un,un),t)return s.then(o=>{ia(e,o,t)}).catch(o=>{ms(o,e,0)});e.asyncDep=s}else ia(e,s,t)}else fl(e,t)}function ia(e,t,n){W(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:ge(t)&&(e.setupState=Uc(t)),fl(e,n)}let sa;function fl(e,t,n){const i=e.type;if(!e.render){if(!t&&sa&&!i.render){const r=i.template||oo(e).template;if(r){const{isCustomElement:s,compilerOptions:o}=e.appContext.config,{delimiters:c,compilerOptions:a}=i,l=$e($e({isCustomElement:s,delimiters:c},o),a);i.render=sa(r,l)}}e.render=i.render||rt}{Pn(e),Un();try{Hh(e)}finally{Nn(),un()}}}function wf(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,n){return Be(e,"get","$attrs"),t[n]}}))}function yf(e){const t=n=>{e.exposed=n||{}};return{get attrs(){return wf(e)},slots:e.slots,emit:e.emit,expose:t}}function Es(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Uc(ps(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in ii)return ii[n](e)},has(t,n){return n in t||n in ii}}))}function _f(e,t=!0){return W(e)?e.displayName||e.name:e.name||t&&e.__name}function Ef(e){return W(e)&&"__vccOpts"in e}const Ve=(e,t)=>mh(e,t,bi);function dl(e,t,n){const i=arguments.length;return i===2?ge(t)&&!B(t)?rs(t)?F(e,null,[t]):F(e,t):F(e,null,t):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&rs(n)&&(n=[n]),F(e,t,n))}const Rf=Symbol.for("v-scx"),xf=()=>at(Rf),Sf="3.3.7",Af="http://www.w3.org/2000/svg",sn=typeof document<"u"?document:null,ra=sn&&sn.createElement("template"),Of={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,i)=>{const r=t?sn.createElementNS(Af,e):sn.createElement(e,n?{is:n}:void 0);return e==="select"&&i&&i.multiple!=null&&r.setAttribute("multiple",i.multiple),r},createText:e=>sn.createTextNode(e),createComment:e=>sn.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>sn.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,i,r,s){const o=n?n.previousSibling:t.lastChild;if(r&&(r===s||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),n),!(r===s||!(r=r.nextSibling)););else{ra.innerHTML=i?`<svg>${e}</svg>`:e;const c=ra.content;if(i){const a=c.firstChild;for(;a.firstChild;)c.appendChild(a.firstChild);c.removeChild(a)}t.insertBefore(c,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},Tf=Symbol("_vtc");function Cf(e,t,n){const i=e[Tf];i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const ho=Symbol("_vod"),pl={beforeMount(e,{value:t},{transition:n}){e[ho]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):Jn(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:i}){!t!=!n&&(i?t?(i.beforeEnter(e),Jn(e,!0),i.enter(e)):i.leave(e,()=>{Jn(e,!1)}):Jn(e,t))},beforeUnmount(e,{value:t}){Jn(e,t)}};function Jn(e,t){e.style.display=t?e[ho]:"none"}function Pf(e,t,n){const i=e.style,r=_e(n);if(n&&!r){if(t&&!_e(t))for(const s in t)n[s]==null&&Er(i,s,"");for(const s in n)Er(i,s,n[s])}else{const s=i.display;r?t!==n&&(i.cssText=n):t&&e.removeAttribute("style"),ho in e&&(i.display=s)}}const oa=/\s*!important$/;function Er(e,t,n){if(B(n))n.forEach(i=>Er(e,t,i));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const i=kf(e,t);oa.test(n)?e.setProperty(Dn(i),n.replace(oa,""),"important"):e[i]=n}}const aa=["Webkit","Moz","ms"],Fs={};function kf(e,t){const n=Fs[t];if(n)return n;let i=bt(t);if(i!=="filter"&&i in e)return Fs[t]=i;i=fs(i);for(let r=0;r<aa.length;r++){const s=aa[r]+i;if(s in e)return Fs[t]=s}return t}const ca="http://www.w3.org/1999/xlink";function $f(e,t,n,i,r){if(i&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(ca,t.slice(6,t.length)):e.setAttributeNS(ca,t,n);else{const s=Du(t);n==null||s&&!bc(n)?e.removeAttribute(t):e.setAttribute(t,s?"":n)}}function jf(e,t,n,i,r,s,o){if(t==="innerHTML"||t==="textContent"){i&&o(i,r,s),e[t]=n??"";return}const c=e.tagName;if(t==="value"&&c!=="PROGRESS"&&!c.includes("-")){e._value=n;const l=c==="OPTION"?e.getAttribute("value"):e.value,u=n??"";l!==u&&(e.value=u),n==null&&e.removeAttribute(t);return}let a=!1;if(n===""||n==null){const l=typeof e[t];l==="boolean"?n=bc(n):n==null&&l==="string"?(n="",a=!0):l==="number"&&(n=0,a=!0)}try{e[t]=n}catch{}a&&e.removeAttribute(t)}function If(e,t,n,i){e.addEventListener(t,n,i)}function Mf(e,t,n,i){e.removeEventListener(t,n,i)}const la=Symbol("_vei");function zf(e,t,n,i,r=null){const s=e[la]||(e[la]={}),o=s[t];if(i&&o)o.value=i;else{const[c,a]=Lf(t);if(i){const l=s[t]=Nf(i,r);If(e,c,l,a)}else o&&(Mf(e,c,o,a),s[t]=void 0)}}const ua=/(?:Once|Passive|Capture)$/;function Lf(e){let t;if(ua.test(e)){t={};let i;for(;i=e.match(ua);)e=e.slice(0,e.length-i[0].length),t[i[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Dn(e.slice(2)),t]}let Bs=0;const Df=Promise.resolve(),Uf=()=>Bs||(Df.then(()=>Bs=0),Bs=Date.now());function Nf(e,t){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;ot(Ff(i,n.value),t,5,[i])};return n.value=e,n.attached=Uf(),n}function Ff(e,t){if(B(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(i=>r=>!r._stopped&&i&&i(r))}else return t}const ha=/^on[a-z]/,Bf=(e,t,n,i,r=!1,s,o,c,a)=>{t==="class"?Cf(e,i,r):t==="style"?Pf(e,n,i):cs(t)?qr(t)||zf(e,t,n,i,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Hf(e,t,i,r))?jf(e,t,i,s,o,c,a):(t==="true-value"?e._trueValue=i:t==="false-value"&&(e._falseValue=i),$f(e,t,i,r))};function Hf(e,t,n,i){return i?!!(t==="innerHTML"||t==="textContent"||t in e&&ha.test(t)&&W(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||ha.test(t)&&_e(n)?!1:t in e}const Wf=["ctrl","shift","alt","meta"],qf={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Wf.some(n=>e[`${n}Key`]&&!t.includes(n))},Kf=(e,t)=>(n,...i)=>{for(let r=0;r<t.length;r++){const s=qf[t[r]];if(s&&s(n,t))return}return e(n,...i)},Vf=$e({patchProp:Bf},Of);let fa;function Jf(){return fa||(fa=nf(Vf))}const Xf=(...e)=>{const t=Jf().createApp(...e),{mount:n}=t;return t.mount=i=>{const r=Yf(i);if(!r)return;const s=t._component;!W(s)&&!s.render&&!s.template&&(s.template=r.innerHTML),r.innerHTML="";const o=n(r,!1,r instanceof SVGElement);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},t};function Yf(e){return _e(e)?document.querySelector(e):e}var Gf=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let ml;const Rs=e=>ml=e,gl=Symbol();function Rr(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var oi;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(oi||(oi={}));function Qf(){const e=_c(!0),t=e.run(()=>Te({}));let n=[],i=[];const r=ps({install(s){Rs(r),r._a=s,s.provide(gl,r),s.config.globalProperties.$pinia=r,i.forEach(o=>n.push(o)),i=[]},use(s){return!this._a&&!Gf?i.push(s):n.push(s),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return r}const vl=()=>{};function da(e,t,n,i=vl){e.push(t);const r=()=>{const s=e.indexOf(t);s>-1&&(e.splice(s,1),i())};return!n&&Ec()&&Nu(r),r}function vn(e,...t){e.slice().forEach(n=>{n(...t)})}const Zf=e=>e();function xr(e,t){e instanceof Map&&t instanceof Map&&t.forEach((n,i)=>e.set(i,n)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const i=t[n],r=e[n];Rr(r)&&Rr(i)&&e.hasOwnProperty(n)&&!ye(i)&&!Kt(i)?e[n]=xr(r,i):e[n]=i}return e}const ed=Symbol();function td(e){return!Rr(e)||!e.hasOwnProperty(ed)}const{assign:Ut}=Object;function nd(e){return!!(ye(e)&&e.effect)}function id(e,t,n,i){const{state:r,actions:s,getters:o}=t,c=n.state.value[e];let a;function l(){c||(n.state.value[e]=r?r():{});const u=hh(n.state.value[e]);return Ut(u,s,Object.keys(o||{}).reduce((h,f)=>(h[f]=ps(Ve(()=>{Rs(n);const p=n._s.get(e);return o[f].call(p,p)})),h),{}))}return a=bl(e,l,t,n,i,!0),a}function bl(e,t,n={},i,r,s){let o;const c=Ut({actions:{}},n),a={deep:!0};let l,u,h=[],f=[],p;const g=i.state.value[e];!s&&!g&&(i.state.value[e]={}),Te({});let v;function E(K){let V;l=u=!1,typeof K=="function"?(K(i.state.value[e]),V={type:oi.patchFunction,storeId:e,events:p}):(xr(i.state.value[e],K),V={type:oi.patchObject,payload:K,storeId:e,events:p});const pe=v=Symbol();no().then(()=>{v===pe&&(l=!0)}),u=!0,vn(h,V,i.state.value[e])}const x=s?function(){const{state:V}=n,pe=V?V():{};this.$patch(we=>{Ut(we,pe)})}:vl;function C(){o.stop(),h=[],f=[],i._s.delete(e)}function I(K,V){return function(){Rs(i);const pe=Array.from(arguments),we=[],He=[];function Xe(se){we.push(se)}function Gt(se){He.push(se)}vn(f,{args:pe,name:K,store:J,after:Xe,onError:Gt});let Ye;try{Ye=V.apply(this&&this.$id===e?this:J,pe)}catch(se){throw vn(He,se),se}return Ye instanceof Promise?Ye.then(se=>(vn(we,se),se)).catch(se=>(vn(He,se),Promise.reject(se))):(vn(we,Ye),Ye)}}const T={_p:i,$id:e,$onAction:da.bind(null,f),$patch:E,$reset:x,$subscribe(K,V={}){const pe=da(h,K,V.detached,()=>we()),we=o.run(()=>ln(()=>i.state.value[e],He=>{(V.flush==="sync"?u:l)&&K({storeId:e,type:oi.direct,events:p},He)},Ut({},a,V)));return pe},$dispose:C},J=Fn(T);i._s.set(e,J);const de=(i._a&&i._a.runWithContext||Zf)(()=>i._e.run(()=>(o=_c()).run(t)));for(const K in de){const V=de[K];if(ye(V)&&!nd(V)||Kt(V))s||(g&&td(V)&&(ye(V)?V.value=g[K]:xr(V,g[K])),i.state.value[e][K]=V);else if(typeof V=="function"){const pe=I(K,V);de[K]=pe,c.actions[K]=V}}return Ut(J,de),Ut(ee(J),de),Object.defineProperty(J,"$state",{get:()=>i.state.value[e],set:K=>{E(V=>{Ut(V,K)})}}),i._p.forEach(K=>{Ut(J,o.run(()=>K({store:J,app:i._a,pinia:i,options:c})))}),g&&s&&n.hydrate&&n.hydrate(J.$state,g),l=!0,u=!0,J}function sd(e,t,n){let i,r;const s=typeof t=="function";typeof e=="string"?(i=e,r=s?n:t):(r=e,i=e.id);function o(c,a){const l=Yh();return c=c||(l?at(gl,null):null),c&&Rs(c),c=ml,c._s.has(i)||(s?bl(i,t,r,c):id(i,r,c)),c._s.get(i)}return o.$id=i,o}/*!
  * vue-router v4.2.5
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const Rn=typeof window<"u";function rd(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const ae=Object.assign;function Hs(e,t){const n={};for(const i in t){const r=t[i];n[i]=ct(r)?r.map(e):e(r)}return n}const ai=()=>{},ct=Array.isArray,od=/\/$/,ad=e=>e.replace(od,"");function Ws(e,t,n="/"){let i,r={},s="",o="";const c=t.indexOf("#");let a=t.indexOf("?");return c<a&&c>=0&&(a=-1),a>-1&&(i=t.slice(0,a),s=t.slice(a+1,c>-1?c:t.length),r=e(s)),c>-1&&(i=i||t.slice(0,c),o=t.slice(c,t.length)),i=hd(i??t,n),{fullPath:i+(s&&"?")+s+o,path:i,query:r,hash:o}}function cd(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function pa(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function ld(e,t,n){const i=t.matched.length-1,r=n.matched.length-1;return i>-1&&i===r&&kn(t.matched[i],n.matched[r])&&wl(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function kn(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function wl(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!ud(e[n],t[n]))return!1;return!0}function ud(e,t){return ct(e)?ma(e,t):ct(t)?ma(t,e):e===t}function ma(e,t){return ct(t)?e.length===t.length&&e.every((n,i)=>n===t[i]):e.length===1&&e[0]===t}function hd(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),i=e.split("/"),r=i[i.length-1];(r===".."||r===".")&&i.push("");let s=n.length-1,o,c;for(o=0;o<i.length;o++)if(c=i[o],c!==".")if(c==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+i.slice(o-(o===i.length?1:0)).join("/")}var wi;(function(e){e.pop="pop",e.push="push"})(wi||(wi={}));var ci;(function(e){e.back="back",e.forward="forward",e.unknown=""})(ci||(ci={}));function fd(e){if(!e)if(Rn){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),ad(e)}const dd=/^[^#]+#/;function pd(e,t){return e.replace(dd,"#")+t}function md(e,t){const n=document.documentElement.getBoundingClientRect(),i=e.getBoundingClientRect();return{behavior:t.behavior,left:i.left-n.left-(t.left||0),top:i.top-n.top-(t.top||0)}}const xs=()=>({left:window.pageXOffset,top:window.pageYOffset});function gd(e){let t;if("el"in e){const n=e.el,i=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;t=md(r,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function ga(e,t){return(history.state?history.state.position-t:-1)+e}const Sr=new Map;function vd(e,t){Sr.set(e,t)}function bd(e){const t=Sr.get(e);return Sr.delete(e),t}let wd=()=>location.protocol+"//"+location.host;function yl(e,t){const{pathname:n,search:i,hash:r}=t,s=e.indexOf("#");if(s>-1){let c=r.includes(e.slice(s))?e.slice(s).length:1,a=r.slice(c);return a[0]!=="/"&&(a="/"+a),pa(a,"")}return pa(n,e)+i+r}function yd(e,t,n,i){let r=[],s=[],o=null;const c=({state:f})=>{const p=yl(e,location),g=n.value,v=t.value;let E=0;if(f){if(n.value=p,t.value=f,o&&o===g){o=null;return}E=v?f.position-v.position:0}else i(p);r.forEach(x=>{x(n.value,g,{delta:E,type:wi.pop,direction:E?E>0?ci.forward:ci.back:ci.unknown})})};function a(){o=n.value}function l(f){r.push(f);const p=()=>{const g=r.indexOf(f);g>-1&&r.splice(g,1)};return s.push(p),p}function u(){const{history:f}=window;f.state&&f.replaceState(ae({},f.state,{scroll:xs()}),"")}function h(){for(const f of s)f();s=[],window.removeEventListener("popstate",c),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",c),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:a,listen:l,destroy:h}}function va(e,t,n,i=!1,r=!1){return{back:e,current:t,forward:n,replaced:i,position:window.history.length,scroll:r?xs():null}}function _d(e){const{history:t,location:n}=window,i={value:yl(e,n)},r={value:t.state};r.value||s(i.value,{back:null,current:i.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function s(a,l,u){const h=e.indexOf("#"),f=h>-1?(n.host&&document.querySelector("base")?e:e.slice(h))+a:wd()+e+a;try{t[u?"replaceState":"pushState"](l,"",f),r.value=l}catch(p){console.error(p),n[u?"replace":"assign"](f)}}function o(a,l){const u=ae({},t.state,va(r.value.back,a,r.value.forward,!0),l,{position:r.value.position});s(a,u,!0),i.value=a}function c(a,l){const u=ae({},r.value,t.state,{forward:a,scroll:xs()});s(u.current,u,!0);const h=ae({},va(i.value,a,null),{position:u.position+1},l);s(a,h,!1),i.value=a}return{location:i,state:r,push:c,replace:o}}function Ed(e){e=fd(e);const t=_d(e),n=yd(e,t.state,t.location,t.replace);function i(s,o=!0){o||n.pauseListeners(),history.go(s)}const r=ae({location:"",base:e,go:i,createHref:pd.bind(null,e)},t,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>t.state.value}),r}function Rd(e){return typeof e=="string"||e&&typeof e=="object"}function _l(e){return typeof e=="string"||typeof e=="symbol"}const zt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},El=Symbol("");var ba;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(ba||(ba={}));function $n(e,t){return ae(new Error,{type:e,[El]:!0},t)}function Rt(e,t){return e instanceof Error&&El in e&&(t==null||!!(e.type&t))}const wa="[^/]+?",xd={sensitive:!1,strict:!1,start:!0,end:!0},Sd=/[.+*?^${}()[\]/\\]/g;function Ad(e,t){const n=ae({},xd,t),i=[];let r=n.start?"^":"";const s=[];for(const l of e){const u=l.length?[]:[90];n.strict&&!l.length&&(r+="/");for(let h=0;h<l.length;h++){const f=l[h];let p=40+(n.sensitive?.25:0);if(f.type===0)h||(r+="/"),r+=f.value.replace(Sd,"\\$&"),p+=40;else if(f.type===1){const{value:g,repeatable:v,optional:E,regexp:x}=f;s.push({name:g,repeatable:v,optional:E});const C=x||wa;if(C!==wa){p+=10;try{new RegExp(`(${C})`)}catch(T){throw new Error(`Invalid custom RegExp for param "${g}" (${C}): `+T.message)}}let I=v?`((?:${C})(?:/(?:${C}))*)`:`(${C})`;h||(I=E&&l.length<2?`(?:/${I})`:"/"+I),E&&(I+="?"),r+=I,p+=20,E&&(p+=-8),v&&(p+=-20),C===".*"&&(p+=-50)}u.push(p)}i.push(u)}if(n.strict&&n.end){const l=i.length-1;i[l][i[l].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&(r+="(?:/|$)");const o=new RegExp(r,n.sensitive?"":"i");function c(l){const u=l.match(o),h={};if(!u)return null;for(let f=1;f<u.length;f++){const p=u[f]||"",g=s[f-1];h[g.name]=p&&g.repeatable?p.split("/"):p}return h}function a(l){let u="",h=!1;for(const f of e){(!h||!u.endsWith("/"))&&(u+="/"),h=!1;for(const p of f)if(p.type===0)u+=p.value;else if(p.type===1){const{value:g,repeatable:v,optional:E}=p,x=g in l?l[g]:"";if(ct(x)&&!v)throw new Error(`Provided param "${g}" is an array but it is not repeatable (* or + modifiers)`);const C=ct(x)?x.join("/"):x;if(!C)if(E)f.length<2&&(u.endsWith("/")?u=u.slice(0,-1):h=!0);else throw new Error(`Missing required param "${g}"`);u+=C}}return u||"/"}return{re:o,score:i,keys:s,parse:c,stringify:a}}function Od(e,t){let n=0;for(;n<e.length&&n<t.length;){const i=t[n]-e[n];if(i)return i;n++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function Td(e,t){let n=0;const i=e.score,r=t.score;for(;n<i.length&&n<r.length;){const s=Od(i[n],r[n]);if(s)return s;n++}if(Math.abs(r.length-i.length)===1){if(ya(i))return 1;if(ya(r))return-1}return r.length-i.length}function ya(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Cd={type:0,value:""},Pd=/[a-zA-Z0-9_]/;function kd(e){if(!e)return[[]];if(e==="/")return[[Cd]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(p){throw new Error(`ERR (${n})/"${l}": ${p}`)}let n=0,i=n;const r=[];let s;function o(){s&&r.push(s),s=[]}let c=0,a,l="",u="";function h(){l&&(n===0?s.push({type:0,value:l}):n===1||n===2||n===3?(s.length>1&&(a==="*"||a==="+")&&t(`A repeatable param (${l}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:l,regexp:u,repeatable:a==="*"||a==="+",optional:a==="*"||a==="?"})):t("Invalid state to consume buffer"),l="")}function f(){l+=a}for(;c<e.length;){if(a=e[c++],a==="\\"&&n!==2){i=n,n=4;continue}switch(n){case 0:a==="/"?(l&&h(),o()):a===":"?(h(),n=1):f();break;case 4:f(),n=i;break;case 1:a==="("?n=2:Pd.test(a)?f():(h(),n=0,a!=="*"&&a!=="?"&&a!=="+"&&c--);break;case 2:a===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+a:n=3:u+=a;break;case 3:h(),n=0,a!=="*"&&a!=="?"&&a!=="+"&&c--,u="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${l}"`),h(),o(),r}function $d(e,t,n){const i=Ad(kd(e.path),n),r=ae(i,{record:e,parent:t,children:[],alias:[]});return t&&!r.record.aliasOf==!t.record.aliasOf&&t.children.push(r),r}function jd(e,t){const n=[],i=new Map;t=Ra({strict:!1,end:!0,sensitive:!1},t);function r(u){return i.get(u)}function s(u,h,f){const p=!f,g=Id(u);g.aliasOf=f&&f.record;const v=Ra(t,u),E=[g];if("alias"in u){const I=typeof u.alias=="string"?[u.alias]:u.alias;for(const T of I)E.push(ae({},g,{components:f?f.record.components:g.components,path:T,aliasOf:f?f.record:g}))}let x,C;for(const I of E){const{path:T}=I;if(h&&T[0]!=="/"){const J=h.record.path,ve=J[J.length-1]==="/"?"":"/";I.path=h.record.path+(T&&ve+T)}if(x=$d(I,h,v),f?f.alias.push(x):(C=C||x,C!==x&&C.alias.push(x),p&&u.name&&!Ea(x)&&o(u.name)),g.children){const J=g.children;for(let ve=0;ve<J.length;ve++)s(J[ve],x,f&&f.children[ve])}f=f||x,(x.record.components&&Object.keys(x.record.components).length||x.record.name||x.record.redirect)&&a(x)}return C?()=>{o(C)}:ai}function o(u){if(_l(u)){const h=i.get(u);h&&(i.delete(u),n.splice(n.indexOf(h),1),h.children.forEach(o),h.alias.forEach(o))}else{const h=n.indexOf(u);h>-1&&(n.splice(h,1),u.record.name&&i.delete(u.record.name),u.children.forEach(o),u.alias.forEach(o))}}function c(){return n}function a(u){let h=0;for(;h<n.length&&Td(u,n[h])>=0&&(u.record.path!==n[h].record.path||!Rl(u,n[h]));)h++;n.splice(h,0,u),u.record.name&&!Ea(u)&&i.set(u.record.name,u)}function l(u,h){let f,p={},g,v;if("name"in u&&u.name){if(f=i.get(u.name),!f)throw $n(1,{location:u});v=f.record.name,p=ae(_a(h.params,f.keys.filter(C=>!C.optional).map(C=>C.name)),u.params&&_a(u.params,f.keys.map(C=>C.name))),g=f.stringify(p)}else if("path"in u)g=u.path,f=n.find(C=>C.re.test(g)),f&&(p=f.parse(g),v=f.record.name);else{if(f=h.name?i.get(h.name):n.find(C=>C.re.test(h.path)),!f)throw $n(1,{location:u,currentLocation:h});v=f.record.name,p=ae({},h.params,u.params),g=f.stringify(p)}const E=[];let x=f;for(;x;)E.unshift(x.record),x=x.parent;return{name:v,path:g,params:p,matched:E,meta:zd(E)}}return e.forEach(u=>s(u)),{addRoute:s,resolve:l,removeRoute:o,getRoutes:c,getRecordMatcher:r}}function _a(e,t){const n={};for(const i of t)i in e&&(n[i]=e[i]);return n}function Id(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:Md(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function Md(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const i in e.components)t[i]=typeof n=="object"?n[i]:n;return t}function Ea(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function zd(e){return e.reduce((t,n)=>ae(t,n.meta),{})}function Ra(e,t){const n={};for(const i in e)n[i]=i in t?t[i]:e[i];return n}function Rl(e,t){return t.children.some(n=>n===e||Rl(e,n))}const xl=/#/g,Ld=/&/g,Dd=/\//g,Ud=/=/g,Nd=/\?/g,Sl=/\+/g,Fd=/%5B/g,Bd=/%5D/g,Al=/%5E/g,Hd=/%60/g,Ol=/%7B/g,Wd=/%7C/g,Tl=/%7D/g,qd=/%20/g;function fo(e){return encodeURI(""+e).replace(Wd,"|").replace(Fd,"[").replace(Bd,"]")}function Kd(e){return fo(e).replace(Ol,"{").replace(Tl,"}").replace(Al,"^")}function Ar(e){return fo(e).replace(Sl,"%2B").replace(qd,"+").replace(xl,"%23").replace(Ld,"%26").replace(Hd,"`").replace(Ol,"{").replace(Tl,"}").replace(Al,"^")}function Vd(e){return Ar(e).replace(Ud,"%3D")}function Jd(e){return fo(e).replace(xl,"%23").replace(Nd,"%3F")}function Xd(e){return e==null?"":Jd(e).replace(Dd,"%2F")}function os(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function Yd(e){const t={};if(e===""||e==="?")return t;const i=(e[0]==="?"?e.slice(1):e).split("&");for(let r=0;r<i.length;++r){const s=i[r].replace(Sl," "),o=s.indexOf("="),c=os(o<0?s:s.slice(0,o)),a=o<0?null:os(s.slice(o+1));if(c in t){let l=t[c];ct(l)||(l=t[c]=[l]),l.push(a)}else t[c]=a}return t}function xa(e){let t="";for(let n in e){const i=e[n];if(n=Vd(n),i==null){i!==void 0&&(t+=(t.length?"&":"")+n);continue}(ct(i)?i.map(s=>s&&Ar(s)):[i&&Ar(i)]).forEach(s=>{s!==void 0&&(t+=(t.length?"&":"")+n,s!=null&&(t+="="+s))})}return t}function Gd(e){const t={};for(const n in e){const i=e[n];i!==void 0&&(t[n]=ct(i)?i.map(r=>r==null?null:""+r):i==null?i:""+i)}return t}const Qd=Symbol(""),Sa=Symbol(""),Ss=Symbol(""),Cl=Symbol(""),Or=Symbol("");function Xn(){let e=[];function t(i){return e.push(i),()=>{const r=e.indexOf(i);r>-1&&e.splice(r,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function Ft(e,t,n,i,r){const s=i&&(i.enterCallbacks[r]=i.enterCallbacks[r]||[]);return()=>new Promise((o,c)=>{const a=h=>{h===!1?c($n(4,{from:n,to:t})):h instanceof Error?c(h):Rd(h)?c($n(2,{from:t,to:h})):(s&&i.enterCallbacks[r]===s&&typeof h=="function"&&s.push(h),o())},l=e.call(i&&i.instances[r],t,n,a);let u=Promise.resolve(l);e.length<3&&(u=u.then(a)),u.catch(h=>c(h))})}function qs(e,t,n,i){const r=[];for(const s of e)for(const o in s.components){let c=s.components[o];if(!(t!=="beforeRouteEnter"&&!s.instances[o]))if(Zd(c)){const l=(c.__vccOpts||c)[t];l&&r.push(Ft(l,n,i,s,o))}else{let a=c();r.push(()=>a.then(l=>{if(!l)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${s.path}"`));const u=rd(l)?l.default:l;s.components[o]=u;const f=(u.__vccOpts||u)[t];return f&&Ft(f,n,i,s,o)()}))}}return r}function Zd(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Aa(e){const t=at(Ss),n=at(Cl),i=Ve(()=>t.resolve(le(e.to))),r=Ve(()=>{const{matched:a}=i.value,{length:l}=a,u=a[l-1],h=n.matched;if(!u||!h.length)return-1;const f=h.findIndex(kn.bind(null,u));if(f>-1)return f;const p=Oa(a[l-2]);return l>1&&Oa(u)===p&&h[h.length-1].path!==p?h.findIndex(kn.bind(null,a[l-2])):f}),s=Ve(()=>r.value>-1&&ip(n.params,i.value.params)),o=Ve(()=>r.value>-1&&r.value===n.matched.length-1&&wl(n.params,i.value.params));function c(a={}){return np(a)?t[le(e.replace)?"replace":"push"](le(e.to)).catch(ai):Promise.resolve()}return{route:i,href:Ve(()=>i.value.href),isActive:s,isExactActive:o,navigate:c}}const ep=Oe({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Aa,setup(e,{slots:t}){const n=Fn(Aa(e)),{options:i}=at(Ss),r=Ve(()=>({[Ta(e.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[Ta(e.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=t.default&&t.default(n);return e.custom?s:dl("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},s)}}}),tp=ep;function np(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function ip(e,t){for(const n in t){const i=t[n],r=e[n];if(typeof i=="string"){if(i!==r)return!1}else if(!ct(r)||r.length!==i.length||i.some((s,o)=>s!==r[o]))return!1}return!0}function Oa(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Ta=(e,t,n)=>e??t??n,sp=Oe({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const i=at(Or),r=Ve(()=>e.route||i.value),s=at(Sa,0),o=Ve(()=>{let l=le(s);const{matched:u}=r.value;let h;for(;(h=u[l])&&!h.components;)l++;return l}),c=Ve(()=>r.value.matched[o.value]);Ki(Sa,Ve(()=>o.value+1)),Ki(Qd,c),Ki(Or,r);const a=Te();return ln(()=>[a.value,c.value,e.name],([l,u,h],[f,p,g])=>{u&&(u.instances[h]=l,p&&p!==u&&l&&l===f&&(u.leaveGuards.size||(u.leaveGuards=p.leaveGuards),u.updateGuards.size||(u.updateGuards=p.updateGuards))),l&&u&&(!p||!kn(u,p)||!f)&&(u.enterCallbacks[h]||[]).forEach(v=>v(l))},{flush:"post"}),()=>{const l=r.value,u=e.name,h=c.value,f=h&&h.components[u];if(!f)return Ca(n.default,{Component:f,route:l});const p=h.props[u],g=p?p===!0?l.params:typeof p=="function"?p(l):p:null,E=dl(f,ae({},g,t,{onVnodeUnmounted:x=>{x.component.isUnmounted&&(h.instances[u]=null)},ref:a}));return Ca(n.default,{Component:E,route:l})||E}}});function Ca(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const Pl=sp;function rp(e){const t=jd(e.routes,e),n=e.parseQuery||Yd,i=e.stringifyQuery||xa,r=e.history,s=Xn(),o=Xn(),c=Xn(),a=ch(zt);let l=zt;Rn&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=Hs.bind(null,_=>""+_),h=Hs.bind(null,Xd),f=Hs.bind(null,os);function p(_,j){let k,L;return _l(_)?(k=t.getRecordMatcher(_),L=j):L=_,t.addRoute(L,k)}function g(_){const j=t.getRecordMatcher(_);j&&t.removeRoute(j)}function v(){return t.getRoutes().map(_=>_.record)}function E(_){return!!t.getRecordMatcher(_)}function x(_,j){if(j=ae({},j||a.value),typeof _=="string"){const b=Ws(n,_,j.path),w=t.resolve({path:b.path},j),R=r.createHref(b.fullPath);return ae(b,w,{params:f(w.params),hash:os(b.hash),redirectedFrom:void 0,href:R})}let k;if("path"in _)k=ae({},_,{path:Ws(n,_.path,j.path).path});else{const b=ae({},_.params);for(const w in b)b[w]==null&&delete b[w];k=ae({},_,{params:h(b)}),j.params=h(j.params)}const L=t.resolve(k,j),oe=_.hash||"";L.params=u(f(L.params));const d=cd(i,ae({},_,{hash:Kd(oe),path:L.path})),m=r.createHref(d);return ae({fullPath:d,hash:oe,query:i===xa?Gd(_.query):_.query||{}},L,{redirectedFrom:void 0,href:m})}function C(_){return typeof _=="string"?Ws(n,_,a.value.path):ae({},_)}function I(_,j){if(l!==_)return $n(8,{from:j,to:_})}function T(_){return de(_)}function J(_){return T(ae(C(_),{replace:!0}))}function ve(_){const j=_.matched[_.matched.length-1];if(j&&j.redirect){const{redirect:k}=j;let L=typeof k=="function"?k(_):k;return typeof L=="string"&&(L=L.includes("?")||L.includes("#")?L=C(L):{path:L},L.params={}),ae({query:_.query,hash:_.hash,params:"path"in L?{}:_.params},L)}}function de(_,j){const k=l=x(_),L=a.value,oe=_.state,d=_.force,m=_.replace===!0,b=ve(k);if(b)return de(ae(C(b),{state:typeof b=="object"?ae({},oe,b.state):oe,force:d,replace:m}),j||k);const w=k;w.redirectedFrom=j;let R;return!d&&ld(i,L,k)&&(R=$n(16,{to:w,from:L}),ut(L,L,!0,!1)),(R?Promise.resolve(R):pe(w,L)).catch(S=>Rt(S)?Rt(S,2)?S:It(S):re(S,w,L)).then(S=>{if(S){if(Rt(S,2))return de(ae({replace:m},C(S.to),{state:typeof S.to=="object"?ae({},oe,S.to.state):oe,force:d}),j||w)}else S=He(w,L,!0,m,oe);return we(w,L,S),S})}function K(_,j){const k=I(_,j);return k?Promise.reject(k):Promise.resolve()}function V(_){const j=pn.values().next().value;return j&&typeof j.runWithContext=="function"?j.runWithContext(_):_()}function pe(_,j){let k;const[L,oe,d]=op(_,j);k=qs(L.reverse(),"beforeRouteLeave",_,j);for(const b of L)b.leaveGuards.forEach(w=>{k.push(Ft(w,_,j))});const m=K.bind(null,_,j);return k.push(m),je(k).then(()=>{k=[];for(const b of s.list())k.push(Ft(b,_,j));return k.push(m),je(k)}).then(()=>{k=qs(oe,"beforeRouteUpdate",_,j);for(const b of oe)b.updateGuards.forEach(w=>{k.push(Ft(w,_,j))});return k.push(m),je(k)}).then(()=>{k=[];for(const b of d)if(b.beforeEnter)if(ct(b.beforeEnter))for(const w of b.beforeEnter)k.push(Ft(w,_,j));else k.push(Ft(b.beforeEnter,_,j));return k.push(m),je(k)}).then(()=>(_.matched.forEach(b=>b.enterCallbacks={}),k=qs(d,"beforeRouteEnter",_,j),k.push(m),je(k))).then(()=>{k=[];for(const b of o.list())k.push(Ft(b,_,j));return k.push(m),je(k)}).catch(b=>Rt(b,8)?b:Promise.reject(b))}function we(_,j,k){c.list().forEach(L=>V(()=>L(_,j,k)))}function He(_,j,k,L,oe){const d=I(_,j);if(d)return d;const m=j===zt,b=Rn?history.state:{};k&&(L||m?r.replace(_.fullPath,ae({scroll:m&&b&&b.scroll},oe)):r.push(_.fullPath,oe)),a.value=_,ut(_,j,k,m),It()}let Xe;function Gt(){Xe||(Xe=r.listen((_,j,k)=>{if(!Ci.listening)return;const L=x(_),oe=ve(L);if(oe){de(ae(oe,{replace:!0}),L).catch(ai);return}l=L;const d=a.value;Rn&&vd(ga(d.fullPath,k.delta),xs()),pe(L,d).catch(m=>Rt(m,12)?m:Rt(m,2)?(de(m.to,L).then(b=>{Rt(b,20)&&!k.delta&&k.type===wi.pop&&r.go(-1,!1)}).catch(ai),Promise.reject()):(k.delta&&r.go(-k.delta,!1),re(m,L,d))).then(m=>{m=m||He(L,d,!1),m&&(k.delta&&!Rt(m,8)?r.go(-k.delta,!1):k.type===wi.pop&&Rt(m,20)&&r.go(-1,!1)),we(L,d,m)}).catch(ai)}))}let Ye=Xn(),se=Xn(),ue;function re(_,j,k){It(_);const L=se.list();return L.length?L.forEach(oe=>oe(_,j,k)):console.error(_),Promise.reject(_)}function Et(){return ue&&a.value!==zt?Promise.resolve():new Promise((_,j)=>{Ye.add([_,j])})}function It(_){return ue||(ue=!_,Gt(),Ye.list().forEach(([j,k])=>_?k(_):j()),Ye.reset()),_}function ut(_,j,k,L){const{scrollBehavior:oe}=e;if(!Rn||!oe)return Promise.resolve();const d=!k&&bd(ga(_.fullPath,0))||(L||!k)&&history.state&&history.state.scroll||null;return no().then(()=>oe(_,j,d)).then(m=>m&&gd(m)).catch(m=>re(m,_,j))}const De=_=>r.go(_);let dn;const pn=new Set,Ci={currentRoute:a,listening:!0,addRoute:p,removeRoute:g,hasRoute:E,getRoutes:v,resolve:x,options:e,push:T,replace:J,go:De,back:()=>De(-1),forward:()=>De(1),beforeEach:s.add,beforeResolve:o.add,afterEach:c.add,onError:se.add,isReady:Et,install(_){const j=this;_.component("RouterLink",tp),_.component("RouterView",Pl),_.config.globalProperties.$router=j,Object.defineProperty(_.config.globalProperties,"$route",{enumerable:!0,get:()=>le(a)}),Rn&&!dn&&a.value===zt&&(dn=!0,T(r.location).catch(oe=>{}));const k={};for(const oe in zt)Object.defineProperty(k,oe,{get:()=>a.value[oe],enumerable:!0});_.provide(Ss,j),_.provide(Cl,jc(k)),_.provide(Or,a);const L=_.unmount;pn.add(_),_.unmount=function(){pn.delete(_),pn.size<1&&(l=zt,Xe&&Xe(),Xe=null,a.value=zt,dn=!1,ue=!1),L()}}};function je(_){return _.reduce((j,k)=>j.then(()=>V(k)),Promise.resolve())}return Ci}function op(e,t){const n=[],i=[],r=[],s=Math.max(t.matched.length,e.matched.length);for(let o=0;o<s;o++){const c=t.matched[o];c&&(e.matched.find(l=>kn(l,c))?i.push(c):n.push(c));const a=e.matched[o];a&&(t.matched.find(l=>kn(l,a))||r.push(a))}return[n,i,r]}function ap(){return at(Ss)}const cp="modulepreload",lp=function(e){return"/"+e},Pa={},xi=function(t,n,i){if(!n||n.length===0)return t();const r=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=lp(s),s in Pa)return;Pa[s]=!0;const o=s.endsWith(".css"),c=o?'[rel="stylesheet"]':"";if(!!i)for(let u=r.length-1;u>=0;u--){const h=r[u];if(h.href===s&&(!o||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${c}`))return;const l=document.createElement("link");if(l.rel=o?"stylesheet":cp,o||(l.as="script",l.crossOrigin=""),l.href=s,document.head.appendChild(l),o)return new Promise((u,h)=>{l.addEventListener("load",u),l.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>t()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})},up=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>xi(()=>Promise.resolve().then(()=>Si),void 0).then(({default:i})=>i(...n)):t=fetch,(...n)=>t(...n)};class po extends Error{constructor(t,n="FunctionsError",i){super(t),this.name=n,this.context=i}}class hp extends po{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class fp extends po{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class dp extends po{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var pp=globalThis&&globalThis.__awaiter||function(e,t,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function c(u){try{l(i.next(u))}catch(h){o(h)}}function a(u){try{l(i.throw(u))}catch(h){o(h)}}function l(u){u.done?s(u.value):r(u.value).then(c,a)}l((i=i.apply(e,t||[])).next())})};class mp{constructor(t,{headers:n={},customFetch:i}={}){this.url=t,this.headers=n,this.fetch=up(i)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var i;return pp(this,void 0,void 0,function*(){try{const{headers:r,method:s,body:o}=n;let c={},a;o&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",a=o):typeof o=="string"?(c["Content-Type"]="text/plain",a=o):typeof FormData<"u"&&o instanceof FormData?a=o:(c["Content-Type"]="application/json",a=JSON.stringify(o)));const l=yield this.fetch(`${this.url}/${t}`,{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),r),body:a}).catch(p=>{throw new hp(p)}),u=l.headers.get("x-relay-error");if(u&&u==="true")throw new fp(l);if(!l.ok)throw new dp(l);let h=((i=l.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),f;return h==="application/json"?f=yield l.json():h==="application/octet-stream"?f=yield l.blob():h==="multipart/form-data"?f=yield l.formData():f=yield l.text(),{data:f,error:null}}catch(r){return{data:null,error:r}}})}}var ka=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function gp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Tr={exports:{}};(function(e,t){var n=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof ka<"u")return ka;throw new Error("unable to locate global object")},i=n();e.exports=t=i.fetch,i.fetch&&(t.default=i.fetch.bind(i)),t.Headers=i.Headers,t.Request=i.Request,t.Response=i.Response})(Tr,Tr.exports);var mo=Tr.exports;const go=gp(mo),Si=Su({__proto__:null,default:go},[mo]);class vp{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=go:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const i=this.fetch;let r=i(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var o,c,a;let l=null,u=null,h=null,f=s.status,p=s.statusText;if(s.ok){if(this.method!=="HEAD"){const x=await s.text();x===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=x:u=JSON.parse(x))}const v=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),E=(c=s.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");v&&E&&E.length>1&&(h=parseInt(E[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(l={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,h=null,f=406,p="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const v=await s.text();try{l=JSON.parse(v),Array.isArray(l)&&s.status===404&&(u=[],l=null,f=200,p="OK")}catch{s.status===404&&v===""?(f=204,p="No Content"):l={message:v}}if(l&&this.isMaybeSingle&&(!((a=l==null?void 0:l.details)===null||a===void 0)&&a.includes("0 rows"))&&(l=null,f=200,p="OK"),l&&this.shouldThrowOnError)throw l}return{error:l,data:u,count:h,status:f,statusText:p}});return this.shouldThrowOnError||(r=r.catch(s=>{var o,c,a;return{error:{message:`${(o=s==null?void 0:s.name)!==null&&o!==void 0?o:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(c=s==null?void 0:s.stack)!==null&&c!==void 0?c:""}`,hint:"",code:`${(a=s==null?void 0:s.code)!==null&&a!==void 0?a:""}`},data:null,count:null,status:0,statusText:""}})),r.then(t,n)}}class bp extends vp{select(t){let n=!1;const i=(t??"*").split("").map(r=>/\s/.test(r)&&!n?"":(r==='"'&&(n=!n),r)).join("");return this.url.searchParams.set("select",i),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:i,foreignTable:r}={}){const s=r?`${r}.order`:"order",o=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${o?`${o},`:""}${t}.${n?"asc":"desc"}${i===void 0?"":i?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n}={}){const i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,n,{foreignTable:i}={}){const r=typeof i>"u"?"offset":`${i}.offset`,s=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(r,`${t}`),this.url.searchParams.set(s,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:i=!1,buffers:r=!1,wal:s=!1,format:o="text"}={}){const c=[t?"analyze":null,n?"verbose":null,i?"settings":null,r?"buffers":null,s?"wal":null].filter(Boolean).join("|"),a=this.headers.Accept;return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${a}"; options=${c};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}class xn extends bp{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const i=n.map(r=>typeof r=="string"&&new RegExp("[,()]").test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`in.(${i})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:i,type:r}={}){let s="";r==="plain"?s="pl":r==="phrase"?s="ph":r==="websearch"&&(s="w");const o=i===void 0?"":`(${i})`;return this.url.searchParams.append(t,`${s}fts${o}.${n}`),this}match(t){return Object.entries(t).forEach(([n,i])=>{this.url.searchParams.append(n,`eq.${i}`)}),this}not(t,n,i){return this.url.searchParams.append(t,`not.${n}.${i}`),this}or(t,{foreignTable:n}={}){const i=n?`${n}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,n,i){return this.url.searchParams.append(t,`${n}.${i}`),this}}class wp{constructor(t,{headers:n={},schema:i,fetch:r}){this.url=t,this.headers=n,this.schema=i,this.fetch=r}select(t,{head:n=!1,count:i}={}){const r=n?"HEAD":"GET";let s=!1;const o=(t??"*").split("").map(c=>/\s/.test(c)&&!s?"":(c==='"'&&(s=!s),c)).join("");return this.url.searchParams.set("select",o),i&&(this.headers.Prefer=`count=${i}`),new xn({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:i=!0}={}){const r="POST",s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),i||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(t)){const o=t.reduce((c,a)=>c.concat(Object.keys(a)),[]);if(o.length>0){const c=[...new Set(o)].map(a=>`"${a}"`);this.url.searchParams.set("columns",c.join(","))}}return new xn({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:i=!1,count:r,defaultToNull:s=!0}={}){const o="POST",c=[`resolution=${i?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&c.push(this.headers.Prefer),r&&c.push(`count=${r}`),s||c.push("missing=default"),this.headers.Prefer=c.join(","),Array.isArray(t)){const a=t.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(a.length>0){const l=[...new Set(a)].map(u=>`"${u}"`);this.url.searchParams.set("columns",l.join(","))}}return new xn({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const i="PATCH",r=[];return this.headers.Prefer&&r.push(this.headers.Prefer),n&&r.push(`count=${n}`),this.headers.Prefer=r.join(","),new xn({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",i=[];return t&&i.push(`count=${t}`),this.headers.Prefer&&i.unshift(this.headers.Prefer),this.headers.Prefer=i.join(","),new xn({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}const yp="1.8.5",_p={"X-Client-Info":`postgrest-js/${yp}`};class vo{constructor(t,{headers:n={},schema:i,fetch:r}={}){this.url=t,this.headers=Object.assign(Object.assign({},_p),n),this.schemaName=i,this.fetch=r}from(t){const n=new URL(`${this.url}/${t}`);return new wp(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new vo(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:i=!1,count:r}={}){let s;const o=new URL(`${this.url}/rpc/${t}`);let c;i?(s="HEAD",Object.entries(n).forEach(([l,u])=>{o.searchParams.append(l,`${u}`)})):(s="POST",c=n);const a=Object.assign({},this.headers);return r&&(a.Prefer=`count=${r}`),new xn({method:s,url:o,headers:a,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}}var Ks,$a;function Ep(){if($a)return Ks;$a=1;var e=function(){if(typeof self=="object"&&self)return self;if(typeof window=="object"&&window)return window;throw new Error("Unable to resolve global `this`")};return Ks=function(){if(this)return this;if(typeof globalThis=="object"&&globalThis)return globalThis;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return e()}try{return __global__||e()}finally{delete Object.prototype.__global__}}(),Ks}const Rp="websocket",xp="Websocket Client & Server Library implementing the WebSocket protocol as specified in RFC 6455.",Sp=["websocket","websockets","socket","networking","comet","push","RFC-6455","realtime","server","client"],Ap="Brian McKelvey <theturtle32@gmail.com> (https://github.com/theturtle32)",Op=["Iñaki Baz Castillo <ibc@aliax.net> (http://dev.sipdoc.net)"],Tp="1.0.34",Cp={type:"git",url:"https://github.com/theturtle32/WebSocket-Node.git"},Pp="https://github.com/theturtle32/WebSocket-Node",kp={node:">=4.0.0"},$p={bufferutil:"^4.0.1",debug:"^2.2.0","es5-ext":"^0.10.50","typedarray-to-buffer":"^3.1.5","utf-8-validate":"^5.0.2",yaeti:"^0.0.6"},jp={"buffer-equal":"^1.0.0",gulp:"^4.0.2","gulp-jshint":"^2.0.4","jshint-stylish":"^2.2.1",jshint:"^2.0.0",tape:"^4.9.1"},Ip={verbose:!1},Mp={test:"tape test/unit/*.js",gulp:"gulp"},zp="index",Lp={lib:"./lib"},Dp="lib/browser.js",Up="Apache-2.0",Np={name:Rp,description:xp,keywords:Sp,author:Ap,contributors:Op,version:Tp,repository:Cp,homepage:Pp,engines:kp,dependencies:$p,devDependencies:jp,config:Ip,scripts:Mp,main:zp,directories:Lp,browser:Dp,license:Up};var Fp=Np.version,rn;if(typeof globalThis=="object")rn=globalThis;else try{rn=Ep()}catch{}finally{if(!rn&&typeof window<"u"&&(rn=window),!rn)throw new Error("Could not determine global this")}var yi=rn.WebSocket||rn.MozWebSocket,Bp=Fp;function kl(e,t){var n;return t?n=new yi(e,t):n=new yi(e),n}yi&&["CONNECTING","OPEN","CLOSING","CLOSED"].forEach(function(e){Object.defineProperty(kl,e,{get:function(){return yi[e]}})});var Hp={w3cwebsocket:yi?kl:null,version:Bp};const Wp="2.8.4",qp={"X-Client-Info":`realtime-js/${Wp}`},Kp="1.0.0",$l=1e4,Vp=1e3;var li;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(li||(li={}));var qe;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(qe||(qe={}));var nt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(nt||(nt={}));var Cr;(function(e){e.websocket="websocket"})(Cr||(Cr={}));var on;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(on||(on={}));class jl{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}class Jp{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),i=new TextDecoder;return this._decodeBroadcast(t,n,i)}_decodeBroadcast(t,n,i){const r=n.getUint8(1),s=n.getUint8(2);let o=this.HEADER_LENGTH+2;const c=i.decode(t.slice(o,o+r));o=o+r;const a=i.decode(t.slice(o,o+s));o=o+s;const l=JSON.parse(i.decode(t.slice(o,t.byteLength)));return{ref:null,topic:c,event:a,payload:l}}}class Vs{constructor(t,n,i={},r=$l){this.channel=t,this.event=n,this.payload=i,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var i;return this._hasReceived(t)&&n((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(i=>i.status===t).forEach(i=>i.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var ja;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(ja||(ja={}));class ui{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},r=>{const{onJoin:s,onLeave:o,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ui.syncState(this.state,r,s,o),this.pendingDiffs.forEach(a=>{this.state=ui.syncDiff(this.state,a,s,o)}),this.pendingDiffs=[],c()}),this.channel._on(i.diff,{},r=>{const{onJoin:s,onLeave:o,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(r):(this.state=ui.syncDiff(this.state,r,s,o),c())}),this.onJoin((r,s,o)=>{this.channel._trigger("presence",{event:"join",key:r,currentPresences:s,newPresences:o})}),this.onLeave((r,s,o)=>{this.channel._trigger("presence",{event:"leave",key:r,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,i,r){const s=this.cloneDeep(t),o=this.transformState(n),c={},a={};return this.map(s,(l,u)=>{o[l]||(a[l]=u)}),this.map(o,(l,u)=>{const h=s[l];if(h){const f=u.map(E=>E.presence_ref),p=h.map(E=>E.presence_ref),g=u.filter(E=>p.indexOf(E.presence_ref)<0),v=h.filter(E=>f.indexOf(E.presence_ref)<0);g.length>0&&(c[l]=g),v.length>0&&(a[l]=v)}else c[l]=u}),this.syncDiff(s,{joins:c,leaves:a},i,r)}static syncDiff(t,n,i,r){const{joins:s,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return i||(i=()=>{}),r||(r=()=>{}),this.map(s,(c,a)=>{var l;const u=(l=t[c])!==null&&l!==void 0?l:[];if(t[c]=this.cloneDeep(a),u.length>0){const h=t[c].map(p=>p.presence_ref),f=u.filter(p=>h.indexOf(p.presence_ref)<0);t[c].unshift(...f)}i(c,u,a)}),this.map(o,(c,a)=>{let l=t[c];if(!l)return;const u=a.map(h=>h.presence_ref);l=l.filter(h=>u.indexOf(h.presence_ref)<0),t[c]=l,r(c,l,a),l.length===0&&delete t[c]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(i=>n(i,t[i]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,i)=>{const r=t[i];return"metas"in r?n[i]=r.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[i]=r,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var fe;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(fe||(fe={}));const Ia=(e,t,n={})=>{var i;const r=(i=n.skipTypes)!==null&&i!==void 0?i:[];return Object.keys(t).reduce((s,o)=>(s[o]=Xp(o,e,t,r),s),{})},Xp=(e,t,n,i)=>{const r=t.find(c=>c.name===e),s=r==null?void 0:r.type,o=n[e];return s&&!i.includes(s)?Il(s,o):Pr(o)},Il=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return Zp(t,n)}switch(e){case fe.bool:return Yp(t);case fe.float4:case fe.float8:case fe.int2:case fe.int4:case fe.int8:case fe.numeric:case fe.oid:return Gp(t);case fe.json:case fe.jsonb:return Qp(t);case fe.timestamp:return em(t);case fe.abstime:case fe.date:case fe.daterange:case fe.int4range:case fe.int8range:case fe.money:case fe.reltime:case fe.text:case fe.time:case fe.timestamptz:case fe.timetz:case fe.tsrange:case fe.tstzrange:return Pr(t);default:return Pr(t)}},Pr=e=>e,Yp=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Gp=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Qp=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Zp=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,i=e[n];if(e[0]==="{"&&i==="}"){let s;const o=e.slice(1,n);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(c=>Il(t,c))}return e},em=e=>typeof e=="string"?e.replace(" ","T"):e;var Ma;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Ma||(Ma={}));var za;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes"})(za||(za={}));var La;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(La||(La={}));class bo{constructor(t,n={config:{}},i){this.topic=t,this.params=n,this.socket=i,this.bindings={},this.state=qe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""}},n.config),this.timeout=this.socket.timeout,this.joinPush=new Vs(this,nt.join,this.params,this.timeout),this.rejoinTimer=new jl(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=qe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(r=>r.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=qe.closed,this.socket._remove(this)}),this._onError(r=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,r),this.state=qe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=qe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(nt.reply,{},(r,s)=>{this._trigger(this._replyEventName(s),r)}),this.presence=new ui(this),this.broadcastEndpointURL=this._broadcastEndpointURL()}subscribe(t,n=this.timeout){var i,r;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:s,presence:o}}=this.params;this._onError(l=>t&&t("CHANNEL_ERROR",l)),this._onClose(()=>t&&t("CLOSED"));const c={},a={broadcast:s,presence:o,postgres_changes:(r=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(l=>l.filter))!==null&&r!==void 0?r:[]};this.socket.accessToken&&(c.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:a},c)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",({postgres_changes:l})=>{var u;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),l===void 0){t&&t("SUBSCRIBED");return}else{const h=this.bindings.postgres_changes,f=(u=h==null?void 0:h.length)!==null&&u!==void 0?u:0,p=[];for(let g=0;g<f;g++){const v=h[g],{filter:{event:E,schema:x,table:C,filter:I}}=v,T=l&&l[g];if(T&&T.event===E&&T.schema===x&&T.table===C&&T.filter===I)p.push(Object.assign(Object.assign({},v),{id:T.id}));else{this.unsubscribe(),t&&t("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=p,t&&t("SUBSCRIBED");return}}).receive("error",l=>{t&&t("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(l).join(", ")||"error")))}).receive("timeout",()=>{t&&t("TIMED_OUT")})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,i){return this._on(t,n,i)}async send(t,n={}){var i,r;if(!this._canPush()&&t.type==="broadcast"){const{event:s,payload:o}=t,c={method:"POST",headers:{apikey:(i=this.socket.accessToken)!==null&&i!==void 0?i:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o}]})};try{return(await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout)).ok?"ok":"error"}catch(a){return a.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,c,a;const l=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((a=(c=(o=this.params)===null||o===void 0?void 0:o.config)===null||c===void 0?void 0:c.broadcast)===null||a===void 0)&&a.ack)&&s("ok"),l.receive("ok",()=>s("ok")),l.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=qe.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(nt.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(i=>{const r=new Vs(this,nt.leave,{},t);r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})})}_broadcastEndpointURL(){let t=this.socket.endPoint;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"}async _fetchWithTimeout(t,n,i){const r=new AbortController,s=setTimeout(()=>r.abort(),i),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:r.signal}));return clearTimeout(s),o}_push(t,n,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new Vs(this,t,n,i);return this._canPush()?r.send():(r.startTimeout(),this.pushBuffer.push(r)),r}_onMessage(t,n,i){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,i){var r,s;const o=t.toLocaleLowerCase(),{close:c,error:a,leave:l,join:u}=nt;if(i&&[c,a,l,u].indexOf(o)>=0&&i!==this._joinRef())return;let f=this._onMessage(o,n,i);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(r=this.bindings.postgres_changes)===null||r===void 0||r.filter(p=>{var g,v,E;return((g=p.filter)===null||g===void 0?void 0:g.event)==="*"||((E=(v=p.filter)===null||v===void 0?void 0:v.event)===null||E===void 0?void 0:E.toLocaleLowerCase())===o}).map(p=>p.callback(f,i)):(s=this.bindings[o])===null||s===void 0||s.filter(p=>{var g,v,E,x,C,I;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const T=p.id,J=(g=p.filter)===null||g===void 0?void 0:g.event;return T&&((v=n.ids)===null||v===void 0?void 0:v.includes(T))&&(J==="*"||(J==null?void 0:J.toLocaleLowerCase())===((E=n.data)===null||E===void 0?void 0:E.type.toLocaleLowerCase()))}else{const T=(C=(x=p==null?void 0:p.filter)===null||x===void 0?void 0:x.event)===null||C===void 0?void 0:C.toLocaleLowerCase();return T==="*"||T===((I=n==null?void 0:n.event)===null||I===void 0?void 0:I.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof f=="object"&&"ids"in f){const g=f.data,{schema:v,table:E,commit_timestamp:x,type:C,errors:I}=g;f=Object.assign(Object.assign({},{schema:v,table:E,commit_timestamp:x,eventType:C,new:{},old:{},errors:I}),this._getPayloadRecords(g))}p.callback(f,i)})}_isClosed(){return this.state===qe.closed}_isJoined(){return this.state===qe.joined}_isJoining(){return this.state===qe.joining}_isLeaving(){return this.state===qe.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,i){const r=t.toLocaleLowerCase(),s={type:r,filter:n,callback:i};return this.bindings[r]?this.bindings[r].push(s):this.bindings[r]=[s],this}_off(t,n){const i=t.toLocaleLowerCase();return this.bindings[i]=this.bindings[i].filter(r=>{var s;return!(((s=r.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===i&&bo.isEqual(r.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const i in t)if(t[i]!==n[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(nt.close,{},t)}_onError(t){this._on(nt.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=qe.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Ia(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Ia(t.columns,t.old_record)),n}}const tm=()=>{};class nm{constructor(t,n){var i;this.accessToken=null,this.channels=[],this.endPoint="",this.headers=qp,this.params={},this.timeout=$l,this.transport=Hp.w3cwebsocket,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=tm,this.conn=null,this.sendBuffer=[],this.serializer=new Jp,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=s=>{let o;return s?o=s:typeof fetch>"u"?o=(...c)=>xi(()=>Promise.resolve().then(()=>Si),void 0).then(({default:a})=>a(...c)):o=fetch,(...c)=>o(...c)},this.endPoint=`${t}/${Cr.websocket}`,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.transport&&(this.transport=n.transport),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const r=(i=n==null?void 0:n.params)===null||i===void 0?void 0:i.apikey;r&&(this.accessToken=r),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(s,o)=>o(JSON.stringify(s)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new jl(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){this.conn||(this.conn=new this.transport(this._endPointURL(),[],null,this.headers),this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t)))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),t}log(t,n,i){this.logger(t,n,i)}connectionState(){switch(this.conn&&this.conn.readyState){case li.connecting:return on.Connecting;case li.open:return on.Open;case li.closing:return on.Closing;default:return on.Closed}}isConnected(){return this.connectionState()===on.Open}channel(t,n={config:{}}){const i=new bo(`realtime:${t}`,n,this);return this.channels.push(i),i}push(t){const{topic:n,event:i,payload:r,ref:s}=t,o=()=>{this.encode(t,c=>{var a;(a=this.conn)===null||a===void 0||a.send(c)})};this.log("push",`${n} ${i} (${s})`,r),this.isConnected()?o():this.sendBuffer.push(o)}setAuth(t){this.accessToken=t,this.channels.forEach(n=>{t&&n.updateJoinPayload({access_token:t}),n.joinedOnce&&n._isJoined()&&n._push(nt.access_token,{access_token:t})})}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(i=>i.topic===t&&(i._isJoined()||i._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n._joinRef()!==t._joinRef())}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Kp}))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:i,event:r,payload:s,ref:o}=n;(o&&o===this.pendingHeartbeatRef||r===(s==null?void 0:s.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${i} ${r} ${o&&"("+o+")"||""}`,s),this.channels.filter(c=>c._isMember(i)).forEach(c=>c._trigger(r,s,o)),this.stateChangeCallbacks.message.forEach(c=>c(n))})}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(nt.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const i=t.match(/\?/)?"&":"?",r=new URLSearchParams(n);return`${t}${i}${r}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(Vp,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}}class wo extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ie(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class im extends wo{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Da extends wo{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var sm=globalThis&&globalThis.__awaiter||function(e,t,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function c(u){try{l(i.next(u))}catch(h){o(h)}}function a(u){try{l(i.throw(u))}catch(h){o(h)}}function l(u){u.done?s(u.value):r(u.value).then(c,a)}l((i=i.apply(e,t||[])).next())})};const Ml=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>xi(()=>Promise.resolve().then(()=>Si),void 0).then(({default:i})=>i(...n)):t=fetch,(...n)=>t(...n)},rm=()=>sm(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield xi(()=>Promise.resolve().then(()=>Si),void 0)).Response:Response});var Bn=globalThis&&globalThis.__awaiter||function(e,t,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function c(u){try{l(i.next(u))}catch(h){o(h)}}function a(u){try{l(i.throw(u))}catch(h){o(h)}}function l(u){u.done?s(u.value):r(u.value).then(c,a)}l((i=i.apply(e,t||[])).next())})};const Js=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),om=(e,t)=>Bn(void 0,void 0,void 0,function*(){const n=yield rm();e instanceof n?e.json().then(i=>{t(new im(Js(i),e.status||500))}).catch(i=>{t(new Da(Js(i),i))}):t(new Da(Js(e),e))}),am=(e,t,n,i)=>{const r={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r.body=JSON.stringify(i),Object.assign(Object.assign({},r),n))};function As(e,t,n,i,r,s){return Bn(this,void 0,void 0,function*(){return new Promise((o,c)=>{e(n,am(t,i,r,s)).then(a=>{if(!a.ok)throw a;return i!=null&&i.noResolveJson?a:a.json()}).then(a=>o(a)).catch(a=>om(a,c))})})}function kr(e,t,n,i){return Bn(this,void 0,void 0,function*(){return As(e,"GET",t,n,i)})}function Bt(e,t,n,i,r){return Bn(this,void 0,void 0,function*(){return As(e,"POST",t,i,r,n)})}function cm(e,t,n,i,r){return Bn(this,void 0,void 0,function*(){return As(e,"PUT",t,i,r,n)})}function zl(e,t,n,i,r){return Bn(this,void 0,void 0,function*(){return As(e,"DELETE",t,i,r,n)})}var Ge=globalThis&&globalThis.__awaiter||function(e,t,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function c(u){try{l(i.next(u))}catch(h){o(h)}}function a(u){try{l(i.throw(u))}catch(h){o(h)}}function l(u){u.done?s(u.value):r(u.value).then(c,a)}l((i=i.apply(e,t||[])).next())})};const lm={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ua={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class um{constructor(t,n={},i,r){this.url=t,this.headers=n,this.bucketId=i,this.fetch=Ml(r)}uploadOrUpdate(t,n,i,r){return Ge(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},Ua),r),c=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});typeof Blob<"u"&&i instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),s.append("",i)):typeof FormData<"u"&&i instanceof FormData?(s=i,s.append("cacheControl",o.cacheControl)):(s=i,c["cache-control"]=`max-age=${o.cacheControl}`,c["content-type"]=o.contentType);const a=this._removeEmptyFolders(n),l=this._getFinalPath(a),u=yield this.fetch(`${this.url}/object/${l}`,Object.assign({method:t,body:s,headers:c},o!=null&&o.duplex?{duplex:o.duplex}:{}));return u.ok?{data:{path:a},error:null}:{data:null,error:yield u.json()}}catch(s){if(Ie(s))return{data:null,error:s};throw s}})}upload(t,n,i){return Ge(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,i)})}uploadToSignedUrl(t,n,i,r){return Ge(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),o=this._getFinalPath(s),c=new URL(this.url+`/object/upload/sign/${o}`);c.searchParams.set("token",n);try{let a;const l=Object.assign({upsert:Ua.upsert},r),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(l.upsert)});typeof Blob<"u"&&i instanceof Blob?(a=new FormData,a.append("cacheControl",l.cacheControl),a.append("",i)):typeof FormData<"u"&&i instanceof FormData?(a=i,a.append("cacheControl",l.cacheControl)):(a=i,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType);const h=yield this.fetch(c.toString(),{method:"PUT",body:a,headers:u});return h.ok?{data:{path:s},error:null}:{data:null,error:yield h.json()}}catch(a){if(Ie(a))return{data:null,error:a};throw a}})}createSignedUploadUrl(t){return Ge(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const i=yield Bt(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:this.headers}),r=new URL(this.url+i.url),s=r.searchParams.get("token");if(!s)throw new wo("No token returned by API");return{data:{signedUrl:r.toString(),path:t,token:s},error:null}}catch(n){if(Ie(n))return{data:null,error:n};throw n}})}update(t,n,i){return Ge(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,i)})}move(t,n){return Ge(this,void 0,void 0,function*(){try{return{data:yield Bt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n},{headers:this.headers}),error:null}}catch(i){if(Ie(i))return{data:null,error:i};throw i}})}copy(t,n){return Ge(this,void 0,void 0,function*(){try{return{data:{path:(yield Bt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n},{headers:this.headers})).Key},error:null}}catch(i){if(Ie(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,i){return Ge(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t),s=yield Bt(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:n},i!=null&&i.transform?{transform:i.transform}:{}),{headers:this.headers});const o=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(r){if(Ie(r))return{data:null,error:r};throw r}})}createSignedUrls(t,n,i){return Ge(this,void 0,void 0,function*(){try{const r=yield Bt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),s=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return{data:r.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(r){if(Ie(r))return{data:null,error:r};throw r}})}download(t,n){return Ge(this,void 0,void 0,function*(){const r=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=s?`?${s}`:"";try{const c=this._getFinalPath(t);return{data:yield(yield kr(this.fetch,`${this.url}/${r}/${c}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(c){if(Ie(c))return{data:null,error:c};throw c}})}getPublicUrl(t,n){const i=this._getFinalPath(t),r=[],s=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&r.push(s);const c=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});a!==""&&r.push(a);let l=r.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${i}${l}`)}}}remove(t){return Ge(this,void 0,void 0,function*(){try{return{data:yield zl(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(Ie(n))return{data:null,error:n};throw n}})}list(t,n,i){return Ge(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},lm),n),{prefix:t||""});return{data:yield Bt(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},i),error:null}}catch(r){if(Ie(r))return{data:null,error:r};throw r}})}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const hm="2.5.4",fm={"X-Client-Info":`storage-js/${hm}`};var bn=globalThis&&globalThis.__awaiter||function(e,t,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function c(u){try{l(i.next(u))}catch(h){o(h)}}function a(u){try{l(i.throw(u))}catch(h){o(h)}}function l(u){u.done?s(u.value):r(u.value).then(c,a)}l((i=i.apply(e,t||[])).next())})};class dm{constructor(t,n={},i){this.url=t,this.headers=Object.assign(Object.assign({},fm),n),this.fetch=Ml(i)}listBuckets(){return bn(this,void 0,void 0,function*(){try{return{data:yield kr(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Ie(t))return{data:null,error:t};throw t}})}getBucket(t){return bn(this,void 0,void 0,function*(){try{return{data:yield kr(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(Ie(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return bn(this,void 0,void 0,function*(){try{return{data:yield Bt(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(Ie(i))return{data:null,error:i};throw i}})}updateBucket(t,n){return bn(this,void 0,void 0,function*(){try{return{data:yield cm(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(Ie(i))return{data:null,error:i};throw i}})}emptyBucket(t){return bn(this,void 0,void 0,function*(){try{return{data:yield Bt(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Ie(n))return{data:null,error:n};throw n}})}deleteBucket(t){return bn(this,void 0,void 0,function*(){try{return{data:yield zl(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(Ie(n))return{data:null,error:n};throw n}})}}class pm extends dm{constructor(t,n={},i){super(t,n,i)}from(t){return new um(this.url,this.headers,t,this.fetch)}}const mm="2.38.4";let ei="";typeof Deno<"u"?ei="deno":typeof document<"u"?ei="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ei="react-native":ei="node";const gm={"X-Client-Info":`supabase-js-${ei}/${mm}`};var vm=globalThis&&globalThis.__awaiter||function(e,t,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function c(u){try{l(i.next(u))}catch(h){o(h)}}function a(u){try{l(i.throw(u))}catch(h){o(h)}}function l(u){u.done?s(u.value):r(u.value).then(c,a)}l((i=i.apply(e,t||[])).next())})};const bm=e=>{let t;return e?t=e:typeof fetch>"u"?t=go:t=fetch,(...n)=>t(...n)},wm=()=>typeof Headers>"u"?mo.Headers:Headers,ym=(e,t,n)=>{const i=bm(n),r=wm();return(s,o)=>vm(void 0,void 0,void 0,function*(){var c;const a=(c=yield t())!==null&&c!==void 0?c:e;let l=new r(o==null?void 0:o.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization",`Bearer ${a}`),i(s,Object.assign(Object.assign({},o),{headers:l}))})};function _m(e){return e.replace(/\/$/,"")}function Em(e,t){const{db:n,auth:i,realtime:r,global:s}=e,{db:o,auth:c,realtime:a,global:l}=t;return{db:Object.assign(Object.assign({},o),n),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},a),r),global:Object.assign(Object.assign({},l),s)}}function Rm(e){return Math.round(Date.now()/1e3)+e}function xm(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const St=()=>typeof document<"u",en={tested:!1,writable:!1},hi=()=>{if(!St())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(en.tested)return en.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),en.tested=!0,en.writable=!0}catch{en.tested=!0,en.writable=!1}return en.writable};function Xs(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((r,s)=>{t[s]=r})}catch{}return n.searchParams.forEach((i,r)=>{t[r]=i}),t}const Ll=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>xi(()=>Promise.resolve().then(()=>Si),void 0).then(({default:i})=>i(...n)):t=fetch,(...n)=>t(...n)},Sm=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",tn=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Li=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Ys=async(e,t)=>{await e.removeItem(t)};function Am(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n="",i,r,s,o,c,a,l,u=0;for(e=e.replace("-","+").replace("_","/");u<e.length;)o=t.indexOf(e.charAt(u++)),c=t.indexOf(e.charAt(u++)),a=t.indexOf(e.charAt(u++)),l=t.indexOf(e.charAt(u++)),i=o<<2|c>>4,r=(c&15)<<4|a>>2,s=(a&3)<<6|l,n=n+String.fromCharCode(i),a!=64&&r!=0&&(n=n+String.fromCharCode(r)),l!=64&&s!=0&&(n=n+String.fromCharCode(s));return n}class Os{constructor(){this.promise=new Os.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Os.promiseConstructor=Promise;function Na(e){const t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,n=e.split(".");if(n.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(n[1]))throw new Error("JWT is not valid: payload is not in base64url format");const i=n[1];return JSON.parse(Am(i))}async function Om(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Tm(e,t){return new Promise((i,r)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await e(s);if(!t(s,null,o)){i(o);return}}catch(o){if(!t(s,o)){r(o);return}}})()})}function Cm(e){return("0"+e.toString(16)).substr(-2)}function wn(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=n.length;let r="";for(let s=0;s<56;s++)r+=n.charAt(Math.floor(Math.random()*i));return r}return crypto.getRandomValues(t),Array.from(t,Cm).join("")}async function Pm(e){const n=new TextEncoder().encode(e),i=await crypto.subtle.digest("SHA-256",n),r=new Uint8Array(i);return Array.from(r).map(s=>String.fromCharCode(s)).join("")}function km(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function yn(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await Pm(e);return km(n)}class yo extends Error{constructor(t,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n}}function G(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class $m extends yo{constructor(t,n){super(t,n),this.name="AuthApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}function jm(e){return G(e)&&e.name==="AuthApiError"}class Dl extends yo{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Hn extends yo{constructor(t,n,i){super(t),this.name=n,this.status=i}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class _n extends Hn{constructor(){super("Auth session missing!","AuthSessionMissingError",400)}}class Gs extends Hn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500)}}class Di extends Hn{constructor(t){super(t,"AuthInvalidCredentialsError",400)}}class Ui extends Hn{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Fa extends Hn{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class $r extends Hn{constructor(t,n){super(t,"AuthRetryableFetchError",n)}}function Ba(e){return G(e)&&e.name==="AuthRetryableFetchError"}var Im=globalThis&&globalThis.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]]);return n};const ti=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Mm=[502,503,504];async function Ha(e){if(!Sm(e))throw new $r(ti(e),0);if(Mm.includes(e.status))throw new $r(ti(e),e.status);let t;try{t=await e.json()}catch(n){throw new Dl(ti(n),n)}throw new $m(ti(t),e.status||500)}const zm=(e,t,n,i)=>{const r={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),r.body=JSON.stringify(i),Object.assign(Object.assign({},r),n))};async function ne(e,t,n,i){var r;const s=Object.assign({},i==null?void 0:i.headers);i!=null&&i.jwt&&(s.Authorization=`Bearer ${i.jwt}`);const o=(r=i==null?void 0:i.query)!==null&&r!==void 0?r:{};i!=null&&i.redirectTo&&(o.redirect_to=i.redirectTo);const c=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",a=await Lm(e,t,n+c,{headers:s,noResolveJson:i==null?void 0:i.noResolveJson},{},i==null?void 0:i.body);return i!=null&&i.xform?i==null?void 0:i.xform(a):{data:Object.assign({},a),error:null}}async function Lm(e,t,n,i,r,s){const o=zm(t,i,r,s);let c;try{c=await e(n,o)}catch(a){throw console.error(a),new $r(ti(a),0)}if(c.ok||await Ha(c),i!=null&&i.noResolveJson)return c;try{return await c.json()}catch(a){await Ha(a)}}function Lt(e){var t;let n=null;Fm(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=Rm(e.expires_in)));const i=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:i},error:null}}function Ht(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Dm(e){return{data:e,error:null}}function Um(e){const{action_link:t,email_otp:n,hashed_token:i,redirect_to:r,verification_type:s}=e,o=Im(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:t,email_otp:n,hashed_token:i,redirect_to:r,verification_type:s},a=Object.assign({},o);return{data:{properties:c,user:a},error:null}}function Nm(e){return e}function Fm(e){return e.access_token&&e.refresh_token&&e.expires_in}var Bm=globalThis&&globalThis.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]]);return n};class Hm{constructor({url:t="",headers:n={},fetch:i}){this.url=t,this.headers=n,this.fetch=Ll(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n="global"){try{return await ne(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(i){if(G(i))return{data:null,error:i};throw i}}async inviteUserByEmail(t,n={}){try{return await ne(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ht})}catch(i){if(G(i))return{data:{user:null},error:i};throw i}}async generateLink(t){try{const{options:n}=t,i=Bm(t,["options"]),r=Object.assign(Object.assign({},i),n);return"newEmail"in i&&(r.new_email=i==null?void 0:i.newEmail,delete r.newEmail),await ne(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:Um,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(G(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await ne(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ht})}catch(n){if(G(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,i,r,s,o,c,a;try{const l={nextPage:null,lastPage:0,total:0},u=await ne(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(s=(r=t==null?void 0:t.perPage)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:""},xform:Nm});if(u.error)throw u.error;const h=await u.json(),f=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(a=(c=u.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&a!==void 0?a:[];return p.length>0&&(p.forEach(g=>{const v=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(g.split(";")[1].split("=")[1]);l[`${E}Page`]=v}),l.total=parseInt(f)),{data:Object.assign(Object.assign({},h),l),error:null}}catch(l){if(G(l))return{data:{users:[]},error:l};throw l}}async getUserById(t){try{return await ne(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ht})}catch(n){if(G(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){try{return await ne(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Ht})}catch(i){if(G(i))return{data:{user:null},error:i};throw i}}async deleteUser(t,n=!1){try{return await ne(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ht})}catch(i){if(G(i))return{data:{user:null},error:i};throw i}}async _listFactors(t){try{const{data:n,error:i}=await ne(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:r=>({data:{factors:r},error:null})});return{data:n,error:i}}catch(n){if(G(n))return{data:null,error:n};throw n}}async _deleteFactor(t){try{return{data:await ne(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(G(n))return{data:null,error:n};throw n}}}const Ul="2.57.0",Wm="http://localhost:9999",qm="supabase.auth.token",Km={"X-Client-Info":`gotrue-js/${Ul}`},Wa=10,Vm={getItem:e=>hi()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{hi()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{hi()&&globalThis.localStorage.removeItem(e)}};function qa(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function Jm(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}globalThis&&hi()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug");class Xm extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}Jm();const Ym={url:Wm,storageKey:qm,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Km,flowType:"implicit",debug:!1},Yn=30*1e3,Ka=3;async function Gm(e,t,n){return await n()}class _i{constructor(t){var n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=_i.nextInstanceID,_i.nextInstanceID+=1,this.instanceID>0&&St()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},Ym),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Hm({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Ll(i.fetch),this.lock=i.lock||Gm,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:hi()?this.storage=Vm:(this.memoryStorage={},this.storage=qa(this.memoryStorage)):(this.memoryStorage={},this.storage=qa(this.memoryStorage)),St()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(r){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",r)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async r=>{this._debug("received broadcast notification from other tab or client",r),await this._notifyAllSubscribers(r.data.event,r.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Ul}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){try{const t=St()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",t),t||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:n,error:i}=await this._getSessionFromURL(t);if(i)return this._debug("#_initialize()","error detecting session from URL",i),await this._removeSession(),{error:i};const{session:r,redirectType:s}=n;return this._debug("#_initialize()","detected session in URL",r,"redirect type",s),await this._saveSession(r),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",r):await this._notifyAllSubscribers("SIGNED_IN",r)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return G(t)?{error:t}:{error:new Dl("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signUp(t){var n,i,r;try{await this._removeSession();let s;if("email"in t){const{email:u,password:h,options:f}=t;let p=null,g=null;if(this.flowType==="pkce"){const v=wn();await tn(this.storage,`${this.storageKey}-code-verifier`,v),p=await yn(v),g=v===p?"plain":"s256"}s=await ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:u,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:g},xform:Lt})}else if("phone"in t){const{phone:u,password:h,options:f}=t;s=await ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(i=f==null?void 0:f.data)!==null&&i!==void 0?i:{},channel:(r=f==null?void 0:f.channel)!==null&&r!==void 0?r:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Lt})}else throw new Di("You must provide either an email or phone number and a password");const{data:o,error:c}=s;if(c||!o)return{data:{user:null,session:null},error:c};const a=o.session,l=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:l,session:a},error:null}}catch(s){if(G(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(t){try{await this._removeSession();let n;if("email"in t){const{email:s,password:o,options:c}=t;n=await ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:Lt})}else if("phone"in t){const{phone:s,password:o,options:c}=t;n=await ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:Lt})}else throw new Di("You must provide either an email or phone number and a password");const{data:i,error:r}=n;return r?{data:{user:null,session:null},error:r}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new Gs}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:{user:i.user,session:i.session},error:r})}catch(n){if(G(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,i,r,s;return await this._removeSession(),await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(i=t.options)===null||i===void 0?void 0:i.scopes,queryParams:(r=t.options)===null||r===void 0?void 0:r.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const n=await Li(this.storage,`${this.storageKey}-code-verifier`),{data:i,error:r}=await ne(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Lt});return await Ys(this.storage,`${this.storageKey}-code-verifier`),r?{data:{user:null,session:null},error:r}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new Gs}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:i,error:r})}async signInWithIdToken(t){await this._removeSession();try{const{options:n,provider:i,token:r,access_token:s,nonce:o}=t,c=await ne(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:r,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Lt}),{data:a,error:l}=c;return l?{data:{user:null,session:null},error:l}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new Gs}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:a,error:l})}catch(n){if(G(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,i,r,s,o;try{if(await this._removeSession(),"email"in t){const{email:c,options:a}=t;let l=null,u=null;if(this.flowType==="pkce"){const f=wn();await tn(this.storage,`${this.storageKey}-code-verifier`,f),l=await yn(f),u=f===l?"plain":"s256"}const{error:h}=await ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(n=a==null?void 0:a.data)!==null&&n!==void 0?n:{},create_user:(i=a==null?void 0:a.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken},code_challenge:l,code_challenge_method:u},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:c,options:a}=t,{data:l,error:u}=await ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(r=a==null?void 0:a.data)!==null&&r!==void 0?r:{},create_user:(s=a==null?void 0:a.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken},channel:(o=a==null?void 0:a.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:u}}throw new Di("You must provide either an email or phone number.")}catch(c){if(G(c))return{data:{user:null,session:null},error:c};throw c}}async verifyOtp(t){var n,i;try{t.type!=="email_change"&&t.type!=="phone_change"&&await this._removeSession();let r,s;"options"in t&&(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo,s=(i=t.options)===null||i===void 0?void 0:i.captchaToken);const{data:o,error:c}=await ne(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:r,xform:Lt});if(c)throw c;if(!o)throw new Error("An error occurred on token verification.");const a=o.session,l=o.user;return a!=null&&a.access_token&&(await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:l,session:a},error:null}}catch(r){if(G(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithSSO(t){var n,i,r;try{await this._removeSession();let s=null,o=null;if(this.flowType==="pkce"){const c=wn();await tn(this.storage,`${this.storageKey}-code-verifier`,c),s=await yn(c),o=c===s?"plain":"s256"}return await ne(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&i!==void 0?i:void 0}),!((r=t==null?void 0:t.options)===null||r===void 0)&&r.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:Dm})}catch(s){if(G(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:i}=t;if(i)throw i;if(!n)throw new _n;const{error:r}=await ne(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:r}})}catch(t){if(G(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{t.type!="email_change"&&t.type!="phone_change"&&await this._removeSession();const n=`${this.url}/resend`;if("email"in t){const{email:i,type:r,options:s}=t,{error:o}=await ne(this.fetch,"POST",n,{headers:this.headers,body:{email:i,type:r,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:i,type:r,options:s}=t,{data:o,error:c}=await ne(this.fetch,"POST",n,{headers:this.headers,body:{phone:i,type:r,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:c}}throw new Di("You must provide either an email or phone number and a type")}catch(n){if(G(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await i,await n()))();return this.pendingInLock.push((async()=>{try{await r}catch{}})()),r}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=n();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const r=[...this.pendingInLock];await Promise.all(r),this.pendingInLock.splice(0,r.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Li(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const i=t.expires_at?t.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",t.expires_at),!i)return{data:{session:t},error:null};const{session:r,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ht}):await this._useSession(async n=>{var i,r;const{data:s,error:o}=n;if(o)throw o;return await ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(r=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&r!==void 0?r:void 0,xform:Ht})})}catch(n){if(G(n))return{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async i=>{const{data:r,error:s}=i;if(s)throw s;if(!r.session)throw new _n;const o=r.session;let c=null,a=null;if(this.flowType==="pkce"&&t.email!=null){const h=wn();await tn(this.storage,`${this.storageKey}-code-verifier`,h),c=await yn(h),a=h===c?"plain":"s256"}const{data:l,error:u}=await ne(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:c,code_challenge_method:a}),jwt:o.access_token,xform:Ht});if(u)throw u;return o.user=l.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(i){if(G(i))return{data:{user:null},error:i};throw i}}_decodeJWT(t){return Na(t)}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new _n;const n=Date.now()/1e3;let i=n,r=!0,s=null;const o=Na(t.access_token);if(o.exp&&(i=o.exp,r=i<=n),r){const{session:c,error:a}=await this._callRefreshToken(t.refresh_token);if(a)return{data:{user:null,session:null},error:a};if(!c)return{data:{user:null,session:null},error:null};s=c}else{const{data:c,error:a}=await this._getUser(t.access_token);if(a)throw a;s={access_token:t.access_token,refresh_token:t.refresh_token,user:c.user,token_type:"bearer",expires_in:i-n,expires_at:i},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(n){if(G(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var i;if(!t){const{data:o,error:c}=n;if(c)throw c;t=(i=o.session)!==null&&i!==void 0?i:void 0}if(!(t!=null&&t.refresh_token))throw new _n;const{session:r,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(G(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t){try{if(!St())throw new Ui("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new Ui("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!t)throw new Fa("Not a valid PKCE flow url.");const n=Xs(window.location.href);if(t){if(!n.code)throw new Fa("No code detected.");const{data:C,error:I}=await this._exchangeCodeForSession(n.code);if(I)throw I;const T=new URL(window.location.href);return T.searchParams.delete("code"),window.history.replaceState(window.history.state,"",T.toString()),{data:{session:C.session,redirectType:null},error:null}}if(n.error||n.error_description||n.error_code)throw new Ui(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});const{provider_token:i,provider_refresh_token:r,access_token:s,refresh_token:o,expires_in:c,expires_at:a,token_type:l}=n;if(!s||!c||!o||!l)throw new Ui("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(c);let f=u+h;a&&(f=parseInt(a));const p=f-u;p*1e3<=Yn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);const g=f-h;u-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,f,u):u-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clok for skew",g,f,u);const{data:v,error:E}=await this._getUser(s);if(E)throw E;const x={provider_token:i,provider_refresh_token:r,access_token:s,expires_in:h,expires_at:f,refresh_token:o,token_type:l,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:n.type},error:null}}catch(n){if(G(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantFlow(){const t=Xs(window.location.href);return!!(St()&&(t.access_token||t.error_description))}async _isPKCEFlow(){const t=Xs(window.location.href),n=await Li(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var i;const{data:r,error:s}=n;if(s)return{error:s};const o=(i=r.session)===null||i===void 0?void 0:i.access_token;if(o){const{error:c}=await this.admin.signOut(o,t);if(c&&!(jm(c)&&(c.status===404||c.status===401)))return{error:c}}return t!=="others"&&(await this._removeSession(),await Ys(this.storage,`${this.storageKey}-code-verifier`),await this._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}})}onAuthStateChange(t){const n=xm(),i={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:i}}}async _emitInitialSession(t){return await this._useSession(async n=>{var i,r;try{const{data:{session:s},error:o}=n;if(o)throw o;await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,n={}){let i=null,r=null;if(this.flowType==="pkce"){const s=wn();await tn(this.storage,`${this.storageKey}-code-verifier`,s),i=await yn(s),r=s===i?"plain":"s256"}try{return await ne(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:i,code_challenge_method:r,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(G(s))return{data:null,error:s};throw s}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const i=Date.now();return await Tm(async r=>(await Om(r*200),this._debug(n,"refreshing attempt",r),await ne(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Lt})),(r,s,o)=>o&&o.error&&Ba(o.error)&&Date.now()+(r+1)*200-i<Yn)}catch(i){if(this._debug(n,"error",i),G(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const i=await this._getUrlForProvider(t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",i),St()&&!n.skipBrowserRedirect&&window.location.assign(i),{data:{provider:t,url:i},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await Li(this.storage,this.storageKey);if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const r=Math.round(Date.now()/1e3),s=((t=i.expires_at)!==null&&t!==void 0?t:1/0)<r+Wa;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${Wa}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),Ba(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,i;if(!t)throw new _n;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new Os;const{data:s,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!s.session)throw new _n;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const c={session:s.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(s){if(this._debug(r,"error",s),G(s)){const o={session:null,error:s};return(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(s),s}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(t,n,i=!0){const r=`#_notifyAllSubscribers(${t})`;this._debug(r,"begin",n,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:t,session:n});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(t,n)}catch(a){s.push(a)}});if(await Promise.all(o),s.length>0){for(let c=0;c<s.length;c+=1)console.error(s[c]);throw s[0]}}finally{this._debug(r,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),await this._persistSession(t)}_persistSession(t){return this._debug("#_persistSession()",t),tn(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Ys(this.storage,this.storageKey)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&St()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Yn);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:i}}=n;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const r=Math.floor((i.expires_at*1e3-t)/Yn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts ${Yn}ms, refresh threshold is ${Ka} ticks`),r<=Ka&&await this._callRefreshToken(i.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Xm)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!St()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n){const i=[`provider=${encodeURIComponent(t)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const r=wn();await tn(this.storage,`${this.storageKey}-code-verifier`,r);const s=await yn(r),o=r===s?"plain":"s256";this._debug("PKCE","code verifier",`${r.substring(0,5)}...`,"code challenge",s,"method",o);const c=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(c.toString())}if(n!=null&&n.queryParams){const r=new URLSearchParams(n.queryParams);i.push(r.toString())}return`${this.url}/authorize?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var i;const{data:r,error:s}=n;return s?{data:null,error:s}:await ne(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(i=r==null?void 0:r.session)===null||i===void 0?void 0:i.access_token})})}catch(n){if(G(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var i,r;const{data:s,error:o}=n;if(o)return{data:null,error:o};const{data:c,error:a}=await ne(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:t.friendlyName,factor_type:t.factorType,issuer:t.issuer},headers:this.headers,jwt:(i=s==null?void 0:s.session)===null||i===void 0?void 0:i.access_token});return a?{data:null,error:a}:(!((r=c==null?void 0:c.totp)===null||r===void 0)&&r.qr_code&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(G(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:r,error:s}=n;if(s)return{data:null,error:s};const{data:o,error:c}=await ne(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(i=r==null?void 0:r.session)===null||i===void 0?void 0:i.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:c})})}catch(n){if(G(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:r,error:s}=n;return s?{data:null,error:s}:await ne(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{headers:this.headers,jwt:(i=r==null?void 0:r.session)===null||i===void 0?void 0:i.access_token})})}catch(n){if(G(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:i}=await this._challenge({factorId:t.factorId});return i?{data:null,error:i}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const i=(t==null?void 0:t.factors)||[],r=i.filter(s=>s.factor_type==="totp"&&s.status==="verified");return{data:{all:i,totp:r},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,i;const{data:{session:r},error:s}=t;if(s)return{data:null,error:s};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(r.access_token);let c=null;o.aal&&(c=o.aal);let a=c;((i=(n=r.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(a="aal2");const u=o.amr||[];return{data:{currentLevel:c,nextLevel:a,currentAuthenticationMethods:u},error:null}}))}}_i.nextInstanceID=0;class Qm extends _i{constructor(t){super(t)}}var Zm=globalThis&&globalThis.__awaiter||function(e,t,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function c(u){try{l(i.next(u))}catch(h){o(h)}}function a(u){try{l(i.throw(u))}catch(h){o(h)}}function l(u){u.done?s(u.value):r(u.value).then(c,a)}l((i=i.apply(e,t||[])).next())})};const eg={headers:gm},tg={schema:"public"},ng={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},ig={};class sg{constructor(t,n,i){var r,s,o,c,a,l,u,h;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const f=_m(t);this.realtimeUrl=`${f}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${f}/auth/v1`,this.storageUrl=`${f}/storage/v1`,this.functionsUrl=`${f}/functions/v1`;const p=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,g={db:tg,realtime:ig,auth:Object.assign(Object.assign({},ng),{storageKey:p}),global:eg},v=Em(i??{},g);this.storageKey=(s=(r=v.auth)===null||r===void 0?void 0:r.storageKey)!==null&&s!==void 0?s:"",this.headers=(c=(o=v.global)===null||o===void 0?void 0:o.headers)!==null&&c!==void 0?c:{},this.auth=this._initSupabaseAuthClient((a=v.auth)!==null&&a!==void 0?a:{},this.headers,(l=v.global)===null||l===void 0?void 0:l.fetch),this.fetch=ym(n,this._getAccessToken.bind(this),(u=v.global)===null||u===void 0?void 0:u.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},v.realtime)),this.rest=new vo(`${f}/rest/v1`,{headers:this.headers,schema:(h=v.db)===null||h===void 0?void 0:h.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new mp(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new pm(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},i){return this.rest.rpc(t,n,i)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return Zm(this,void 0,void 0,function*(){const{data:i}=yield this.auth.getSession();return(n=(t=i.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:i,storage:r,storageKey:s,flowType:o,debug:c},a,l){const u={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Qm({url:this.authUrl,headers:Object.assign(Object.assign({},u),a),storageKey:s,autoRefreshToken:t,persistSession:n,detectSessionInUrl:i,storage:r,flowType:o,debug:c,fetch:l})}_initRealtimeClient(t){return new nm(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,i)=>{this._handleTokenChanged(n,"CLIENT",i==null?void 0:i.access_token)})}_handleTokenChanged(t,n,i){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==i?(this.realtime.setAuth(i??null),this.changedAccessToken=i):t==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const rg=(e,t,n)=>new sg(e,t,n),og="https://ivpfaitqeojbyulslqde.supabase.co",ag="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Iml2cGZhaXRxZW9qYnl1bHNscWRlIiwicm9sZSI6ImFub24iLCJpYXQiOjE2OTg0OTIxNTcsImV4cCI6MjAxNDA2ODE1N30.UEynD52D7x8N0k3B22XxLwrbAXzLeggcZu57F1Rv20U",Ue=rg(og,ag),Wn=sd("animestore",()=>{const e=Te(null),t=Te(!1),n=Te(!1);ln(e,()=>{e.value&&(n.value=!1)});const i=async(a,l)=>{if(!a&&!l)return;const{data:u,error:h}=await Ue.auth.signInWithPassword({email:a,password:l});if(h&&console.log("Неправильный логин или пароль"),!u.user)return;const{data:f}=await Ue.from("users").select().eq("email",a).single();e.value={id:f.id,name:f.name,email:f.email,avatar_url:f.avatar_url}},r=async a=>{const{name:l,email:u,password:h}=a,{data:f}=await Ue.from("users").select().eq("email",u).single();if(f)return console.log("Такая почта уже зарегистрирована");const{error:p}=await Ue.auth.signUp({email:u,password:h});if(p)return console.error(p);await Ue.from("users").insert({name:l,email:u});const{data:g}=await Ue.from("users").select().eq("email",u).single();return e.value=g},s=async()=>{if((await Ue.auth.getSession()).data.session===null)return;const{data:l,error:u}=await Ue.auth.getUser(),{data:h}=await Ue.from("users").select().eq("email",l.user.email).single();if(e.value={id:h.id,name:h.name,email:h.email,avatar_url:h.avatar_url},u)return console.error(u)};return Ue.channel("users").on("postgres_changes",{event:"*",schema:"public",table:"users"},a=>{e.value={id:a.new.id,name:a.new.name,email:a.new.email,avatar_url:a.new.avatar_url}}).subscribe(),{login:i,registerUser:r,user:e,getUser:s,logout:async()=>{await Ue.auth.signOut(),e.value=null},recoverPassword:async a=>{console.log(a);const{error:l}=await Ue.auth.resetPasswordForEmail(a);if(l)return console.error(l)},modal:t,authRegModal:n}}),cg={class:"absolute right-0 z-40 top-[50px] shadow-shadowDrop rounded-b-[10px] p-3 bg-slate-50"},lg={class:"flex flex-col justify-center items-center gap-3"},ug=Oe({__name:"ModalMenu",props:{userName:{}},setup(e){return(t,n)=>(z(),be("div",cg,[q("div",lg,[jt(t.$slots,"default")])]))}}),Ai=(e,t)=>{const n=e.__vccOpts||e;for(const[i,r]of t)n[i]=r;return n},hg={},fg={class:"text-pink-500 w-[100%] flex flex-row items-center justify-start gap-2 text-center cursor-pointer hover:text-[#413d3d] duration-short"};function dg(e,t){return z(),be("div",fg,[jt(e.$slots,"default")])}const Qs=Ai(hg,[["render",dg]]),pg=["width","height"],mg=["xlink:href"],gg=Oe({__name:"SvgSprite",props:{icon:{},sprite:{},width:{},height:{}},setup(e){const t=e,{icon:n,sprite:i="",width:r=20,height:s=20}=t;return(o,c)=>(z(),be("span",null,[(z(),be("svg",_s({class:"icon"},o.$attrs,{width:le(r),height:le(s)}),[q("use",{"xlink:href":`${le(i)}#${le(n)}`},null,8,mg)],16,pg))]))}}),Ji=Oe({__name:"IconSprite",props:{name:{},width:{},height:{}},setup(e){const t=(r,s)=>new URL(r,s??import.meta.url).href,i=(r=>t(`../assets/${r}`,import.meta.url))("sprite.svg");return(r,s)=>(z(),Z(gg,{icon:r.name,width:r.width?r.width:20,height:r.height?r.height:20,sprite:le(i)},null,8,["icon","width","height","sprite"]))}}),vg="/assets/user-770c2da8.png",bg=["src"],Nl=Oe({__name:"Avatar",props:{img:{},style:{}},setup(e){return(t,n)=>(z(),be("img",{src:t.img?`https://ivpfaitqeojbyulslqde.supabase.co/storage/v1/object/public/images/${t.img}`:le(vg),class:wt(["rounded-[50%] cursor-pointer object-cover overflow-hidden",t.style])},null,10,bg))}}),wg=["value","type"],yg=Oe({__name:"Search",props:{style:{},modelValue:{},type:{}},setup(e){return(t,n)=>(z(),be("input",{value:t.modelValue,onInput:n[0]||(n[0]=i=>t.$emit("update:modelValue",i.currentTarget.value.trim())),type:t.type,class:wt(["flex grow font-medium text-[15px] text-gray-700 pl-[10px] rounded-[5px] outline-none focus:ring-[1px]",t.style])},null,42,wg))}});const _g={},Eg=e=>(Eh("data-v-470a8119"),e=e(),Rh(),e),Rg={class:"relative inline-block w-[60px] h-[34px]"},xg=Eg(()=>q("input",{type:"checkbox",class:"opacity-0 w-0 h-0"},null,-1));function Sg(e,t){return z(),be("div",null,[q("label",Rg,[xg,q("span",{class:"switch round",onClick:t[0]||(t[0]=n=>e.$emit("mode",n.target))})])])}const Ag=Ai(_g,[["render",Sg],["__scopeId","data-v-470a8119"]]),jn=Oe({__name:"Button",props:{text:{},style:{}},setup(e){return(t,n)=>(z(),be("button",{class:wt([t.style,"p-[10px] duration-short"])},Tt(t.text),3))}}),Og={class:"flex w-[100%]"},Tg={class:"justify-between items-center flex px-4 py-2 w-full"},Cg={class:"flex flex-row gap-5 w-[50%]"},Pg={class:"flex flex-row items-center gap-5"},kg={class:"text-[14px] cursor-pointer"},$g=Oe({__name:"Header",setup(e){const t=ap(),n=Wn(),i=Te(!1);return(r,s)=>(z(),be("header",Og,[q("div",Tg,[q("div",Cg,[q("span",{class:"text-[20px] font-medium cursor-pointer hover:text-red-500 duration-short",onClick:s[0]||(s[0]=o=>le(t).push("/"))},"AniList"),F(yg,{type:"text",class:wt("focus:ring-cyan-300 bg-[#d8d8d8]")}),F(jn,{text:"Поиск",style:"p-0 font-medium text-gray-500 hover:shadow-shadowDrop hover:ring-[1px] hover:ring-cyan-300 px-3 rounded-[15px]"})]),q("main",Pg,[F(Ag),le(n).user?(z(),Z(Nl,{key:0,style:"w-[32px] h-[32px]",img:le(n).user.avatar_url,onClick:s[1]||(s[1]=o=>i.value=!i.value)},null,8,["img"])):Jt("",!0),le(n).user?Jt("",!0):(z(),Z(jn,{key:1,onClick:s[2]||(s[2]=o=>le(n).authRegModal=!0),text:"Войти",style:"p-0 font-medium text-gray-500"}))])]),i.value?(z(),Z(ug,{key:0,onClick:s[5]||(s[5]=o=>i.value=!1)},{default:Je(()=>[F(Qs,null,{default:Je(()=>{var o;return[F(Ji,{name:"icon-user"}),q("span",kg,Tt((o=le(n).user)==null?void 0:o.name),1)]}),_:1}),F(Qs,null,{default:Je(()=>[F(Ji,{name:"icon-settings"}),q("span",{class:"text-[14px] cursor-pointer",onClick:s[3]||(s[3]=o=>le(t).push("/profile"))},"Мой Профиль")]),_:1}),F(Qs,null,{default:Je(()=>[F(Ji,{name:"exit"}),q("span",{class:"text-[14px] cursor-pointer",onClick:s[4]||(s[4]=(...o)=>le(n).logout&&le(n).logout(...o))},"Выйти")]),_:1})]),_:1})):Jt("",!0)]))}});const jg=Ai($g,[["__scopeId","data-v-dc91142a"]]),Ig=["value","type"],Zs=Oe({__name:"Input",props:{type:{},style:{},modelValue:{}},setup(e){return(t,n)=>(z(),be("input",{value:t.modelValue,type:t.type,class:wt([t.style,"flex grow font-normal text-[16px] p-[10px] rounded-[15px] outline-none focus:ring-[1px] bg-[#f5f5f5]"]),onInput:n[0]||(n[0]=i=>t.$emit("update:modelValue",i.currentTarget.value.trim()))},null,42,Ig))}}),Mg={key:0,class:"absolute top-0 w-[100%] h-[100%]"},zg=q("div",{class:"w-[100%] h-[100%] bg-black opacity-[0.5]"},null,-1),Lg={class:"absolute top-[50%] left-[50%] translate-x-[-50%] translate-y-[-50%]"},Dg={class:"flex flex-col gap-5 w-[600px] justify-center text-center"},Ug=Oe({__name:"RegistrationAndAutorisationModal",setup(e){const t=Wn(),n=Te(!0),i=Fn({name:"",email:"",password:""}),r=()=>{t.registerUser(i)},s=()=>{t.login(i.email,i.password)},o=Ve(()=>n.value?"Вход":"Регистрация");return(c,a)=>(z(),Z(al,{to:"body"},[le(t).authRegModal?(z(),be("div",Mg,[zg,q("div",Lg,[q("div",Dg,[q("span",null,Tt(o.value),1),n.value?Jt("",!0):(z(),Z(Zs,{key:0,type:"text",modelValue:i.name,"onUpdate:modelValue":a[0]||(a[0]=l=>i.name=l),placeholder:"имя"},null,8,["modelValue"])),F(Zs,{type:"email",modelValue:i.email,"onUpdate:modelValue":a[1]||(a[1]=l=>i.email=l),placeholder:"имеил"},null,8,["modelValue"]),F(Zs,{type:"password",modelValue:i.password,"onUpdate:modelValue":a[2]||(a[2]=l=>i.password=l),placeholder:"пароль"},null,8,["modelValue"]),n.value?(z(),Z(jn,{key:2,onClick:s,style:"bg-white p-[11px] rounded-[17px] text-black font-medium ",text:"Войти"})):(z(),Z(jn,{key:1,onClick:r,style:"bg-white p-[11px] rounded-[17px] text-black font-medium ",text:"Зарегистрироваться"})),q("span",null,Tt(n.value?"Ещё нет аккаунта?":"Уже есть аккаунт?"),1),q("button",{onClick:a[3]||(a[3]=l=>n.value=!n.value)},Tt(n.value?"Зарегистрироваться":"Войти"),1)])])])):Jt("",!0)]))}}),Ng={class:"flex flex-col justify-center max-w-[1340px] mx-auto"},Fg={__name:"App",setup(e){const t=Wn();return so(()=>{t.getUser()}),(n,i)=>(z(),be("div",Ng,[F(jg),F(Ug),F(le(Pl))]))}};function Va(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function te(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Va(Object(n),!0).forEach(function(i){Qe(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Va(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function Qe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bg(e,t){if(e==null)return{};var n,i,r=function(o,c){if(o==null)return{};var a,l,u={},h=Object.keys(o);for(l=0;l<h.length;l++)a=h[l],c.indexOf(a)>=0||(u[a]=o[a]);return u}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function fn(e){return function(t){if(Array.isArray(t))return er(t)}(e)||function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(e)||function(t,n){if(t){if(typeof t=="string")return er(t,n);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return er(t,n)}}(e)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function er(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Ja,Hg,Ni,xe=(Ja=function(e){/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(){var t={}.hasOwnProperty;function n(){for(var i=[],r=0;r<arguments.length;r++){var s=arguments[r];if(s){var o=typeof s;if(o==="string"||o==="number")i.push(s);else if(Array.isArray(s)){if(s.length){var c=n.apply(null,s);c&&i.push(c)}}else if(o==="object")if(s.toString===Object.prototype.toString)for(var a in s)t.call(s,a)&&s[a]&&i.push(a);else i.push(s.toString())}}return i.join(" ")}e.exports?(n.default=n,e.exports=n):window.classNames=n})()},Ja(Ni={path:Hg,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(t==null&&Ni.path)}},Ni.exports),Ni.exports),lt=function(e){return function(t,n){if(!t)return e;var i;typeof t=="string"?i=t:n=t;var r=e;return i&&(r+="__"+i),r+(n?Object.keys(n).reduce(function(s,o){var c=n[o];return c&&(s+=" "+(typeof c=="boolean"?r+"--"+o:r+"--"+o+"_"+c)),s},""):"")}};function jr(e,t,n){var i,r,s,o,c;function a(){var u=Date.now()-o;u<t&&u>=0?i=setTimeout(a,t-u):(i=null,n||(c=e.apply(s,r),s=r=null))}t==null&&(t=100);var l=function(){s=this,r=arguments,o=Date.now();var u=n&&!i;return i||(i=setTimeout(a,t)),u&&(c=e.apply(s,r),s=r=null),c};return l.clear=function(){i&&(clearTimeout(i),i=null)},l.flush=function(){i&&(c=e.apply(s,r),s=r=null,clearTimeout(i),i=null)},l}jr.debounce=jr;var Ir=jr,D=function(){return D=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},D.apply(this,arguments)};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Fl(e,t){var n,i;return e&&t?(n=""+e+t[0].toUpperCase()+t.slice(1),i=e+"-"+t):(n=e||t,i=e||t),{name:n,classname:i}}function Bl(e){return/^blob:/.test(e)}function Xa(e){return Bl(e)||function(t){return/^data:/.test(t)}(e)}function En(e){return!!(e&&e.constructor&&e.call&&e.apply)}function Se(e){return e===void 0}function Xi(e){return typeof e=="object"&&e!==null}function Mr(e,t,n){var i={};return Xi(e)?(Object.keys(t).forEach(function(r){Se(e[r])?i[r]=t[r]:Xi(t[r])?Xi(e[r])?i[r]=Mr(e[r],t[r],n[r]):i[r]=e[r]?t[r]:n[r]:t[r]===!0||t[r]===!1?i[r]=!!e[r]:i[r]=e[r]}),i):e?t:n}function Fi(e){var t=Number(e);return Number.isNaN(t)?e:t}function Ya(e){return typeof(e=="number"||function(t){return typeof t=="object"&&t!==null}(e)&&toString.call(e)=="[object Number]")&&!Hl(e)}function Hl(e){return e!=e}function Wl(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}var fi=function(e,t){e===void 0&&(e={}),t===void 0&&(t={}),this.type="manipulateImage",this.move=e,this.scale=t},Wg=function(e,t){t===void 0&&(t={}),this.type="resize",this.directions=e,this.params=t},_o=function(e){this.type="move",this.directions=e},qg=function(){function e(t,n,i,r,s){this.type="drag",this.nativeEvent=t,this.position=i,this.previousPosition=r,this.element=n,this.anchor=s}return e.prototype.shift=function(){var t=this,n=t.element,i=t.anchor,r=t.position;if(n){var s=n.getBoundingClientRect(),o=s.left,c=s.top;return{left:r.left-o-i.left,top:r.top-c-i.top}}return{left:0,top:0}},e}(),Eo={name:"DraggableElement",props:{classname:{type:String}},beforeMount:function(){window.addEventListener("mouseup",this.onMouseUp,{passive:!1}),window.addEventListener("mousemove",this.onMouseMove,{passive:!1}),window.addEventListener("touchmove",this.onTouchMove,{passive:!1}),window.addEventListener("touchend",this.onTouchEnd,{passive:!1})},beforeUnmount:function(){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd)},mounted:function(){if(!this.$refs.draggable)throw new Error('You should add ref "draggable" to your root element to use draggable mixin');this.touches=[],this.hovered=!1},methods:{onMouseOver:function(){this.hovered||(this.hovered=!0,this.$emit("enter"))},onMouseLeave:function(){this.hovered&&!this.touches.length&&(this.hovered=!1,this.$emit("leave"))},onTouchStart:function(e){e.cancelable&&!this.disabled&&e.touches.length===1&&(this.touches=fn(e.touches),this.hovered||(this.$emit("enter"),this.hovered=!0),e.touches.length&&this.initAnchor(this.touches.reduce(function(t,n){return{clientX:t.clientX+n.clientX/e.touches.length,clientY:t.clientY+n.clientY/e.touches.length}},{clientX:0,clientY:0})),e.preventDefault&&e.preventDefault(),e.stopPropagation())},onTouchEnd:function(){this.processEnd()},onTouchMove:function(e){this.touches.length&&(this.processMove(e,e.touches),e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation())},onMouseDown:function(e){if(!this.disabled){var t={fake:!0,clientX:e.clientX,clientY:e.clientY};this.touches=[t],this.initAnchor(t),e.stopPropagation()}},onMouseMove:function(e){this.touches.length&&(this.processMove(e,[{fake:!0,clientX:e.clientX,clientY:e.clientY}]),e.preventDefault&&e.preventDefault())},onMouseUp:function(){this.processEnd()},initAnchor:function(e){var t=this.$refs.draggable.getBoundingClientRect(),n=t.left,i=t.right,r=t.bottom,s=t.top;this.anchor={left:e.clientX-n,top:e.clientY-s,bottom:r-e.clientY,right:i-e.clientX}},processMove:function(e,t){var n=fn(t);if(this.touches.length){if(this.touches.length===1&&n.length===1){var i=this.$refs.draggable;this.$emit("drag",new qg(e,i,{left:n[0].clientX,top:n[0].clientY},{left:this.touches[0].clientX,top:this.touches[0].clientY},this.anchor))}this.touches=n}},processEnd:function(){this.touches.length&&this.$emit("drag-end"),this.hovered&&(this.$emit("leave"),this.hovered=!1),this.touches=[]}},emits:["drag","drag-end","leave","enter"]};Eo.render=function(e,t,n,i,r,s){return z(),Z("div",{ref:"draggable",class:n.classname,onTouchstart:t[1]||(t[1]=function(){return s.onTouchStart&&s.onTouchStart.apply(s,arguments)}),onMousedown:t[2]||(t[2]=function(){return s.onMouseDown&&s.onMouseDown.apply(s,arguments)}),onMouseover:t[3]||(t[3]=function(){return s.onMouseOver&&s.onMouseOver.apply(s,arguments)}),onMouseleave:t[4]||(t[4]=function(){return s.onMouseLeave&&s.onMouseLeave.apply(s,arguments)})},[jt(e.$slots,"default")],34)};var tr=lt("vue-handler-wrapper"),ql={name:"HandlerWrapper",components:{DraggableElement:Eo},props:{horizontalPosition:{type:String},verticalPosition:{type:String},disabled:{type:Boolean,default:!1}},computed:{classes:function(){var e;if(this.horizontalPosition||this.verticalPosition){var t,n=Fl(this.horizontalPosition,this.verticalPosition);e=tr((Qe(t={},n.classname,!0),Qe(t,"disabled",this.disabled),t))}else e=tr({disabled:this.disabled});return{root:e,draggable:tr("draggable")}}},emits:["leave","enter","drag","drag-end"]};ql.render=function(e,t,n,i,r,s){var o=Pt("DraggableElement");return z(),Z("div",{class:s.classes.root},[F(o,{class:s.classes.draggable,onDrag:t[1]||(t[1]=function(c){return e.$emit("drag",c)}),onDragEnd:t[2]||(t[2]=function(c){return e.$emit("drag-end")}),onLeave:t[3]||(t[3]=function(c){return e.$emit("leave")}),onEnter:t[4]||(t[4]=function(c){return e.$emit("enter")})},{default:Je(function(){return[jt(e.$slots,"default")]}),_:3},8,["class"])],2)};var Kg=lt("vue-line-wrapper"),Kl={name:"LineWrapper",components:{DraggableElement:Eo},props:{position:{type:String,required:!0},disabled:{type:Boolean,default:!1}},computed:{classname:function(){var e;return Kg((Qe(e={},this.position,!0),Qe(e,"disabled",this.disabled),e))}},emits:["leave","enter","drag","drag-end"]};Kl.render=function(e,t,n,i,r,s){var o=Pt("DraggableElement");return z(),Z(o,{class:s.classname,onDrag:t[1]||(t[1]=function(c){return e.$emit("drag",c)}),onDragEnd:t[2]||(t[2]=function(c){return e.$emit("drag-end")}),onLeave:t[3]||(t[3]=function(c){return e.$emit("leave")}),onEnter:t[4]||(t[4]=function(c){return e.$emit("enter")})},{default:Je(function(){return[jt(e.$slots,"default")]}),_:3},8,["class"])};var gt=["left","right","top","bottom"],Vg=["left","right"],Jg=["top","bottom"],Xg=["left","top"],Yg=["fill-area","fit-area","stencil","none"],Ga={left:0,top:0,width:0,height:0};function Qa(e,t,n){return!(n=n||["width","height","left","top"]).some(function(i){return e[i]!==t[i]})}function yt(e){return{left:e.left,top:e.top,right:e.left+e.width,bottom:e.top+e.height}}function In(e,t){return{left:e.left-t.left,top:e.top-t.top}}function Pe(e){return{left:e.left+e.width/2,top:e.top+e.height/2}}function Ei(e,t){var n={left:0,top:0,right:0,bottom:0};return gt.forEach(function(i){var r=t[i],s=yt(e)[i];n[i]=r!==void 0&&s!==void 0?i==="left"||i==="top"?Math.max(0,r-s):Math.max(0,s-r):0}),n}function pt(e,t){return{left:e.left-t.left,top:e.top-t.top,width:e.width+t.left+t.right,height:e.height+t.top+t.bottom}}function Ts(e){return{left:-e.left,top:-e.top}}function Fe(e,t){return D(D({},e),{left:e.left+t.left,top:e.top+t.top})}function Ze(e,t,n,i){if(t!==1){if(n){var r=Pe(e);return{width:e.width*t,height:e.height*t,left:e.left+e.width*(1-t)/2+(n.left-r.left)*(i||1-t),top:e.top+e.height*(1-t)/2+(n.top-r.top)*(i||1-t)}}return{width:e.width*t,height:e.height*t,left:e.left+e.width*(1-t)/2,top:e.top+e.height*(1-t)/2}}return e}function ie(e){return e.width/e.height}function Mn(e,t){return Math.min(t.right!==void 0&&t.left!==void 0?(t.right-t.left)/e.width:1/0,t.bottom!==void 0&&t.top!==void 0?(t.bottom-t.top)/e.height:1/0)}function zn(e,t){var n={left:0,top:0},i=Ei(e,t);return i.left&&i.left>0?n.left=i.left:i.right&&i.right>0&&(n.left=-i.right),i.top&&i.top>0?n.top=i.top:i.bottom&&i.bottom>0&&(n.top=-i.bottom),n}function nr(e,t){var n;return t.minimum&&e<t.minimum?n=t.minimum:t.maximum&&e>t.maximum&&(n=t.maximum),n}function Vl(e,t){var n=ie(e),i=ie(t);return t.width<1/0&&t.height<1/0?n>i?{width:t.width,height:t.width/n}:{width:t.height*n,height:t.height}:t.width<1/0?{width:t.width,height:t.width/n}:t.height<1/0?{width:t.height*n,height:t.height}:e}function Jl(e,t){var n=t*Math.PI/180;return{width:Math.abs(e.width*Math.cos(n))+Math.abs(e.height*Math.sin(n)),height:Math.abs(e.width*Math.sin(n))+Math.abs(e.height*Math.cos(n))}}function Wt(e,t){var n=t*Math.PI/180;return{left:e.left*Math.cos(n)-e.top*Math.sin(n),top:e.left*Math.sin(n)+e.top*Math.cos(n)}}function Cs(e,t){var n=Ei(ke(e,t),t);return n.left+n.right+n.top+n.bottom?n.left+n.right>n.top+n.bottom?Math.min((e.width+n.left+n.right)/e.width,Mn(e,t)):Math.min((e.height+n.top+n.bottom)/e.height,Mn(e,t)):1}function ke(e,t,n){n===void 0&&(n=!1);var i=zn(e,t);return Fe(e,n?Ts(i):i)}function zr(e){return{width:e.right!==void 0&&e.left!==void 0?e.right-e.left:1/0,height:e.bottom!==void 0&&e.top!==void 0?e.bottom-e.top:1/0}}function Gg(e,t){return D(D({},e),{minWidth:Math.min(t.width,e.minWidth),minHeight:Math.min(t.height,e.minHeight),maxWidth:Math.min(t.width,e.maxWidth),maxHeight:Math.min(t.height,e.maxHeight)})}function Xl(e,t,n){n===void 0&&(n=!0);var i={};return gt.forEach(function(r){var s=e[r],o=t[r];s!==void 0&&o!==void 0?i[r]=r==="left"||r==="top"?n?Math.max(s,o):Math.min(s,o):n?Math.min(s,o):Math.max(s,o):o!==void 0?i[r]=o:s!==void 0&&(i[r]=s)}),i}function Ps(e,t){return Xl(e,t,!0)}function Za(e){var t=e.size,n=e.aspectRatio,i=e.ignoreMinimum,r=e.sizeRestrictions;return!!((t.correctRatio||ie(t)>=n.minimum&&ie(t)<=n.maximum)&&t.height<=r.maxHeight&&t.width<=r.maxWidth&&t.width&&t.height&&(i||t.height>=r.minHeight&&t.width>=r.minWidth))}function ec(e,t){return Math.pow(e.width-t.width,2)+Math.pow(e.height-t.height,2)}function Ot(e){var t=e.width,n=e.height,i=e.sizeRestrictions,r={minimum:e.aspectRatio&&e.aspectRatio.minimum||0,maximum:e.aspectRatio&&e.aspectRatio.maximum||1/0},s={width:Math.max(i.minWidth,Math.min(i.maxWidth,t)),height:Math.max(i.minHeight,Math.min(i.maxHeight,n))};function o(l,u){return u===void 0&&(u=!1),l.reduce(function(h,f){return Za({size:f,aspectRatio:r,sizeRestrictions:i,ignoreMinimum:u})&&(!h||ec(f,{width:t,height:n})<ec(h,{width:t,height:n}))?f:h},null)}var c=[];r&&[r.minimum,r.maximum].forEach(function(l){l&&c.push({width:s.width,height:s.width/l,correctRatio:!0},{width:s.height*l,height:s.height,correctRatio:!0})}),Za({size:s,aspectRatio:r,sizeRestrictions:i})&&c.push(s);var a=o(c)||o(c,!0);return a&&{width:a.width,height:a.height}}function Lr(e){var t=e.event,n=e.coordinates,i=e.positionRestrictions,r=i===void 0?{}:i,s=Fe(n,t.directions);return Fe(s,zn(s,r))}function Qg(e){var t=e.coordinates,n=e.transform,i=e.imageSize,r=e.sizeRestrictions,s=e.positionRestrictions,o=e.aspectRatio,c=e.visibleArea,a=function(u,h){return Lr({coordinates:u,positionRestrictions:s,event:new _o({left:h.left-u.left,top:h.top-u.top})})},l=D({},t);return(Array.isArray(n)?n:[n]).forEach(function(u){var h={};Se((h=typeof u=="function"?u({coordinates:l,imageSize:i,visibleArea:c}):u).width)&&Se(h.height)||(l=function(f,p){var g=D(D(D({},f),Ot({width:p.width,height:p.height,sizeRestrictions:r,aspectRatio:o})),{left:0,top:0});return a(g,{left:f.left,top:f.top})}(l,D(D({},l),h))),Se(h.left)&&Se(h.top)||(l=a(l,D(D({},l),h)))}),l}function Zg(e){e.event;var t=e.getAreaRestrictions,n=e.boundaries,i=e.coordinates,r=e.visibleArea;e.aspectRatio;var s=e.stencilSize,o=e.sizeRestrictions,c=e.positionRestrictions;e.stencilReference;var a,l,u,h=D({},i),f=D({},r),p=D({},s);a=ie(p),l=ie(h),u===void 0&&(u=.001),(a===0||l===0?Math.abs(l-a)<u:Math.abs(l/a)<1+u&&Math.abs(l/a)>1-u)||(h=D(D({},h),Ot({sizeRestrictions:o,width:h.width,height:h.height,aspectRatio:{minimum:ie(p),maximum:ie(p)}})));var g=Cs(f=Ze(f,h.width*n.width/(f.width*p.width)),t({visibleArea:f,type:"resize"}));return g!==1&&(f=Ze(f,g),h=Ze(h,g)),f=ke(f=Fe(f,In(Pe(h),Pe(f))),t({visibleArea:f,type:"move"})),{coordinates:h=ke(h,Ps(yt(f),c)),visibleArea:f}}function ev(e){var t=e.event,n=e.getAreaRestrictions,i=e.boundaries,r=e.coordinates,s=e.visibleArea;e.aspectRatio,e.stencilSize,e.sizeRestrictions;var o=e.positionRestrictions;e.stencilReference;var c=D({},r),a=D({},s);if(r&&s&&t.type!=="manipulateImage"){var l={width:0,height:0};a.width,i.width,ie(i)>ie(c)?(l.height=.8*i.height,l.width=l.height*ie(c)):(l.width=.8*i.width,l.height=l.width*ie(c));var u=Cs(a=Ze(a,c.width*i.width/(a.width*l.width)),n({visibleArea:a,type:"resize"}));a=Ze(a,u),u!==1&&(l.height/=u,l.width/=u),a=ke(a=Fe(a,In(Pe(c),Pe(a))),n({visibleArea:a,type:"move"})),c=ke(c,Ps(yt(a),o))}return{coordinates:c,visibleArea:a}}function tv(e){var t=e.event,n=e.coordinates,i=e.visibleArea,r=e.getAreaRestrictions,s=D({},i),o=D({},n);if(t.type==="setCoordinates"){var c=Math.max(0,o.width-s.width),a=Math.max(0,o.height-s.height);c>a?s=Ze(s,Math.min(o.width/s.width,Mn(s,r({visibleArea:s,type:"resize"})))):a>c&&(s=Ze(s,Math.min(o.height/s.height,Mn(s,r({visibleArea:s,type:"resize"}))))),s=ke(s=Fe(s,Ts(zn(o,yt(s)))),r({visibleArea:s,type:"move"}))}return{visibleArea:s,coordinates:o}}function nv(e){var t=e.imageSize,n=e.visibleArea,i=e.coordinates,r=n||t;return{left:(n?n.left:0)+r.width/2-i.width/2,top:(n?n.top:0)+r.height/2-i.height/2}}function iv(e){var t=e.imageSize,n=e.visibleArea,i=e.aspectRatio,r=e.sizeRestrictions,s=n||t,o=Math.min(i.maximum||1/0,Math.max(i.minimum||0,ie(s))),c=s.width<s.height?{width:.8*s.width,height:.8*s.width/o}:{height:.8*s.height,width:.8*s.height*o};return Ot(D(D({},c),{aspectRatio:i,sizeRestrictions:r}))}function sv(e){var t,n,i=e.imageSize,r=e.visibleArea,s=e.boundaries,o=e.aspectRatio,c=e.sizeRestrictions,a=e.stencilSize,l=r||i;return ie(l)>ie(s)?n=(t=a.height*l.height/s.height)*ie(a):t=(n=a.width*l.width/s.width)/ie(a),Ot({width:n,height:t,aspectRatio:o,sizeRestrictions:c})}function rv(e){var t=e.getAreaRestrictions,n=e.coordinates,i=e.imageSize,r=ie(e.boundaries);if(n){var s={height:Math.max(n.height,i.height),width:Math.max(n.width,i.width)},o=Vl({width:ie(s)>r?s.width:s.height*r,height:ie(s)>r?s.width/r:s.height},zr(t())),c={left:n.left+n.width/2-o.width/2,top:n.top+n.height/2-o.height/2,width:o.width,height:o.height},a=Ei(n,yt(D({left:0,top:0},i))),l={};return!a.left&&!a.right&&c.width<=i.width&&(l.left=0,l.right=i.width),!a.top&&!a.bottom&&c.height<=i.height&&(l.top=0,l.bottom=i.height),ke(c,l)}var u=ie(i);return o={height:u>r?i.height:i.width/r,width:u>r?i.height*r:i.width},{left:i.width/2-o.width/2,top:i.height/2-o.height/2,width:o.width,height:o.height}}function Bi(e,t){return Xl(e,yt(t))}function ov(e){var t=e.event,n=e.coordinates,i=e.visibleArea,r=e.sizeRestrictions,s=e.getAreaRestrictions,o=e.positionRestrictions,c=e.adjustStencil,a=t.scale,l=t.move,u=D({},i),h=D({},n),f=1,p=1,g=a.factor&&Math.abs(a.factor-1)>.001;u=Fe(u,{left:l.left||0,top:l.top||0});var v={stencil:{minimum:Math.max(r.minWidth?r.minWidth/h.width:0,r.minHeight?r.minHeight/h.height:0),maximum:Math.min(r.maxWidth?r.maxWidth/h.width:1/0,r.maxHeight?r.maxHeight/h.height:1/0,Mn(h,o))},area:{maximum:Mn(u,s({visibleArea:u,type:"resize"}))}};a.factor&&g&&(a.factor<1?(p=Math.max(a.factor,v.stencil.minimum))>1&&(p=1):a.factor>1&&(p=Math.min(a.factor,Math.min(v.area.maximum,v.stencil.maximum)))<1&&(p=1)),p&&(u=Ze(u,p,a.center));var E=n.left-i.left,x=i.width+i.left-(n.width+n.left),C=n.top-i.top,I=i.height+i.top-(n.height+n.top);return u=ke(u=Fe(u,zn(u,{left:o.left!==void 0?o.left-E*p:void 0,top:o.top!==void 0?o.top-C*p:void 0,bottom:o.bottom!==void 0?o.bottom+I*p:void 0,right:o.right!==void 0?o.right+x*p:void 0})),s({visibleArea:u,type:"move"})),h.width=h.width*p,h.height=h.height*p,h.left=u.left+E*p,h.top=u.top+C*p,h=ke(h,Ps(yt(u),o)),a.factor&&g&&c&&(a.factor>1?f=Math.min(v.area.maximum,a.factor)/p:a.factor<1&&(f=Math.max(h.height/u.height,h.width/u.width,a.factor/p)),f!==1&&(u=Fe(u=ke(u=Ze(u,f,a.factor>1?a.center:Pe(h)),s({visibleArea:u,type:"move"})),Ts(zn(h,yt(u)))))),{coordinates:h,visibleArea:u}}function av(e){var t=e.aspectRatio,n=e.getAreaRestrictions,i=e.coordinates,r=e.visibleArea,s=e.sizeRestrictions,o=e.positionRestrictions,c=e.imageSize,a=e.previousImageSize,l=e.angle,u=D({},i),h=D({},r),f=Wt(Pe(D({left:0,top:0},a)),l);return(u=D(D({},Ot({sizeRestrictions:s,aspectRatio:t,width:u.width,height:u.height})),Wt(Pe(u),l))).left-=f.left-c.width/2+u.width/2,u.top-=f.top-c.height/2+u.height/2,h=Ze(h,Cs(h,n({visibleArea:h,type:"resize"}))),{coordinates:u=ke(u,o),visibleArea:h=ke(h=Fe(h,In(Pe(u),Pe(i))),n({visibleArea:h,type:"move"}))}}function cv(e){var t=e.flip,n=e.previousFlip,i=e.rotate;e.aspectRatio;var r=e.getAreaRestrictions,s=e.coordinates,o=e.visibleArea,c=e.imageSize,a=D({},s),l=D({},o),u=n.horizontal!==t.horizontal,h=n.vertical!==t.vertical;if(u||h){var f=Wt({left:c.width/2,top:c.height/2},-i),p=Wt(Pe(a),-i),g=Wt({left:u?f.left-(p.left-f.left):p.left,top:h?f.top-(p.top-f.top):p.top},i);a=Fe(a,In(g,Pe(a))),p=Wt(Pe(l),-i),l=ke(l=Fe(l,In(g=Wt({left:u?f.left-(p.left-f.left):p.left,top:h?f.top-(p.top-f.top):p.top},i),Pe(l))),r({visibleArea:l,type:"move"}))}return{coordinates:a,visibleArea:l}}function tc(e){var t=e.directions,n=e.coordinates,i=e.positionRestrictions,r=i===void 0?{}:i,s=e.sizeRestrictions,o=e.preserveRatio,c=e.compensate,a=D({},t),l=pt(n,a).width,u=pt(n,a).height;l<0&&(a.left<0&&a.right<0?(a.left=-(n.width-s.minWidth)/(a.left/a.right),a.right=-(n.width-s.minWidth)/(a.right/a.left)):a.left<0?a.left=-(n.width-s.minWidth):a.right<0&&(a.right=-(n.width-s.minWidth))),u<0&&(a.top<0&&a.bottom<0?(a.top=-(n.height-s.minHeight)/(a.top/a.bottom),a.bottom=-(n.height-s.minHeight)/(a.bottom/a.top)):a.top<0?a.top=-(n.height-s.minHeight):a.bottom<0&&(a.bottom=-(n.height-s.minHeight)));var h=Ei(pt(n,a),r);c&&(h.left&&h.left>0&&h.right===0?(a.right+=h.left,a.left-=h.left):h.right&&h.right>0&&h.left===0&&(a.left+=h.right,a.right-=h.right),h.top&&h.top>0&&h.bottom===0?(a.bottom+=h.top,a.top-=h.top):h.bottom&&h.bottom>0&&h.top===0&&(a.top+=h.bottom,a.bottom-=h.bottom),h=Ei(pt(n,a),r));var f={width:1/0,height:1/0,left:1/0,right:1/0,top:1/0,bottom:1/0};if(gt.forEach(function(v){var E=h[v];E&&a[v]&&(f[v]=Math.max(0,1-E/a[v]))}),o){var p=Math.min.apply(null,gt.map(function(v){return f[v]}));p!==1/0&&gt.forEach(function(v){a[v]*=p})}else gt.forEach(function(v){f[v]!==1/0&&(a[v]*=f[v])});if(l=pt(n,a).width,u=pt(n,a).height,a.right+a.left&&(l>s.maxWidth?f.width=(s.maxWidth-n.width)/(a.right+a.left):l<s.minWidth&&(f.width=(s.minWidth-n.width)/(a.right+a.left))),a.bottom+a.top&&(u>s.maxHeight?f.height=(s.maxHeight-n.height)/(a.bottom+a.top):u<s.minHeight&&(f.height=(s.minHeight-n.height)/(a.bottom+a.top))),o){var g=Math.min(f.width,f.height);g!==1/0&&gt.forEach(function(v){a[v]*=g})}else f.width!==1/0&&Vg.forEach(function(v){a[v]*=f.width}),f.height!==1/0&&Jg.forEach(function(v){a[v]*=f.height});return a}function Hi(e,t,n){return t==0&&n==0?e/2:t==0?0:n==0?e:e*Math.abs(t/(t+n))}var lv=lt("vue-simple-handler"),uv=lt("vue-simple-handler-wrapper"),Ro={name:"SimpleHandler",components:{HandlerWrapper:ql},props:{defaultClass:{type:String},hoverClass:{type:String},wrapperClass:{type:String},horizontalPosition:{type:String},verticalPosition:{type:String},disabled:{type:Boolean,default:!1}},data:function(){return{hover:!1}},computed:{classes:function(){var e,t=(Qe(e={},this.horizontalPosition,!!this.horizontalPosition),Qe(e,this.verticalPosition,!!this.verticalPosition),Qe(e,"".concat(this.horizontalPosition,"-").concat(this.verticalPosition),!!(this.verticalPosition&&this.horizontalPosition)),Qe(e,"hover",this.hover),e);return{default:xe(lv(t),this.defaultClass,this.hover&&this.hoverClass),wrapper:xe(uv(t),this.wrapperClass)}}},methods:{onDrag:function(e){this.$emit("drag",e)},onEnter:function(){this.hover=!0},onLeave:function(){this.hover=!1},onDragEnd:function(){this.$emit("drag-end")}},emits:["drag","drag-end"]};Ro.render=function(e,t,n,i,r,s){var o=Pt("HandlerWrapper");return z(),Z(o,{class:s.classes.wrapper,"vertical-position":n.verticalPosition,"horizontal-position":n.horizontalPosition,disabled:n.disabled,onDrag:s.onDrag,onDragEnd:s.onDragEnd,onEnter:s.onEnter,onLeave:s.onLeave},{default:Je(function(){return[F("div",{class:s.classes.default},null,2)]}),_:1},8,["class","vertical-position","horizontal-position","disabled","onDrag","onDragEnd","onEnter","onLeave"])};var hv=lt("vue-simple-line"),fv=lt("vue-simple-line-wrapper"),xo={name:"SimpleLine",components:{LineWrapper:Kl},props:{defaultClass:{type:String},hoverClass:{type:String},wrapperClass:{type:String},position:{type:String},disabled:{type:Boolean,default:!1}},data:function(){return{hover:!1}},computed:{classes:function(){return{root:xe(hv(Qe({},this.position,!0)),this.defaultClass,this.hover&&this.hoverClass),wrapper:xe(fv(Qe({},this.position,!0)),this.wrapperClass)}}},methods:{onDrag:function(e){this.$emit("drag",e)},onEnter:function(){this.hover=!0},onLeave:function(){this.hover=!1},onDragEnd:function(){this.$emit("drag-end")}},emits:["drag","drag-end"]};xo.render=function(e,t,n,i,r,s){var o=Pt("LineWrapper");return z(),Z(o,{class:s.classes.wrapper,position:n.position,disabled:n.disabled,onDrag:s.onDrag,onDragEnd:s.onDragEnd,onEnter:s.onEnter,onLeave:s.onLeave},{default:Je(function(){return[F("div",{class:s.classes.root},null,2)]}),_:1},8,["class","position","disabled","onDrag","onDragEnd","onEnter","onLeave"])};var ir=lt("vue-bounding-box"),dv=["east","west",null],pv=["south","north",null],Yl={name:"BoundingBox",props:{width:{type:Number},height:{type:Number},transitions:{type:Object},handlers:{type:Object,default:function(){return{eastNorth:!0,north:!0,westNorth:!0,west:!0,westSouth:!0,south:!0,eastSouth:!0,east:!0}}},handlersComponent:{type:[Object,String],default:function(){return Ro}},handlersClasses:{type:Object,default:function(){return{}}},handlersWrappersClasses:{type:Object,default:function(){return{}}},lines:{type:Object,default:function(){return{west:!0,north:!0,east:!0,south:!0}}},linesComponent:{type:[Object,String],default:function(){return xo}},linesClasses:{type:Object,default:function(){return{}}},linesWrappersClasses:{type:Object,default:function(){return{}}},resizable:{type:Boolean,default:!0}},data:function(){var e=[];return dv.forEach(function(t){pv.forEach(function(n){if(t!==n){var i=Fl(t,n),r=i.name,s=i.classname;e.push({name:r,classname:s,verticalDirection:n,horizontalDirection:t})}})}),{points:e}},computed:{style:function(){var e={};return this.width&&this.height&&(e.width="".concat(this.width,"px"),e.height="".concat(this.height,"px"),this.transitions&&this.transitions.enabled&&(e.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction))),e},classes:function(){var e=this.handlersClasses,t=this.handlersWrappersClasses,n=this.linesClasses,i=this.linesWrappersClasses;return{root:ir(),handlers:e,handlersWrappers:t,lines:n,linesWrappers:i}},lineNodes:function(){var e=this,t=[];return this.points.forEach(function(n){n.horizontalDirection&&n.verticalDirection||!e.lines[n.name]||t.push({name:n.name,component:e.linesComponent,class:xe(e.classes.lines.default,e.classes.lines[n.name],!e.resizable&&e.classes.lines.disabled),wrapperClass:xe(e.classes.linesWrappers.default,e.classes.linesWrappers[n.name],!e.resizable&&e.classes.linesWrappers.disabled),hoverClass:e.classes.lines.hover,verticalDirection:n.verticalDirection,horizontalDirection:n.horizontalDirection,disabled:!e.resizable})}),t},handlerNodes:function(){var e=this,t=[],n=this.width,i=this.height;return this.points.forEach(function(r){if(e.handlers[r.name]){var s={name:r.name,component:e.handlersComponent,class:xe(e.classes.handlers.default,e.classes.handlers[r.name]),wrapperClass:xe(e.classes.handlersWrappers.default,e.classes.handlersWrappers[r.name]),hoverClass:e.classes.handlers.hover,verticalDirection:r.verticalDirection,horizontalDirection:r.horizontalDirection,disabled:!e.resizable};if(n&&i){var o=r.horizontalDirection,c=r.verticalDirection,a=o==="east"?n:o==="west"?0:n/2,l=c==="south"?i:c==="north"?0:i/2;s.wrapperClass=ir("handler"),s.wrapperStyle={transform:"translate(".concat(a,"px, ").concat(l,"px)")},e.transitions&&e.transitions.enabled&&(s.wrapperStyle.transition="".concat(e.transitions.time,"ms ").concat(e.transitions.timingFunction))}else s.wrapperClass=ir("handler",Qe({},r.classname,!0));t.push(s)}}),t}},beforeMount:function(){window.addEventListener("mouseup",this.onMouseUp,{passive:!1}),window.addEventListener("mousemove",this.onMouseMove,{passive:!1}),window.addEventListener("touchmove",this.onTouchMove,{passive:!1}),window.addEventListener("touchend",this.onTouchEnd,{passive:!1})},beforeUnmount:function(){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd)},mounted:function(){this.touches=[]},methods:{onEnd:function(){this.$emit("resize-end")},onHandlerDrag:function(e,t,n){var i,r=e.shift(),s=r.left,o=r.top,c={left:0,right:0,top:0,bottom:0};t==="west"?c.left-=s:t==="east"&&(c.right+=s),n==="north"?c.top-=o:n==="south"&&(c.bottom+=o),!n&&t?i="width":n&&!t&&(i="height"),this.resizable&&this.$emit("resize",new Wg(c,{allowedDirections:{left:t==="west"||!t,right:t==="east"||!t,bottom:n==="south"||!n,top:n==="north"||!n},preserveAspectRatio:e.nativeEvent&&e.nativeEvent.shiftKey,respectDirection:i}))}},emits:["resize","resize-end"]};Yl.render=function(e,t,n,i,r,s){return z(),Z("div",{ref:"box",class:s.classes.root,style:s.style},[jt(e.$slots,"default"),F("div",null,[(z(!0),Z(Le,null,mr(s.lineNodes,function(o){return z(),Z(is(o.component),{key:o.name,"default-class":o.class,"hover-class":o.hoverClass,"wrapper-class":o.wrapperClass,position:o.name,disabled:o.disabled,onDrag:function(c){return s.onHandlerDrag(c,o.horizontalDirection,o.verticalDirection)},onDragEnd:t[1]||(t[1]=function(c){return s.onEnd()})},null,8,["default-class","hover-class","wrapper-class","position","disabled","onDrag"])}),128))]),(z(!0),Z(Le,null,mr(s.handlerNodes,function(o){return z(),Z("div",{key:o.name,style:o.wrapperStyle,class:o.wrapperClass},[(z(),Z(is(o.component),{"default-class":o.class,"hover-class":o.hoverClass,"wrapper-class":o.wrapperClass,"horizontal-position":o.horizontalDirection,"vertical-position":o.verticalDirection,disabled:o.disabled,onDrag:function(c){return s.onHandlerDrag(c,o.horizontalDirection,o.verticalDirection)},onDragEnd:t[2]||(t[2]=function(c){return s.onEnd()})},null,8,["default-class","hover-class","wrapper-class","horizontal-position","vertical-position","disabled","onDrag"]))],6)}),128))],6)};var mv=lt("vue-draggable-area"),Gl={name:"DraggableArea",props:{movable:{type:Boolean,default:!0},activationDistance:{type:Number,default:20}},computed:{classnames:function(){return{default:mv()}}},beforeMount:function(){window.addEventListener("mouseup",this.onMouseUp,{passive:!1}),window.addEventListener("mousemove",this.onMouseMove,{passive:!1}),window.addEventListener("touchmove",this.onTouchMove,{passive:!1}),window.addEventListener("touchend",this.onTouchEnd,{passive:!1})},beforeUnmount:function(){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd)},mounted:function(){this.touches=[],this.touchStarted=!1},methods:{onTouchStart:function(e){if(e.cancelable){var t=this.movable&&e.touches.length===1;t&&(this.touches=fn(e.touches)),(this.touchStarted||t)&&(e.preventDefault(),e.stopPropagation())}},onTouchEnd:function(){this.touchStarted=!1,this.processEnd()},onTouchMove:function(e){this.touches.length>=1&&(this.touchStarted?(this.processMove(e,e.touches),e.preventDefault(),e.stopPropagation()):Wl({x:this.touches[0].clientX,y:this.touches[0].clientY},{x:e.touches[0].clientX,y:e.touches[0].clientY})>this.activationDistance&&(this.initAnchor({clientX:e.touches[0].clientX,clientY:e.touches[0].clientY}),this.touchStarted=!0))},onMouseDown:function(e){if(this.movable&&e.button===0){var t={fake:!0,clientX:e.clientX,clientY:e.clientY};this.touches=[t],this.initAnchor(t),e.stopPropagation()}},onMouseMove:function(e){this.touches.length&&(this.processMove(e,[{fake:!0,clientX:e.clientX,clientY:e.clientY}]),e.preventDefault&&e.cancelable&&e.preventDefault(),e.stopPropagation())},onMouseUp:function(){this.processEnd()},initAnchor:function(e){var t=this.$refs.container.getBoundingClientRect(),n=t.left,i=t.top;this.anchor={x:e.clientX-n,y:e.clientY-i}},processMove:function(e,t){var n=fn(t);if(this.touches.length){var i=this.$refs.container.getBoundingClientRect(),r=i.left,s=i.top;this.touches.length===1&&n.length===1&&this.$emit("move",new _o({left:n[0].clientX-(r+this.anchor.x),top:n[0].clientY-(s+this.anchor.y)}))}},processEnd:function(){this.touches.length&&this.$emit("move-end"),this.touches=[]}},emits:["move","move-end"]};Gl.render=function(e,t,n,i,r,s){return z(),Z("div",{ref:"container",onTouchstart:t[1]||(t[1]=function(){return s.onTouchStart&&s.onTouchStart.apply(s,arguments)}),onMousedown:t[2]||(t[2]=function(){return s.onMouseDown&&s.onMouseDown.apply(s,arguments)})},[jt(e.$slots,"default")],544)};function sr(e){var t,n;return{rotate:e.rotate||0,flip:{horizontal:((t=e==null?void 0:e.flip)===null||t===void 0?void 0:t.horizontal)||!1,vertical:((n=e==null?void 0:e.flip)===null||n===void 0?void 0:n.vertical)||!1}}}function gv(e){return new Promise(function(t,n){try{if(e)if(/^data:/i.test(e))t(function(a){a=a.replace(/^data:([^;]+);base64,/gim,"");for(var l=atob(a),u=l.length,h=new ArrayBuffer(u),f=new Uint8Array(h),p=0;p<u;p++)f[p]=l.charCodeAt(p);return h}(e));else if(/^blob:/i.test(e)){var i=new FileReader;i.onload=function(a){t(a.target.result)},s=e,o=function(a){i.readAsArrayBuffer(a)},(c=new XMLHttpRequest).open("GET",s,!0),c.responseType="blob",c.onload=function(){this.status!=200&&this.status!==0||o(this.response)},c.send()}else{var r=new XMLHttpRequest;r.onreadystatechange=function(){r.readyState===4&&(r.status===200||r.status===0?t(r.response):n("Warning: could not load an image to parse its orientation"),r=null)},r.onprogress=function(){r.getResponseHeader("content-type")!=="image/jpeg"&&r.abort()},r.withCredentials=!1,r.open("GET",e,!0),r.responseType="arraybuffer",r.send(null)}else n("Error: the image is empty")}catch(a){n(a)}var s,o,c})}function Ql(e){var t=e.rotate,n=e.flip,i=e.scaleX,r=e.scaleY,s="";return s+=" rotate("+t+"deg) ",s+=" scaleX("+i*(n.horizontal?-1:1)+") ",s+=" scaleY("+r*(n.vertical?-1:1)+") "}function vv(e){try{var t,n=new DataView(e),i=void 0,r=void 0,s=void 0,o=void 0;if(n.getUint8(0)===255&&n.getUint8(1)===216)for(var c=n.byteLength,a=2;a+1<c;){if(n.getUint8(a)===255&&n.getUint8(a+1)===225){s=a;break}a++}if(s&&(i=s+10,function(p,g,v){var E,x="";for(E=g,v+=g;E<v;E++)x+=String.fromCharCode(p.getUint8(E));return x}(n,s+4,4)==="Exif")){var l=n.getUint16(i);if(((r=l===18761)||l===19789)&&n.getUint16(i+2,r)===42){var u=n.getUint32(i+4,r);u>=8&&(o=i+u)}}if(o){for(var h=n.getUint16(o,r),f=0;f<h;f++)if(a=o+12*f+2,n.getUint16(a,r)===274){a+=8,t=n.getUint16(a,r),n.setUint16(a,1,r);break}}return t}catch{return null}}function nc(e,t){var n=t.getBoundingClientRect(),i=n.left,r=n.top,s={left:0,top:0},o=0;return e.forEach(function(c){s.left+=(c.clientX-i)/e.length,s.top+=(c.clientY-r)/e.length}),e.forEach(function(c){o+=Wl({x:s.left,y:s.top},{x:c.clientX-i,y:c.clientY-r})}),{centerMass:s,spread:o,count:e.length}}var Zl={props:{touchMove:{type:Boolean,required:!0},mouseMove:{type:Boolean,required:!0},touchResize:{type:Boolean,required:!0},wheelResize:{type:[Boolean,Object],required:!0},eventsFilter:{type:Function,required:!1}},beforeMount:function(){window.addEventListener("mouseup",this.onMouseUp,{passive:!1}),window.addEventListener("mousemove",this.onMouseMove,{passive:!1}),window.addEventListener("touchmove",this.onTouchMove,{passive:!1}),window.addEventListener("touchend",this.onTouchEnd,{passive:!1})},beforeUnmount:function(){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd)},created:function(){this.transforming=!1,this.debouncedProcessEnd=Ir(this.processEnd),this.touches=[]},methods:{processMove:function(e,t){if(this.touches.length){if(this.touches.length===1&&t.length===1)this.$emit("move",new fi({left:this.touches[0].clientX-t[0].clientX,top:this.touches[0].clientY-t[0].clientY}));else if(this.touches.length>1&&this.touchResize){var n=nc(t,this.$refs.container),i=this.oldGeometricProperties;i.count===n.count&&i.count>1&&this.$emit("resize",new fi({left:i.centerMass.left-n.centerMass.left,top:i.centerMass.top-n.centerMass.top},{factor:i.spread/n.spread,center:n.centerMass})),this.oldGeometricProperties=n}this.touches=t}},processEnd:function(){this.transforming&&(this.transforming=!1,this.$emit("transform-end"))},processStart:function(){this.transforming=!0,this.debouncedProcessEnd.clear()},processEvent:function(e){return this.eventsFilter?this.eventsFilter(e,this.transforming)!==!1:(e.preventDefault(),e.stopPropagation(),!0)},onTouchStart:function(e){if(e.cancelable&&(this.touchMove||this.touchResize&&e.touches.length>1)&&this.processEvent(e)){var t=this.$refs.container,n=t.getBoundingClientRect(),i=n.left,r=n.top,s=n.bottom,o=n.right;this.touches=fn(e.touches).filter(function(c){return c.clientX>i&&c.clientX<o&&c.clientY>r&&c.clientY<s}),this.oldGeometricProperties=nc(this.touches,t)}},onTouchEnd:function(e){e.touches.length===0&&(this.touches=[],this.processEnd())},onTouchMove:function(e){var t=this;if(this.touches.length){var n=fn(e.touches).filter(function(i){return!i.identifier||t.touches.find(function(r){return r.identifier===i.identifier})});this.processEvent(e)&&(this.processMove(e,n),this.processStart())}},onMouseDown:function(e){if(this.mouseMove&&"buttons"in e&&e.buttons===1&&this.processEvent(e)){var t={fake:!0,clientX:e.clientX,clientY:e.clientY};this.touches=[t],this.processStart()}},onMouseMove:function(e){this.touches.length&&this.processEvent(e)&&this.processMove(e,[{clientX:e.clientX,clientY:e.clientY}])},onMouseUp:function(){this.touches=[],this.processEnd()},onWheel:function(e){if(this.wheelResize&&this.processEvent(e)){var t=this.$refs.container.getBoundingClientRect(),n=t.left,i=t.top,r=1+this.wheelResize.ratio*(o=e.deltaY||e.detail||e.wheelDelta,(c=+o)==0||Hl(c)?c:c>0?1:-1),s={left:e.clientX-n,top:e.clientY-i};this.$emit("resize",new fi({},{factor:r,center:s})),this.touches.length||this.debouncedProcessEnd()}var o,c}},emits:["resize","move","transform-end"]};Zl.render=function(e,t,n,i,r,s){return z(),Z("div",{ref:"container",onTouchstart:t[1]||(t[1]=function(){return s.onTouchStart&&s.onTouchStart.apply(s,arguments)}),onMousedown:t[2]||(t[2]=function(){return s.onMouseDown&&s.onMouseDown.apply(s,arguments)}),onWheel:t[3]||(t[3]=function(){return s.onWheel&&s.onWheel.apply(s,arguments)})},[jt(e.$slots,"default")],544)};var Dr={components:{TransformableImage:Zl},props:{touchMove:{type:Boolean,required:!0},mouseMove:{type:Boolean,required:!0},touchResize:{type:Boolean,required:!0},wheelResize:{type:[Boolean,Object],required:!0}},emits:["resize","move"]};Dr.render=function(e,t,n,i,r,s){var o=Pt("transformable-image");return z(),Z(o,{"touch-move":n.touchMove,"touch-resize":n.touchResize,"mouse-move":n.mouseMove,"wheel-resize":n.wheelResize,onMove:t[1]||(t[1]=function(c){return e.$emit("move",c)}),onResize:t[2]||(t[2]=function(c){return e.$emit("resize",c)})},{default:Je(function(){return[jt(e.$slots,"default")]}),_:3},8,["touch-move","touch-resize","mouse-move","wheel-resize"])};var Wi=lt("vue-preview"),eu={props:{coordinates:{type:Object},transitions:{type:Object},image:{type:Object,default:function(){return{}}},imageClass:{type:String},width:{type:Number},height:{type:Number},fill:{type:Boolean}},data:function(){return{calculatedImageSize:{width:0,height:0},calculatedSize:{width:0,height:0}}},computed:{classes:function(){return{root:Wi({fill:this.fill}),wrapper:Wi("wrapper"),imageWrapper:Wi("image-wrapper"),image:xe(Wi("image"),this.imageClass)}},style:function(){if(this.fill)return{};var e={};return this.width&&(e.width="".concat(this.size.width,"px")),this.height&&(e.height="".concat(this.size.height,"px")),this.transitions&&this.transitions.enabled&&(e.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction)),e},wrapperStyle:function(){var e={width:"".concat(this.size.width,"px"),height:"".concat(this.size.height,"px"),left:"calc(50% - ".concat(this.size.width/2,"px)"),top:"calc(50% - ".concat(this.size.height/2,"px)")};return this.transitions&&this.transitions.enabled&&(e.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction)),e},imageStyle:function(){if(this.coordinates&&this.image){var e=this.coordinates.width/this.size.width,t=te(te({rotate:0,flip:{horizontal:!1,vertical:!1}},this.image.transforms),{},{scaleX:1/e,scaleY:1/e}),n=this.imageSize.width,i=this.imageSize.height,r=Jl({width:n,height:i},t.rotate),s={width:"".concat(n,"px"),height:"".concat(i,"px"),left:"0px",top:"0px"},o={rotate:{left:(n-r.width)*t.scaleX/2,top:(i-r.height)*t.scaleY/2},scale:{left:(1-t.scaleX)*n/2,top:(1-t.scaleY)*i/2}};return s.transform=`translate(
				`.concat(-this.coordinates.left/e-o.rotate.left-o.scale.left,"px,").concat(-this.coordinates.top/e-o.rotate.top-o.scale.top,"px) ")+Ql(t),this.transitions&&this.transitions.enabled&&(s.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction)),s}return{}},size:function(){return{width:this.width||this.calculatedSize.width,height:this.height||this.calculatedSize.height}},imageSize:function(){return{width:this.image.width||this.calculatedImageSize.width,height:this.image.height||this.calculatedImageSize.height}}},watch:{image:function(e){(e.width||e.height)&&this.onChangeImage()}},mounted:function(){var e=this;this.onChangeImage(),this.$refs.image.addEventListener("load",function(){e.refreshImage()}),window.addEventListener("resize",this.refresh),window.addEventListener("orientationchange",this.refresh)},unmounted:function(){window.removeEventListener("resize",this.refresh),window.removeEventListener("orientationchange",this.refresh)},methods:{refreshImage:function(){var e=this.$refs.image;this.calculatedImageSize.height=e.naturalHeight,this.calculatedImageSize.width=e.naturalWidth},refresh:function(){var e=this.$refs.root;this.width||(this.calculatedSize.width=e.clientWidth),this.height||(this.calculatedSize.height=e.clientHeight)},onChangeImage:function(){var e=this.$refs.image;e&&e.complete&&this.refreshImage(),this.refresh()}}};eu.render=function(e,t,n,i,r,s){return z(),Z("div",{ref:"root",class:s.classes.root,style:s.style},[F("div",{ref:"wrapper",class:s.classes.wrapper,style:s.wrapperStyle},[Vc(F("img",{ref:"image",src:n.image&&n.image.src,class:s.classes.image,style:s.imageStyle},null,14,["src"]),[[pl,n.image&&n.image.src]])],6)],6)};var tu={components:{Preview:eu},inheritAttrs:!1};tu.render=function(e,t,n,i,r,s){var o=Pt("preview");return z(),Z(o,_s(e.$attrs,{fill:!0}),null,16)};var rr=lt("vue-rectangle-stencil"),nu={name:"RectangleStencil",components:{StencilPreview:tu,BoundingBox:Yl,DraggableArea:Gl},props:{image:{type:Object},coordinates:{type:Object},stencilCoordinates:{type:Object},handlers:{type:Object},handlersComponent:{type:[Object,String],default:function(){return Ro}},lines:{type:Object},linesComponent:{type:[Object,String],default:function(){return xo}},aspectRatio:{type:[Number,String]},minAspectRatio:{type:[Number,String]},maxAspectRatio:{type:[Number,String]},movable:{type:Boolean,default:!0},resizable:{type:Boolean,default:!0},transitions:{type:Object},movingClass:{type:String},resizingClass:{type:String},previewClass:{type:String},boundingBoxClass:{type:String},linesClasses:{type:Object,default:function(){return{}}},linesWrappersClasses:{type:Object,default:function(){return{}}},handlersClasses:{type:Object,default:function(){return{}}},handlersWrappersClasses:{type:Object,default:function(){return{}}}},data:function(){return{moving:!1,resizing:!1}},computed:{classes:function(){return{stencil:xe(rr({movable:this.movable,moving:this.moving,resizing:this.resizing}),this.moving&&this.movingClass,this.resizing&&this.resizingClass),preview:xe(rr("preview"),this.previewClass),boundingBox:xe(rr("bounding-box"),this.boundingBoxClass)}},style:function(){var e=this.stencilCoordinates,t=e.height,n=e.width,i=e.left,r=e.top,s={width:"".concat(n,"px"),height:"".concat(t,"px"),transform:"translate(".concat(i,"px, ").concat(r,"px)")};return this.transitions&&this.transitions.enabled&&(s.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction)),s}},methods:{onMove:function(e){this.$emit("move",e),this.moving=!0},onMoveEnd:function(){this.$emit("move-end"),this.moving=!1},onResize:function(e){this.$emit("resize",e),this.resizing=!0},onResizeEnd:function(){this.$emit("resize-end"),this.resizing=!1},aspectRatios:function(){return{minimum:this.aspectRatio||this.minAspectRatio,maximum:this.aspectRatio||this.maxAspectRatio}}},emits:["resize","resize-end","move","move-end"]};nu.render=function(e,t,n,i,r,s){var o=Pt("stencil-preview"),c=Pt("draggable-area"),a=Pt("bounding-box");return z(),Z("div",{class:s.classes.stencil,style:s.style},[F(a,{width:n.stencilCoordinates.width,height:n.stencilCoordinates.height,transitions:n.transitions,class:s.classes.boundingBox,handlers:n.handlers,"handlers-component":n.handlersComponent,"handlers-classes":n.handlersClasses,"handlers-wrappers-classes":n.handlersWrappersClasses,lines:n.lines,"lines-component":n.linesComponent,"lines-classes":n.linesClasses,"lines-wrappers-classes":n.linesWrappersClasses,resizable:n.resizable,onResize:s.onResize,onResizeEnd:s.onResizeEnd},{default:Je(function(){return[F(c,{movable:n.movable,onMove:s.onMove,onMoveEnd:s.onMoveEnd},{default:Je(function(){return[F(o,{image:n.image,coordinates:n.coordinates,width:n.stencilCoordinates.width,height:n.stencilCoordinates.height,class:s.classes.preview,transitions:n.transitions},null,8,["image","coordinates","width","height","class","transitions"])]}),_:1},8,["movable","onMove","onMoveEnd"])]}),_:1},8,["width","height","transitions","class","handlers","handlers-component","handlers-classes","handlers-wrappers-classes","lines","lines-component","lines-classes","lines-wrappers-classes","resizable","onResize","onResizeEnd"])],6)};var bv=["transitions"],xt=lt("vue-advanced-cropper"),iu={name:"Cropper",components:{BackgroundWrapper:Dr},props:{src:{type:String,default:null},stencilComponent:{type:[Object,String],default:function(){return nu}},backgroundWrapperComponent:{type:[Object,String],default:function(){return Dr}},stencilProps:{type:Object,default:function(){return{}}},autoZoom:{type:Boolean,default:!1},imageClass:{type:String},boundariesClass:{type:String},backgroundClass:{type:String},foregroundClass:{type:String},minWidth:{type:[Number,String]},minHeight:{type:[Number,String]},maxWidth:{type:[Number,String]},maxHeight:{type:[Number,String]},debounce:{type:[Boolean,Number],default:500},transitions:{type:Boolean,default:!0},checkOrientation:{type:Boolean,default:!0},canvas:{type:[Object,Boolean],default:!0},crossOrigin:{type:[Boolean,String],default:void 0},transitionTime:{type:Number,default:300},imageRestriction:{type:String,default:"fit-area",validator:function(e){return Yg.indexOf(e)!==-1}},roundResult:{type:Boolean,default:!0},defaultSize:{type:[Function,Object]},defaultPosition:{type:[Function,Object]},defaultVisibleArea:{type:[Function,Object]},defaultTransforms:{type:[Function,Object]},defaultBoundaries:{type:[Function,String],validator:function(e){return!(typeof e=="string"&&e!=="fill"&&e!=="fit")}},priority:{type:String,default:"coordinates"},stencilSize:{type:[Object,Function]},resizeImage:{type:[Boolean,Object],default:!0},moveImage:{type:[Boolean,Object],default:!0},autoZoomAlgorithm:{type:Function},resizeAlgorithm:{type:Function,default:function(e){var t=e.event,n=e.coordinates,i=e.aspectRatio,r=e.positionRestrictions,s=e.sizeRestrictions,o=D(D({},n),{right:n.left+n.width,bottom:n.top+n.height}),c=t.params||{},a=D({},t.directions),l=c.allowedDirections||{left:!0,right:!0,bottom:!0,top:!0};s.widthFrozen&&(a.left=0,a.right=0),s.heightFrozen&&(a.top=0,a.bottom=0),gt.forEach(function(T){l[T]||(a[T]=0)});var u=pt(o,a=tc({coordinates:o,directions:a,sizeRestrictions:s,positionRestrictions:r})).width,h=pt(o,a).height,f=c.preserveRatio?ie(o):nr(u/h,i);if(f){var p=c.respectDirection;if(p||(p=o.width>=o.height||f===1?"width":"height"),p==="width"){var g=u/f-o.height;if(l.top&&l.bottom){var v=a.top,E=a.bottom;a.bottom=Hi(g,E,v),a.top=Hi(g,v,E)}else l.bottom?a.bottom=g:l.top?a.top=g:l.right?a.right=0:l.left&&(a.left=0)}else if(p==="height"){var x=o.width-h*f;if(l.left&&l.right){var C=a.left,I=a.right;a.left=-Hi(x,C,I),a.right=-Hi(x,I,C)}else l.left?a.left=-x:l.right?a.right=-x:l.top?a.top=0:l.bottom&&(a.bottom=0)}a=tc({directions:a,coordinates:o,sizeRestrictions:s,positionRestrictions:r,preserveRatio:!0,compensate:c.compensate})}return u=pt(o,a).width,h=pt(o,a).height,(f=c.preserveRatio?ie(o):nr(u/h,i))&&Math.abs(f-u/h)>.001&&gt.forEach(function(T){l[T]||(a[T]=0)}),Lr({event:new _o({left:-a.left,top:-a.top}),coordinates:{width:n.width+a.right+a.left,height:n.height+a.top+a.bottom,left:n.left,top:n.top},positionRestrictions:r})}},moveAlgorithm:{type:Function,default:Lr},initStretcher:{type:Function,default:function(e){var t=e.stretcher,n=e.imageSize,i=ie(n);t.style.width=n.width+"px",t.style.height=t.clientWidth/i+"px",t.style.width=t.clientWidth+"px"}},fitCoordinates:{type:Function,default:function(e){var t=e.visibleArea,n=e.coordinates,i=e.aspectRatio,r=e.sizeRestrictions,s=e.positionRestrictions,o=D(D({},n),Ot({width:n.width,height:n.height,aspectRatio:i,sizeRestrictions:{maxWidth:t.width,maxHeight:t.height,minHeight:Math.min(t.height,r.minHeight),minWidth:Math.min(t.width,r.minWidth)}}));return o=ke(o=Fe(o,In(Pe(n),Pe(o))),Ps(yt(t),s))}},fitVisibleArea:{type:Function,default:function(e){var t=e.visibleArea,n=e.boundaries,i=e.getAreaRestrictions,r=e.coordinates,s=D({},t);s.height=s.width/ie(n),s.top+=(t.height-s.height)/2,(r.height-s.height>0||r.width-s.width>0)&&(s=Ze(s,Math.max(r.height/s.height,r.width/s.width)));var o=Ts(zn(r,yt(s=Ze(s,Cs(s,i({visibleArea:s,type:"resize"}))))));return s.width<r.width&&(o.left=0),s.height<r.height&&(o.top=0),s=ke(s=Fe(s,o),i({visibleArea:s,type:"move"}))}},areaRestrictionsAlgorithm:{type:Function,default:function(e){var t=e.visibleArea,n=e.boundaries,i=e.imageSize,r=e.imageRestriction,s=e.type,o={};return r==="fill-area"?o={left:0,top:0,right:i.width,bottom:i.height}:r==="fit-area"&&(ie(n)>ie(i)?(o={top:0,bottom:i.height},t&&s==="move"&&(t.width>i.width?(o.left=-(t.width-i.width)/2,o.right=i.width-o.left):(o.left=0,o.right=i.width))):(o={left:0,right:i.width},t&&s==="move"&&(t.height>i.height?(o.top=-(t.height-i.height)/2,o.bottom=i.height-o.top):(o.top=0,o.bottom=i.height)))),o}},sizeRestrictionsAlgorithm:{type:Function,default:function(e){return{minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight}}},positionRestrictionsAlgorithm:{type:Function,default:function(e){var t=e.imageSize,n={};return e.imageRestriction!=="none"&&(n={left:0,top:0,right:t.width,bottom:t.height}),n}}},data:function(){return{transitionsActive:!1,imageLoaded:!1,imageAttributes:{width:null,height:null,crossOrigin:null,src:null},defaultImageTransforms:{rotate:0,flip:{horizontal:!1,vertical:!1}},appliedImageTransforms:{rotate:0,flip:{horizontal:!1,vertical:!1}},boundaries:{width:0,height:0},visibleArea:null,coordinates:te({},Ga)}},computed:{image:function(){return{src:this.imageAttributes.src,width:this.imageAttributes.width,height:this.imageAttributes.height,transforms:this.imageTransforms}},imageTransforms:function(){return{rotate:this.appliedImageTransforms.rotate,flip:{horizontal:this.appliedImageTransforms.flip.horizontal,vertical:this.appliedImageTransforms.flip.vertical},translateX:this.visibleArea?this.visibleArea.left/this.coefficient:0,translateY:this.visibleArea?this.visibleArea.top/this.coefficient:0,scaleX:1/this.coefficient,scaleY:1/this.coefficient}},imageSize:function(){var e=function(t){return t*Math.PI/180}(this.imageTransforms.rotate);return{width:Math.abs(this.imageAttributes.width*Math.cos(e))+Math.abs(this.imageAttributes.height*Math.sin(e)),height:Math.abs(this.imageAttributes.width*Math.sin(e))+Math.abs(this.imageAttributes.height*Math.cos(e))}},initialized:function(){return!!(this.visibleArea&&this.imageLoaded)},settings:function(){var e=Mr(this.resizeImage,{touch:!0,wheel:{ratio:.1},adjustStencil:!0},{touch:!1,wheel:!1,adjustStencil:!1});return{moveImage:Mr(this.moveImage,{touch:!0,mouse:!0},{touch:!1,mouse:!1}),resizeImage:e}},coefficient:function(){return this.visibleArea?this.visibleArea.width/this.boundaries.width:0},areaRestrictions:function(){return this.imageLoaded?this.areaRestrictionsAlgorithm({imageSize:this.imageSize,imageRestriction:this.imageRestriction,boundaries:this.boundaries}):{}},transitionsOptions:function(){return{enabled:this.transitionsActive,timingFunction:"ease-in-out",time:350}},sizeRestrictions:function(){if(this.boundaries.width&&this.boundaries.height&&this.imageSize.width&&this.imageSize.height){var e=this.sizeRestrictionsAlgorithm({imageSize:this.imageSize,minWidth:Se(this.minWidth)?0:Fi(this.minWidth),minHeight:Se(this.minHeight)?0:Fi(this.minHeight),maxWidth:Se(this.maxWidth)?1/0:Fi(this.maxWidth),maxHeight:Se(this.maxHeight)?1/0:Fi(this.maxHeight)});if(e=function(i){var r=i.areaRestrictions,s=i.sizeRestrictions;i.imageSize;var o=i.boundaries,c=i.positionRestrictions;i.imageRestriction;var a=D(D({},s),{minWidth:s.minWidth!==void 0?s.minWidth:0,minHeight:s.minHeight!==void 0?s.minHeight:0,maxWidth:s.maxWidth!==void 0?s.maxWidth:1/0,maxHeight:s.maxHeight!==void 0?s.maxHeight:1/0});c.left!==void 0&&c.right!==void 0&&(a.maxWidth=Math.min(a.maxWidth,c.right-c.left)),c.bottom!==void 0&&c.top!==void 0&&(a.maxHeight=Math.min(a.maxHeight,c.bottom-c.top));var l=zr(r),u=Vl(o,l);return l.width<1/0&&(!a.maxWidth||a.maxWidth>u.width)&&(a.maxWidth=Math.min(a.maxWidth,u.width)),l.height<1/0&&(!a.maxHeight||a.maxHeight>u.height)&&(a.maxHeight=Math.min(a.maxHeight,u.height)),a.minWidth>a.maxWidth&&(a.minWidth=a.maxWidth,a.widthFrozen=!0),a.minHeight>a.maxHeight&&(a.minHeight=a.maxHeight,a.heightFrozen=!0),a}({sizeRestrictions:e,areaRestrictions:this.getAreaRestrictions({visibleArea:this.visibleArea,type:"resize"}),imageSize:this.imageSize,boundaries:this.boundaries,positionRestrictions:this.positionRestrictions,imageRestriction:this.imageRestriction,visibleArea:this.visibleArea,stencilSize:this.getStencilSize()}),this.visibleArea&&this.stencilSize){var t=this.getStencilSize(),n=zr(this.getAreaRestrictions({visibleArea:this.visibleArea,type:"resize"}));e.maxWidth=Math.min(e.maxWidth,n.width*t.width/this.boundaries.width),e.maxHeight=Math.min(e.maxHeight,n.height*t.height/this.boundaries.height),e.maxWidth<e.minWidth&&(e.minWidth=e.maxWidth),e.maxHeight<e.minHeight&&(e.minHeight=e.maxHeight)}return e}return{minWidth:0,minHeight:0,maxWidth:0,maxHeight:0}},positionRestrictions:function(){return this.positionRestrictionsAlgorithm({imageSize:this.imageSize,imageRestriction:this.imageRestriction})},classes:function(){return{cropper:xt(),image:xe(xt("image"),this.imageClass),stencil:xt("stencil"),boundaries:xe(xt("boundaries"),this.boundariesClass),stretcher:xe(xt("stretcher")),background:xe(xt("background"),this.backgroundClass),foreground:xe(xt("foreground"),this.foregroundClass),imageWrapper:xe(xt("image-wrapper")),cropperWrapper:xe(xt("cropper-wrapper"))}},stencilCoordinates:function(){if(this.initialized){var e=this.coordinates,t=e.width,n=e.height,i=e.left,r=e.top;return{width:t/this.coefficient,height:n/this.coefficient,left:(i-this.visibleArea.left)/this.coefficient,top:(r-this.visibleArea.top)/this.coefficient}}return this.defaultCoordinates()},boundariesStyle:function(){var e={width:this.boundaries.width?"".concat(Math.round(this.boundaries.width),"px"):"auto",height:this.boundaries.height?"".concat(Math.round(this.boundaries.height),"px"):"auto",transition:"opacity ".concat(this.transitionTime,"ms"),pointerEvents:this.imageLoaded?"all":"none"};return this.imageLoaded||(e.opacity="0"),e},imageStyle:function(){var e=this.imageAttributes.width>this.imageAttributes.height?{width:Math.min(1024,this.imageAttributes.width),height:Math.min(1024,this.imageAttributes.width)/(this.imageAttributes.width/this.imageAttributes.height)}:{height:Math.min(1024,this.imageAttributes.height),width:Math.min(1024,this.imageAttributes.height)*(this.imageAttributes.width/this.imageAttributes.height)},t={left:(e.width-this.imageSize.width)/(2*this.coefficient),top:(e.height-this.imageSize.height)/(2*this.coefficient)},n={left:(1-1/this.coefficient)*e.width/2,top:(1-1/this.coefficient)*e.height/2},i=te(te({},this.imageTransforms),{},{scaleX:this.imageTransforms.scaleX*(this.imageAttributes.width/e.width),scaleY:this.imageTransforms.scaleY*(this.imageAttributes.height/e.height)}),r={width:"".concat(e.width,"px"),height:"".concat(e.height,"px"),left:"0px",top:"0px",transform:"translate(".concat(-t.left-n.left-this.imageTransforms.translateX,"px, ").concat(-t.top-n.top-this.imageTransforms.translateY,"px)")+Ql(i)};return this.transitionsOptions.enabled&&(r.transition="".concat(this.transitionsOptions.time,"ms ").concat(this.transitionsOptions.timingFunction)),r}},watch:{src:function(){this.onChangeImage()},stencilComponent:function(){var e=this;this.$nextTick(function(){e.resetCoordinates(),e.runAutoZoom("setCoordinates"),e.onChange()})},minWidth:function(){this.onPropsChange()},maxWidth:function(){this.onPropsChange()},minHeight:function(){this.onPropsChange()},maxHeight:function(){this.onPropsChange()},imageRestriction:function(){this.reset()},stencilProps:function(e,t){["aspectRatio","minAspectRatio","maxAspectRatio"].find(function(n){return e[n]!==t[n]})&&this.$nextTick(this.onPropsChange)}},created:function(){this.debouncedUpdate=Ir(this.update,this.debounce),this.debouncedDisableTransitions=Ir(this.disableTransitions,this.transitionsOptions.time),this.awaiting=!1},mounted:function(){this.$refs.image.addEventListener("load",this.onSuccessLoadImage),this.$refs.image.addEventListener("error",this.onFailLoadImage),this.onChangeImage(),window.addEventListener("resize",this.refresh),window.addEventListener("orientationchange",this.refresh)},unmounted:function(){window.removeEventListener("resize",this.refresh),window.removeEventListener("orientationchange",this.refresh),this.imageAttributes.revoke&&this.imageAttributes.src&&URL.revokeObjectURL(this.imageAttributes.src),this.debouncedUpdate.clear(),this.debouncedDisableTransitions.clear()},methods:{getResult:function(){var e=this.initialized?this.prepareResult(te({},this.coordinates)):this.defaultCoordinates(),t={rotate:this.imageTransforms.rotate%360,flip:te({},this.imageTransforms.flip)};if(this.src&&this.imageLoaded){var n=this;return{image:this.image,coordinates:e,visibleArea:this.visibleArea?te({},this.visibleArea):null,imageTransforms:t,get canvas(){return n.canvas?n.getCanvas():void 0}}}return{image:this.image,coordinates:e,visibleArea:this.visibleArea?te({},this.visibleArea):null,canvas:void 0,imageTransforms:t}},zoom:function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=n.transitions,r=i===void 0||i;this.onManipulateImage(new fi({},{factor:1/e,center:t}),{normalize:!1,transitions:r})},move:function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=n.transitions,r=i===void 0||i;this.onManipulateImage(new fi({left:e||0,top:t||0}),{normalize:!1,transitions:r})},setCoordinates:function(e){var t=this,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.autoZoom,r=i===void 0||i,s=n.transitions,o=s===void 0||s;this.$nextTick(function(){t.imageLoaded?(t.transitionsActive||(o&&t.enableTransitions(),t.coordinates=t.applyTransform(e),r&&t.runAutoZoom("setCoordinates"),o&&t.debouncedDisableTransitions()),t.onChange()):t.delayedTransforms=e})},refresh:function(){var e=this,t=this.$refs.image;if(this.src&&t)return this.initialized?this.updateVisibleArea().then(function(){e.onChange()}):this.resetVisibleArea().then(function(){e.onChange()})},reset:function(){var e=this;return this.resetVisibleArea().then(function(){e.onChange(!1)})},awaitRender:function(e){var t=this;this.awaiting||(this.awaiting=!0,this.$nextTick(function(){e(),t.awaiting=!1}))},prepareResult:function(e){return this.roundResult?function(t){var n=t.coordinates,i=t.sizeRestrictions,r=t.positionRestrictions,s={width:Math.round(n.width),height:Math.round(n.height),left:Math.round(n.left),top:Math.round(n.top)};return s.width>i.maxWidth?s.width=Math.floor(n.width):s.width<i.minWidth&&(s.width=Math.ceil(n.width)),s.height>i.maxHeight?s.height=Math.floor(n.height):s.height<i.minHeight&&(s.height=Math.ceil(n.height)),ke(s,r)}(te(te({},this.getPublicProperties()),{},{positionRestrictions:Bi(this.positionRestrictions,this.visibleArea),coordinates:e})):e},processAutoZoom:function(e,t,n,i){var r=this.autoZoomAlgorithm;r||(r=this.stencilSize?Zg:this.autoZoom?ev:tv);var s=r({event:{type:e,params:i},visibleArea:t,coordinates:n,boundaries:this.boundaries,aspectRatio:this.getAspectRatio(),positionRestrictions:this.positionRestrictions,getAreaRestrictions:this.getAreaRestrictions,sizeRestrictions:this.sizeRestrictions,stencilSize:this.getStencilSize()});return te(te({},s),{},{changed:!Qa(s.visibleArea,t)||!Qa(s.coordinates,n)})},runAutoZoom:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.transitions,i=n!==void 0&&n,r=Bg(t,bv),s=this.processAutoZoom(e,this.visibleArea,this.coordinates,r),o=s.visibleArea,c=s.coordinates,a=s.changed;i&&a&&this.enableTransitions(),this.visibleArea=o,this.coordinates=c,i&&a&&this.debouncedDisableTransitions()},normalizeEvent:function(e){return function(t){var n=t.event,i=t.visibleArea,r=t.coefficient;if(n.type==="manipulateImage")return D(D({},n),{move:{left:n.move&&n.move.left?r*n.move.left:0,top:n.move&&n.move.top?r*n.move.top:0},scale:{factor:n.scale&&n.scale.factor?n.scale.factor:1,center:n.scale&&n.scale.center?{left:n.scale.center.left*r+i.left,top:n.scale.center.top*r+i.top}:null}});if(n.type==="resize"){var s=D(D({},n),{directions:D({},n.directions)});return gt.forEach(function(c){s.directions[c]*=r}),s}if(n.type==="move"){var o=D(D({},n),{directions:D({},n.directions)});return Xg.forEach(function(c){o.directions[c]*=r}),o}return n}(te(te({},this.getPublicProperties()),{},{event:e}))},getCanvas:function(){if(this.$refs.canvas){var e=this.$refs.canvas,t=this.$refs.image,n=this.imageTransforms.rotate!==0||this.imageTransforms.flip.horizontal||this.imageTransforms.flip.vertical?function(c,a,l){var u=l.rotate,h=l.flip,f={width:a.naturalWidth,height:a.naturalHeight},p=Jl(f,u),g=c.getContext("2d");c.height=p.height,c.width=p.width,g.save();var v=Wt(Pe(D({left:0,top:0},f)),u);return g.translate(-(v.left-p.width/2),-(v.top-p.height/2)),g.rotate(u*Math.PI/180),g.translate(h.horizontal?f.width:0,h.vertical?f.height:0),g.scale(h.horizontal?-1:1,h.vertical?-1:1),g.drawImage(a,0,0,f.width,f.height),g.restore(),c}(this.$refs.sourceCanvas,t,this.imageTransforms):t,i=te({minWidth:0,minHeight:0,maxWidth:1/0,maxHeight:1/0,maxArea:this.maxCanvasSize,imageSmoothingEnabled:!0,imageSmoothingQuality:"high",fillColor:"transparent"},this.canvas),r=function(c){return c.find(function(a){return l=a,!Number.isNaN(parseFloat(l))&&isFinite(l);var l})},s=Ot({sizeRestrictions:{minWidth:r([i.width,i.minWidth])||0,minHeight:r([i.height,i.minHeight])||0,maxWidth:r([i.width,i.maxWidth])||1/0,maxHeight:r([i.height,i.maxHeight])||1/0},width:this.coordinates.width,height:this.coordinates.height,aspectRatio:{minimum:this.coordinates.width/this.coordinates.height,maximum:this.coordinates.width/this.coordinates.height}});if(i.maxArea&&s.width*s.height>i.maxArea){var o=Math.sqrt(i.maxArea/(s.width*s.height));s={width:Math.round(o*s.width),height:Math.round(o*s.height)}}return function(c,a,l,u,h){c.width=u?u.width:l.width,c.height=u?u.height:l.height;var f=c.getContext("2d");f.clearRect(0,0,c.width,c.height),h&&(h.imageSmoothingEnabled&&(f.imageSmoothingEnabled=h.imageSmoothingEnabled),h.imageSmoothingQuality&&(f.imageSmoothingQuality=h.imageSmoothingQuality),h.fillColor&&(f.fillStyle=h.fillColor,f.fillRect(0,0,c.width,c.height),f.save()));var p=l.left<0?-l.left:0,g=l.top<0?-l.top:0;f.drawImage(a,l.left+p,l.top+g,l.width,l.height,p,g,c.width,c.height)}(e,n,this.coordinates,s,i),e}},update:function(){this.$emit("change",this.getResult())},applyTransform:function(e){var t=arguments.length>1&&arguments[1]!==void 0&&arguments[1],n=this.visibleArea&&t?Gg(this.sizeRestrictions,this.visibleArea):this.sizeRestrictions,i=this.visibleArea&&t?Bi(this.positionRestrictions,this.visibleArea):this.positionRestrictions;return Qg({transform:e,coordinates:this.coordinates,imageSize:this.imageSize,sizeRestrictions:n,positionRestrictions:i,aspectRatio:this.getAspectRatio(),visibleArea:this.visibleArea})},resetCoordinates:function(){var e=this;if(this.$refs.image){this.$refs.cropper,this.$refs.image;var t=this.defaultSize;t||(t=this.stencilSize?sv:iv);var n=this.sizeRestrictions;n.minWidth,n.minHeight,n.maxWidth,n.maxHeight;var i=En(t)?t({boundaries:this.boundaries,imageSize:this.imageSize,aspectRatio:this.getAspectRatio(),sizeRestrictions:this.sizeRestrictions,stencilSize:this.getStencilSize(),visibleArea:this.visibleArea}):t,r=this.defaultPosition||nv,s=[i,function(o){var c=o.coordinates;return te({},En(r)?r({coordinates:c,imageSize:e.imageSize,visibleArea:e.visibleArea}):e.defaultPosition)}];this.delayedTransforms&&s.push.apply(s,fn(Array.isArray(this.delayedTransforms)?this.delayedTransforms:[this.delayedTransforms])),this.coordinates=this.applyTransform(s,!0),this.delayedTransforms=null}},clearImage:function(){var e=this;this.imageLoaded=!1,setTimeout(function(){var t=e.$refs.stretcher;t&&(t.style.height="auto",t.style.width="auto"),e.coordinates=e.defaultCoordinates(),e.boundaries={width:0,height:0}},this.transitionTime)},enableTransitions:function(){this.transitions&&(this.transitionsActive=!0)},disableTransitions:function(){this.transitionsActive=!1},updateBoundaries:function(){var e=this,t=this.$refs.stretcher,n=this.$refs.cropper;return this.initStretcher({cropper:n,stretcher:t,imageSize:this.imageSize}),this.$nextTick().then(function(){var i={cropper:n,imageSize:e.imageSize};if(En(e.defaultBoundaries)?e.boundaries=e.defaultBoundaries(i):e.defaultBoundaries==="fit"?e.boundaries=function(r){var s=r.cropper,o=r.imageSize,c=s.clientHeight,a=s.clientWidth,l=c,u=o.width*c/o.height;return u>a&&(u=a,l=o.height*a/o.width),{width:u,height:l}}(i):e.boundaries=function(r){var s=r.cropper;return{width:s.clientWidth,height:s.clientHeight}}(i),!e.boundaries.width||!e.boundaries.height)throw new Error("It's impossible to fit the cropper in the current container")})},resetVisibleArea:function(){var e=this;return this.appliedImageTransforms=te(te({},this.defaultImageTransforms),{},{flip:te({},this.defaultImageTransforms.flip)}),this.updateBoundaries().then(function(){e.priority!=="visible-area"&&(e.visibleArea=null,e.resetCoordinates());var t,n,i,r,s,o,c=e.defaultVisibleArea||rv;e.visibleArea=En(c)?c({imageSize:e.imageSize,boundaries:e.boundaries,coordinates:e.priority!=="visible-area"?e.coordinates:null,getAreaRestrictions:e.getAreaRestrictions,stencilSize:e.getStencilSize()}):e.defaultVisibleArea,e.visibleArea=(t={visibleArea:e.visibleArea,boundaries:e.boundaries,getAreaRestrictions:e.getAreaRestrictions},n=t.visibleArea,i=t.boundaries,r=t.getAreaRestrictions,s=D({},n),o=ie(i),s.width/s.height!==o&&(s.height=s.width/o),ke(s,r({visibleArea:s,type:"move"}))),e.priority==="visible-area"?e.resetCoordinates():e.coordinates=e.fitCoordinates({visibleArea:e.visibleArea,coordinates:e.coordinates,aspectRatio:e.getAspectRatio(),positionRestrictions:e.positionRestrictions,sizeRestrictions:e.sizeRestrictions}),e.runAutoZoom("resetVisibleArea")}).catch(function(){e.visibleArea=null})},updateVisibleArea:function(){var e=this;return this.updateBoundaries().then(function(){e.visibleArea=e.fitVisibleArea({imageSize:e.imageSize,boundaries:e.boundaries,visibleArea:e.visibleArea,coordinates:e.coordinates,getAreaRestrictions:e.getAreaRestrictions}),e.coordinates=e.fitCoordinates({visibleArea:e.visibleArea,coordinates:e.coordinates,aspectRatio:e.getAspectRatio(),positionRestrictions:e.positionRestrictions,sizeRestrictions:e.sizeRestrictions}),e.runAutoZoom("updateVisibleArea")}).catch(function(){e.visibleArea=null})},onChange:function(){var e=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];e&&this.debounce?this.debouncedUpdate():this.update()},onChangeImage:function(){var e,t=this;if(this.imageLoaded=!1,this.delayedTransforms=null,this.src){if(function(r){if(Xa(r))return!1;var s=window.location,o=/(\w+:)?(?:\/\/)([\w.-]+)?(?::(\d+))?\/?/.exec(r)||[],c={protocol:o[1]||"",host:o[2]||"",port:o[3]||""},a=function(l){return l.port||((l.protocol||s.protocol)==="http"?80:433)};return!(!c.protocol&&!c.host&&!c.port||c.protocol&&c.protocol==s.protocol&&c.host&&c.host==s.host&&c.host&&a(c)==a(s))}(this.src)){var n=Se(this.crossOrigin)?this.canvas:this.crossOrigin;n===!0&&(n="anonymous"),this.imageAttributes.crossOrigin=n||null}if(this.checkOrientation){var i=(e=this.src,new Promise(function(r){gv(e).then(function(s){var o=vv(s);r(s?{source:e,arrayBuffer:s,orientation:o}:{source:e,arrayBuffer:null,orientation:null})}).catch(function(s){console.warn(s),r({source:e,arrayBuffer:null,orientation:null})})}));setTimeout(function(){i.then(t.onParseImage)},this.transitionTime)}else setTimeout(function(){t.onParseImage({source:t.src})},this.transitionTime)}else this.clearImage()},onFailLoadImage:function(){this.imageAttributes.src&&(this.clearImage(),this.$emit("error"))},onSuccessLoadImage:function(){var e=this,t=this.$refs.image;t&&!this.imageLoaded&&(this.imageAttributes.height=t.naturalHeight,this.imageAttributes.width=t.naturalWidth,this.imageLoaded=!0,this.resetVisibleArea().then(function(){e.$emit("ready"),e.onChange(!1)}))},onParseImage:function(e){var t=this,n=e.source,i=e.arrayBuffer,r=e.orientation;this.imageAttributes.revoke&&this.imageAttributes.src&&URL.revokeObjectURL(this.imageAttributes.src),this.imageAttributes.revoke=!1,i&&r&&r>1?Bl(n)||!Xa(n)?(this.imageAttributes.src=URL.createObjectURL(new Blob([i])),this.imageAttributes.revoke=!0):this.imageAttributes.src=function(s){for(var o=[],c=new Uint8Array(s);c.length>0;){var a=c.subarray(0,8192);o.push(String.fromCharCode.apply(null,Array.from?Array.from(a):a.slice())),c=c.subarray(8192)}return"data:image/jpeg;base64,"+btoa(o.join(""))}(i):this.imageAttributes.src=n,En(this.defaultTransforms)?this.appliedImageTransforms=sr(this.defaultTransforms()):Xi(this.defaultTransforms)?this.appliedImageTransforms=sr(this.defaultTransforms):this.appliedImageTransforms=function(s){var o=sr({});if(s)switch(s){case 2:o.flip.horizontal=!0;break;case 3:o.rotate=-180;break;case 4:o.flip.vertical=!0;break;case 5:o.rotate=90,o.flip.vertical=!0;break;case 6:o.rotate=90;break;case 7:o.rotate=90,o.flip.horizontal=!0;break;case 8:o.rotate=-90}return o}(r),this.defaultImageTransforms=te(te({},this.appliedImageTransforms),{},{flip:te({},this.appliedImageTransforms.flip)}),this.$nextTick(function(){var s=t.$refs.image;s&&s.complete&&(function(o){return!!o.naturalWidth}(s)?t.onSuccessLoadImage():t.onFailLoadImage())})},onResizeEnd:function(){this.runAutoZoom("resize",{transitions:!0})},onMoveEnd:function(){this.runAutoZoom("move",{transitions:!0})},onMove:function(e){var t=this;this.transitionsOptions.enabled||this.awaitRender(function(){t.coordinates=t.moveAlgorithm(te(te({},t.getPublicProperties()),{},{positionRestrictions:Bi(t.positionRestrictions,t.visibleArea),coordinates:t.coordinates,event:t.normalizeEvent(e)})),t.onChange()})},onResize:function(e){var t=this;this.transitionsOptions.enabled||this.stencilSize&&!this.autoZoom||this.awaitRender(function(){var n=t.sizeRestrictions,i=Math.min(t.coordinates.width,t.coordinates.height,20*t.coefficient);t.coordinates=t.resizeAlgorithm(te(te({},t.getPublicProperties()),{},{positionRestrictions:Bi(t.positionRestrictions,t.visibleArea),sizeRestrictions:{maxWidth:Math.min(n.maxWidth,t.visibleArea.width),maxHeight:Math.min(n.maxHeight,t.visibleArea.height),minWidth:Math.max(n.minWidth,i),minHeight:Math.max(n.minHeight,i)},event:t.normalizeEvent(e)})),t.onChange(),t.ticking=!1})},onManipulateImage:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.transitionsOptions.enabled){var n=t.transitions,i=n!==void 0&&n,r=t.normalize,s=r===void 0||r;i&&this.enableTransitions();var o=ov(te(te({},this.getPublicProperties()),{},{event:s?this.normalizeEvent(e):e,getAreaRestrictions:this.getAreaRestrictions,imageRestriction:this.imageRestriction,adjustStencil:!this.stencilSize&&this.settings.resizeImage.adjustStencil})),c=o.visibleArea,a=o.coordinates;this.visibleArea=c,this.coordinates=a,this.runAutoZoom("manipulateImage"),this.onChange(),i&&this.debouncedDisableTransitions()}},onPropsChange:function(){this.coordinates=this.applyTransform(this.coordinates,!0),this.onChange(!1)},getAreaRestrictions:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.visibleArea,n=e.type,i=n===void 0?"move":n;return this.areaRestrictionsAlgorithm({boundaries:this.boundaries,imageSize:this.imageSize,imageRestriction:this.imageRestriction,visibleArea:t,type:i})},getAspectRatio:function(e){var t,n,i=this.stencilProps,r=i.aspectRatio,s=i.minAspectRatio,o=i.maxAspectRatio;if(this.$refs.stencil&&this.$refs.stencil.aspectRatios){var c=this.$refs.stencil.aspectRatios();t=c.minimum,n=c.maximum}if(Se(t)&&(t=Se(r)?s:r),Se(n)&&(n=Se(r)?o:r),!e&&(Se(t)||Se(n))){var a=this.getStencilSize(),l=a?ie(a):null;Se(t)&&(t=Ya(l)?l:void 0),Se(n)&&(n=Ya(l)?l:void 0)}return{minimum:t,maximum:n}},getStencilSize:function(){if(this.stencilSize)return e={currentStencilSize:{width:this.stencilCoordinates.width,height:this.stencilCoordinates.height},stencilSize:this.stencilSize,boundaries:this.boundaries,coefficient:this.coefficient,coordinates:this.coordinates,aspectRatio:this.getAspectRatio(!0)},t=e.boundaries,n=e.stencilSize,i=e.aspectRatio,nr(ie(r=En(n)?n({boundaries:t,aspectRatio:i}):n),i)&&(r=Ot({sizeRestrictions:{maxWidth:t.width,maxHeight:t.height,minWidth:0,minHeight:0},width:r.width,height:r.height,aspectRatio:{minimum:i.minimum,maximum:i.maximum}})),(r.width>t.width||r.height>t.height)&&(r=Ot({sizeRestrictions:{maxWidth:t.width,maxHeight:t.height,minWidth:0,minHeight:0},width:r.width,height:r.height,aspectRatio:{minimum:ie(r),maximum:ie(r)}})),r;var e,t,n,i,r},getPublicProperties:function(){return{coefficient:this.coefficient,visibleArea:this.visibleArea,coordinates:this.coordinates,boundaries:this.boundaries,sizeRestrictions:this.sizeRestrictions,positionRestrictions:this.positionRestrictions,aspectRatio:this.getAspectRatio(),imageRestriction:this.imageRestriction}},defaultCoordinates:function(){return te({},Ga)},flip:function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=n.transitions,r=i===void 0||i;if(!this.transitionsActive){r&&this.enableTransitions();var s=te({},this.imageTransforms.flip),o=cv({flip:{horizontal:e?!s.horizontal:s.horizontal,vertical:t?!s.vertical:s.vertical},previousFlip:s,rotate:this.imageTransforms.rotate,visibleArea:this.visibleArea,coordinates:this.coordinates,imageSize:this.imageSize,positionRestrictions:this.positionRestrictions,sizeRestrictions:this.sizeRestrictions,getAreaRestrictions:this.getAreaRestrictions,aspectRatio:this.getAspectRatio()}),c=o.visibleArea,a=o.coordinates;e&&(this.appliedImageTransforms.flip.horizontal=!this.appliedImageTransforms.flip.horizontal),t&&(this.appliedImageTransforms.flip.vertical=!this.appliedImageTransforms.flip.vertical),this.visibleArea=c,this.coordinates=a,this.onChange(),r&&this.debouncedDisableTransitions()}},rotate:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.transitions,i=n===void 0||n;if(!this.transitionsActive){i&&this.enableTransitions();var r=te({},this.imageSize);this.appliedImageTransforms.rotate+=e;var s=av({visibleArea:this.visibleArea,coordinates:this.coordinates,previousImageSize:r,imageSize:this.imageSize,angle:e,positionRestrictions:this.positionRestrictions,sizeRestrictions:this.sizeRestrictions,getAreaRestrictions:this.getAreaRestrictions,aspectRatio:this.getAspectRatio()}),o=s.visibleArea,c=s.coordinates,a=this.processAutoZoom("rotateImage",o,c);o=a.visibleArea,c=a.coordinates,this.visibleArea=o,this.coordinates=c,this.onChange(),i&&this.debouncedDisableTransitions()}}},emits:["change","error","ready"]},wv={key:0,ref:"canvas",style:{display:"none"}},yv={key:1,ref:"sourceCanvas",style:{display:"none"}};iu.render=function(e,t,n,i,r,s){return z(),Z("div",{ref:"cropper",class:s.classes.cropper},[F("div",{ref:"stretcher",class:s.classes.stretcher},null,2),F("div",{class:s.classes.boundaries,style:s.boundariesStyle},[(z(),Z(is(n.backgroundWrapperComponent),{class:s.classes.cropperWrapper,"wheel-resize":s.settings.resizeImage.wheel,"touch-resize":s.settings.resizeImage.touch,"touch-move":s.settings.moveImage.touch,"mouse-move":s.settings.moveImage.mouse,onMove:s.onManipulateImage,onResize:s.onManipulateImage},{default:Je(function(){return[F("div",{class:s.classes.background,style:s.boundariesStyle},null,6),F("div",{class:s.classes.imageWrapper},[F("img",{ref:"image",crossorigin:r.imageAttributes.crossOrigin,src:r.imageAttributes.src,class:s.classes.image,style:s.imageStyle,onMousedown:t[1]||(t[1]=Kf(function(){},["prevent"]))},null,46,["crossorigin","src"])],2),F("div",{class:s.classes.foreground,style:s.boundariesStyle},null,6),Vc((z(),Z(is(n.stencilComponent),_s({ref:"stencil",image:s.image,coordinates:r.coordinates,"stencil-coordinates":s.stencilCoordinates,transitions:s.transitionsOptions},n.stencilProps,{onResize:s.onResize,onResizeEnd:s.onResizeEnd,onMove:s.onMove,onMoveEnd:s.onMoveEnd}),null,16,["image","coordinates","stencil-coordinates","transitions","onResize","onResizeEnd","onMove","onMoveEnd"])),[[pl,r.imageLoaded]]),n.canvas?(z(),Z("canvas",wv,null,512)):Jt("",!0),n.canvas?(z(),Z("canvas",yv,null,512)):Jt("",!0)]}),_:1},8,["class","wheel-resize","touch-resize","touch-move","mouse-move","onMove","onResize"]))],6)],2)};const _v=Oe({__name:"Cropp",props:{src:{}},emits:["croppedImageBlob"],setup(e,{emit:t}){const n=Te(null),i=async()=>{const{canvas:o}=n.value.getResult();if(!o){s("croppedImageBlob",null);return}const c=await new Promise(a=>o.toBlob(a,"image/jpeg"));s("croppedImageBlob",c)},r=e,s=t;return(o,c)=>(z(),be("div",null,[F(le(iu),{ref_key:"cropperRef",ref:n,class:"flex w-[400px] h-[400px]",src:r.src,"auto-zoom":!0,"stencil-size":{width:280,height:280},"image-restriction":"stencil"},null,8,["src"]),F(jn,{onClick:i,text:"Загрузить аватар"})]))}}),Ev={class:"text-red-500 font-semibold text-[23px]"},Rv=Oe({__name:"DangerText",props:{dangerText:{}},setup(e){return(t,n)=>(z(),be("div",null,[q("h1",Ev,Tt(t.dangerText),1)]))}}),xv=Oe({__name:"UploadInput",emits:["avatar","preloadFile"],setup(e,{emit:t}){const n=r=>{var o;const s=(o=r.target.files)==null?void 0:o[0];if(s){i("avatar",s);const c=new FileReader;c.onload=function(a){var l;i("preloadFile",(l=a.target)==null?void 0:l.result)},c.readAsDataURL(s)}},i=t;return(r,s)=>(z(),be("input",{type:"file",accept:".jpeg, .png, .jpg",onChange:n,class:"appearance-none bg-transparent border-none w-full text-transparent mr-3 py-1 px-2 leading-tight focus:outline-none"},null,32))}}),Sv={key:0,class:"absolute top-0 w-[100%] h-[100%]"},Av={class:"absolute top-[50%] left-[50%] translate-x-[-50%] translate-y-[-50%]"},Ov={class:"add-avatar"},Tv=Oe({__name:"UploadAvatar",setup(e){const t=Wn(),n=Te(null),i=Te(""),r=Te(null),s=async o=>{const c=Math.floor(Math.random()*9e9+1e9);let a;if(n.value){const{data:l,error:u}=await Ue.storage.from("images").upload("public/"+c,o);u&&console.error(u),l&&(a=l.path,await Ue.from("users").update({avatar_url:a}).match({id:t.user.id})),i.value="",t.modal=!1}else i.value="Загрузите изображение"};return ln(n,()=>{i.value=""}),(o,c)=>(z(),Z(al,{to:"body"},[le(t).modal?(z(),be("div",Sv,[q("div",{class:"w-[100%] h-[100%] bg-black opacity-[0.5]",onClick:c[0]||(c[0]=a=>le(t).modal=!1)}),q("div",Av,[q("div",Ov,[F(xv,{onPreloadFile:c[1]||(c[1]=a=>r.value=a),onAvatar:c[2]||(c[2]=a=>n.value=a)}),F(Rv,{dangerText:i.value},null,8,["dangerText"]),F(_v,{src:r.value,onCroppedImageBlob:c[3]||(c[3]=a=>s(a))},null,8,["src"])])])])):Jt("",!0)]))}});function su(e,t){return function(){return e.apply(t,arguments)}}const{toString:Cv}=Object.prototype,{getPrototypeOf:So}=Object,ks=(e=>t=>{const n=Cv.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),_t=e=>(e=e.toLowerCase(),t=>ks(t)===e),$s=e=>t=>typeof t===e,{isArray:qn}=Array,Ri=$s("undefined");function Pv(e){return e!==null&&!Ri(e)&&e.constructor!==null&&!Ri(e.constructor)&&et(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const ru=_t("ArrayBuffer");function kv(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&ru(e.buffer),t}const $v=$s("string"),et=$s("function"),ou=$s("number"),js=e=>e!==null&&typeof e=="object",jv=e=>e===!0||e===!1,Yi=e=>{if(ks(e)!=="object")return!1;const t=So(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Iv=_t("Date"),Mv=_t("File"),zv=_t("Blob"),Lv=_t("FileList"),Dv=e=>js(e)&&et(e.pipe),Uv=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||et(e.append)&&((t=ks(e))==="formdata"||t==="object"&&et(e.toString)&&e.toString()==="[object FormData]"))},Nv=_t("URLSearchParams"),Fv=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Oi(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let i,r;if(typeof e!="object"&&(e=[e]),qn(e))for(i=0,r=e.length;i<r;i++)t.call(null,e[i],i,e);else{const s=n?Object.getOwnPropertyNames(e):Object.keys(e),o=s.length;let c;for(i=0;i<o;i++)c=s[i],t.call(null,e[c],c,e)}}function au(e,t){t=t.toLowerCase();const n=Object.keys(e);let i=n.length,r;for(;i-- >0;)if(r=n[i],t===r.toLowerCase())return r;return null}const cu=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),lu=e=>!Ri(e)&&e!==cu;function Ur(){const{caseless:e}=lu(this)&&this||{},t={},n=(i,r)=>{const s=e&&au(t,r)||r;Yi(t[s])&&Yi(i)?t[s]=Ur(t[s],i):Yi(i)?t[s]=Ur({},i):qn(i)?t[s]=i.slice():t[s]=i};for(let i=0,r=arguments.length;i<r;i++)arguments[i]&&Oi(arguments[i],n);return t}const Bv=(e,t,n,{allOwnKeys:i}={})=>(Oi(t,(r,s)=>{n&&et(r)?e[s]=su(r,n):e[s]=r},{allOwnKeys:i}),e),Hv=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Wv=(e,t,n,i)=>{e.prototype=Object.create(t.prototype,i),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},qv=(e,t,n,i)=>{let r,s,o;const c={};if(t=t||{},e==null)return t;do{for(r=Object.getOwnPropertyNames(e),s=r.length;s-- >0;)o=r[s],(!i||i(o,e,t))&&!c[o]&&(t[o]=e[o],c[o]=!0);e=n!==!1&&So(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},Kv=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const i=e.indexOf(t,n);return i!==-1&&i===n},Vv=e=>{if(!e)return null;if(qn(e))return e;let t=e.length;if(!ou(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},Jv=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&So(Uint8Array)),Xv=(e,t)=>{const i=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=i.next())&&!r.done;){const s=r.value;t.call(e,s[0],s[1])}},Yv=(e,t)=>{let n;const i=[];for(;(n=e.exec(t))!==null;)i.push(n);return i},Gv=_t("HTMLFormElement"),Qv=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,i,r){return i.toUpperCase()+r}),ic=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),Zv=_t("RegExp"),uu=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),i={};Oi(n,(r,s)=>{let o;(o=t(r,s,e))!==!1&&(i[s]=o||r)}),Object.defineProperties(e,i)},eb=e=>{uu(e,(t,n)=>{if(et(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const i=e[n];if(et(i)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},tb=(e,t)=>{const n={},i=r=>{r.forEach(s=>{n[s]=!0})};return qn(e)?i(e):i(String(e).split(t)),n},nb=()=>{},ib=(e,t)=>(e=+e,Number.isFinite(e)?e:t),or="abcdefghijklmnopqrstuvwxyz",sc="0123456789",hu={DIGIT:sc,ALPHA:or,ALPHA_DIGIT:or+or.toUpperCase()+sc},sb=(e=16,t=hu.ALPHA_DIGIT)=>{let n="";const{length:i}=t;for(;e--;)n+=t[Math.random()*i|0];return n};function rb(e){return!!(e&&et(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const ob=e=>{const t=new Array(10),n=(i,r)=>{if(js(i)){if(t.indexOf(i)>=0)return;if(!("toJSON"in i)){t[r]=i;const s=qn(i)?[]:{};return Oi(i,(o,c)=>{const a=n(o,r+1);!Ri(a)&&(s[c]=a)}),t[r]=void 0,s}}return i};return n(e,0)},ab=_t("AsyncFunction"),cb=e=>e&&(js(e)||et(e))&&et(e.then)&&et(e.catch),y={isArray:qn,isArrayBuffer:ru,isBuffer:Pv,isFormData:Uv,isArrayBufferView:kv,isString:$v,isNumber:ou,isBoolean:jv,isObject:js,isPlainObject:Yi,isUndefined:Ri,isDate:Iv,isFile:Mv,isBlob:zv,isRegExp:Zv,isFunction:et,isStream:Dv,isURLSearchParams:Nv,isTypedArray:Jv,isFileList:Lv,forEach:Oi,merge:Ur,extend:Bv,trim:Fv,stripBOM:Hv,inherits:Wv,toFlatObject:qv,kindOf:ks,kindOfTest:_t,endsWith:Kv,toArray:Vv,forEachEntry:Xv,matchAll:Yv,isHTMLForm:Gv,hasOwnProperty:ic,hasOwnProp:ic,reduceDescriptors:uu,freezeMethods:eb,toObjectSet:tb,toCamelCase:Qv,noop:nb,toFiniteNumber:ib,findKey:au,global:cu,isContextDefined:lu,ALPHABET:hu,generateString:sb,isSpecCompliantForm:rb,toJSONObject:ob,isAsyncFn:ab,isThenable:cb};function Y(e,t,n,i,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),i&&(this.request=i),r&&(this.response=r)}y.inherits(Y,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:y.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const fu=Y.prototype,du={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{du[e]={value:e}});Object.defineProperties(Y,du);Object.defineProperty(fu,"isAxiosError",{value:!0});Y.from=(e,t,n,i,r,s)=>{const o=Object.create(fu);return y.toFlatObject(e,o,function(a){return a!==Error.prototype},c=>c!=="isAxiosError"),Y.call(o,e.message,t,n,i,r),o.cause=e,o.name=e.name,s&&Object.assign(o,s),o};const lb=null;function Nr(e){return y.isPlainObject(e)||y.isArray(e)}function pu(e){return y.endsWith(e,"[]")?e.slice(0,-2):e}function rc(e,t,n){return e?e.concat(t).map(function(r,s){return r=pu(r),!n&&s?"["+r+"]":r}).join(n?".":""):t}function ub(e){return y.isArray(e)&&!e.some(Nr)}const hb=y.toFlatObject(y,{},null,function(t){return/^is[A-Z]/.test(t)});function Is(e,t,n){if(!y.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=y.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,E){return!y.isUndefined(E[v])});const i=n.metaTokens,r=n.visitor||u,s=n.dots,o=n.indexes,a=(n.Blob||typeof Blob<"u"&&Blob)&&y.isSpecCompliantForm(t);if(!y.isFunction(r))throw new TypeError("visitor must be a function");function l(g){if(g===null)return"";if(y.isDate(g))return g.toISOString();if(!a&&y.isBlob(g))throw new Y("Blob is not supported. Use a Buffer instead.");return y.isArrayBuffer(g)||y.isTypedArray(g)?a&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function u(g,v,E){let x=g;if(g&&!E&&typeof g=="object"){if(y.endsWith(v,"{}"))v=i?v:v.slice(0,-2),g=JSON.stringify(g);else if(y.isArray(g)&&ub(g)||(y.isFileList(g)||y.endsWith(v,"[]"))&&(x=y.toArray(g)))return v=pu(v),x.forEach(function(I,T){!(y.isUndefined(I)||I===null)&&t.append(o===!0?rc([v],T,s):o===null?v:v+"[]",l(I))}),!1}return Nr(g)?!0:(t.append(rc(E,v,s),l(g)),!1)}const h=[],f=Object.assign(hb,{defaultVisitor:u,convertValue:l,isVisitable:Nr});function p(g,v){if(!y.isUndefined(g)){if(h.indexOf(g)!==-1)throw Error("Circular reference detected in "+v.join("."));h.push(g),y.forEach(g,function(x,C){(!(y.isUndefined(x)||x===null)&&r.call(t,x,y.isString(C)?C.trim():C,v,f))===!0&&p(x,v?v.concat(C):[C])}),h.pop()}}if(!y.isObject(e))throw new TypeError("data must be an object");return p(e),t}function oc(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(i){return t[i]})}function Ao(e,t){this._pairs=[],e&&Is(e,this,t)}const mu=Ao.prototype;mu.append=function(t,n){this._pairs.push([t,n])};mu.toString=function(t){const n=t?function(i){return t.call(this,i,oc)}:oc;return this._pairs.map(function(r){return n(r[0])+"="+n(r[1])},"").join("&")};function fb(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function gu(e,t,n){if(!t)return e;const i=n&&n.encode||fb,r=n&&n.serialize;let s;if(r?s=r(t,n):s=y.isURLSearchParams(t)?t.toString():new Ao(t,n).toString(i),s){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+s}return e}class db{constructor(){this.handlers=[]}use(t,n,i){return this.handlers.push({fulfilled:t,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){y.forEach(this.handlers,function(i){i!==null&&t(i)})}}const ac=db,vu={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},pb=typeof URLSearchParams<"u"?URLSearchParams:Ao,mb=typeof FormData<"u"?FormData:null,gb=typeof Blob<"u"?Blob:null,vb={isBrowser:!0,classes:{URLSearchParams:pb,FormData:mb,Blob:gb},protocols:["http","https","file","blob","url","data"]},bu=typeof window<"u"&&typeof document<"u",bb=(e=>bu&&["ReactNative","NativeScript","NS"].indexOf(e)<0)(typeof navigator<"u"&&navigator.product),wb=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),yb=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:bu,hasStandardBrowserEnv:bb,hasStandardBrowserWebWorkerEnv:wb},Symbol.toStringTag,{value:"Module"})),vt={...yb,...vb};function _b(e,t){return Is(e,new vt.classes.URLSearchParams,Object.assign({visitor:function(n,i,r,s){return vt.isNode&&y.isBuffer(n)?(this.append(i,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},t))}function Eb(e){return y.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Rb(e){const t={},n=Object.keys(e);let i;const r=n.length;let s;for(i=0;i<r;i++)s=n[i],t[s]=e[s];return t}function wu(e){function t(n,i,r,s){let o=n[s++];if(o==="__proto__")return!0;const c=Number.isFinite(+o),a=s>=n.length;return o=!o&&y.isArray(r)?r.length:o,a?(y.hasOwnProp(r,o)?r[o]=[r[o],i]:r[o]=i,!c):((!r[o]||!y.isObject(r[o]))&&(r[o]=[]),t(n,i,r[o],s)&&y.isArray(r[o])&&(r[o]=Rb(r[o])),!c)}if(y.isFormData(e)&&y.isFunction(e.entries)){const n={};return y.forEachEntry(e,(i,r)=>{t(Eb(i),r,n,0)}),n}return null}function xb(e,t,n){if(y.isString(e))try{return(t||JSON.parse)(e),y.trim(e)}catch(i){if(i.name!=="SyntaxError")throw i}return(n||JSON.stringify)(e)}const Oo={transitional:vu,adapter:["xhr","http"],transformRequest:[function(t,n){const i=n.getContentType()||"",r=i.indexOf("application/json")>-1,s=y.isObject(t);if(s&&y.isHTMLForm(t)&&(t=new FormData(t)),y.isFormData(t))return r?JSON.stringify(wu(t)):t;if(y.isArrayBuffer(t)||y.isBuffer(t)||y.isStream(t)||y.isFile(t)||y.isBlob(t))return t;if(y.isArrayBufferView(t))return t.buffer;if(y.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let c;if(s){if(i.indexOf("application/x-www-form-urlencoded")>-1)return _b(t,this.formSerializer).toString();if((c=y.isFileList(t))||i.indexOf("multipart/form-data")>-1){const a=this.env&&this.env.FormData;return Is(c?{"files[]":t}:t,a&&new a,this.formSerializer)}}return s||r?(n.setContentType("application/json",!1),xb(t)):t}],transformResponse:[function(t){const n=this.transitional||Oo.transitional,i=n&&n.forcedJSONParsing,r=this.responseType==="json";if(t&&y.isString(t)&&(i&&!this.responseType||r)){const o=!(n&&n.silentJSONParsing)&&r;try{return JSON.parse(t)}catch(c){if(o)throw c.name==="SyntaxError"?Y.from(c,Y.ERR_BAD_RESPONSE,this,null,this.response):c}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:vt.classes.FormData,Blob:vt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};y.forEach(["delete","get","head","post","put","patch"],e=>{Oo.headers[e]={}});const To=Oo,Sb=y.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Ab=e=>{const t={};let n,i,r;return e&&e.split(`
`).forEach(function(o){r=o.indexOf(":"),n=o.substring(0,r).trim().toLowerCase(),i=o.substring(r+1).trim(),!(!n||t[n]&&Sb[n])&&(n==="set-cookie"?t[n]?t[n].push(i):t[n]=[i]:t[n]=t[n]?t[n]+", "+i:i)}),t},cc=Symbol("internals");function Gn(e){return e&&String(e).trim().toLowerCase()}function Gi(e){return e===!1||e==null?e:y.isArray(e)?e.map(Gi):String(e)}function Ob(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(e);)t[i[1]]=i[2];return t}const Tb=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function ar(e,t,n,i,r){if(y.isFunction(i))return i.call(this,t,n);if(r&&(t=n),!!y.isString(t)){if(y.isString(i))return t.indexOf(i)!==-1;if(y.isRegExp(i))return i.test(t)}}function Cb(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,i)=>n.toUpperCase()+i)}function Pb(e,t){const n=y.toCamelCase(" "+t);["get","set","has"].forEach(i=>{Object.defineProperty(e,i+n,{value:function(r,s,o){return this[i].call(this,t,r,s,o)},configurable:!0})})}class Ms{constructor(t){t&&this.set(t)}set(t,n,i){const r=this;function s(c,a,l){const u=Gn(a);if(!u)throw new Error("header name must be a non-empty string");const h=y.findKey(r,u);(!h||r[h]===void 0||l===!0||l===void 0&&r[h]!==!1)&&(r[h||a]=Gi(c))}const o=(c,a)=>y.forEach(c,(l,u)=>s(l,u,a));return y.isPlainObject(t)||t instanceof this.constructor?o(t,n):y.isString(t)&&(t=t.trim())&&!Tb(t)?o(Ab(t),n):t!=null&&s(n,t,i),this}get(t,n){if(t=Gn(t),t){const i=y.findKey(this,t);if(i){const r=this[i];if(!n)return r;if(n===!0)return Ob(r);if(y.isFunction(n))return n.call(this,r,i);if(y.isRegExp(n))return n.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Gn(t),t){const i=y.findKey(this,t);return!!(i&&this[i]!==void 0&&(!n||ar(this,this[i],i,n)))}return!1}delete(t,n){const i=this;let r=!1;function s(o){if(o=Gn(o),o){const c=y.findKey(i,o);c&&(!n||ar(i,i[c],c,n))&&(delete i[c],r=!0)}}return y.isArray(t)?t.forEach(s):s(t),r}clear(t){const n=Object.keys(this);let i=n.length,r=!1;for(;i--;){const s=n[i];(!t||ar(this,this[s],s,t,!0))&&(delete this[s],r=!0)}return r}normalize(t){const n=this,i={};return y.forEach(this,(r,s)=>{const o=y.findKey(i,s);if(o){n[o]=Gi(r),delete n[s];return}const c=t?Cb(s):String(s).trim();c!==s&&delete n[s],n[c]=Gi(r),i[c]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return y.forEach(this,(i,r)=>{i!=null&&i!==!1&&(n[r]=t&&y.isArray(i)?i.join(", "):i)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const i=new this(t);return n.forEach(r=>i.set(r)),i}static accessor(t){const i=(this[cc]=this[cc]={accessors:{}}).accessors,r=this.prototype;function s(o){const c=Gn(o);i[c]||(Pb(r,o),i[c]=!0)}return y.isArray(t)?t.forEach(s):s(t),this}}Ms.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);y.reduceDescriptors(Ms.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(i){this[n]=i}}});y.freezeMethods(Ms);const kt=Ms;function cr(e,t){const n=this||To,i=t||n,r=kt.from(i.headers);let s=i.data;return y.forEach(e,function(c){s=c.call(n,s,r.normalize(),t?t.status:void 0)}),r.normalize(),s}function yu(e){return!!(e&&e.__CANCEL__)}function Ti(e,t,n){Y.call(this,e??"canceled",Y.ERR_CANCELED,t,n),this.name="CanceledError"}y.inherits(Ti,Y,{__CANCEL__:!0});function kb(e,t,n){const i=n.config.validateStatus;!n.status||!i||i(n.status)?e(n):t(new Y("Request failed with status code "+n.status,[Y.ERR_BAD_REQUEST,Y.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const $b=vt.hasStandardBrowserEnv?{write(e,t,n,i,r,s){const o=[e+"="+encodeURIComponent(t)];y.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),y.isString(i)&&o.push("path="+i),y.isString(r)&&o.push("domain="+r),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function jb(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Ib(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function _u(e,t){return e&&!jb(t)?Ib(e,t):t}const Mb=vt.hasStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let i;function r(s){let o=s;return t&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return i=r(window.location.href),function(o){const c=y.isString(o)?r(o):o;return c.protocol===i.protocol&&c.host===i.host}}():function(){return function(){return!0}}();function zb(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Lb(e,t){e=e||10;const n=new Array(e),i=new Array(e);let r=0,s=0,o;return t=t!==void 0?t:1e3,function(a){const l=Date.now(),u=i[s];o||(o=l),n[r]=a,i[r]=l;let h=s,f=0;for(;h!==r;)f+=n[h++],h=h%e;if(r=(r+1)%e,r===s&&(s=(s+1)%e),l-o<t)return;const p=u&&l-u;return p?Math.round(f*1e3/p):void 0}}function lc(e,t){let n=0;const i=Lb(50,250);return r=>{const s=r.loaded,o=r.lengthComputable?r.total:void 0,c=s-n,a=i(c),l=s<=o;n=s;const u={loaded:s,total:o,progress:o?s/o:void 0,bytes:c,rate:a||void 0,estimated:a&&o&&l?(o-s)/a:void 0,event:r};u[t?"download":"upload"]=!0,e(u)}}const Db=typeof XMLHttpRequest<"u",Ub=Db&&function(e){return new Promise(function(n,i){let r=e.data;const s=kt.from(e.headers).normalize();let{responseType:o,withXSRFToken:c}=e,a;function l(){e.cancelToken&&e.cancelToken.unsubscribe(a),e.signal&&e.signal.removeEventListener("abort",a)}let u;if(y.isFormData(r)){if(vt.hasStandardBrowserEnv||vt.hasStandardBrowserWebWorkerEnv)s.setContentType(!1);else if((u=s.getContentType())!==!1){const[v,...E]=u?u.split(";").map(x=>x.trim()).filter(Boolean):[];s.setContentType([v||"multipart/form-data",...E].join("; "))}}let h=new XMLHttpRequest;if(e.auth){const v=e.auth.username||"",E=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";s.set("Authorization","Basic "+btoa(v+":"+E))}const f=_u(e.baseURL,e.url);h.open(e.method.toUpperCase(),gu(f,e.params,e.paramsSerializer),!0),h.timeout=e.timeout;function p(){if(!h)return;const v=kt.from("getAllResponseHeaders"in h&&h.getAllResponseHeaders()),x={data:!o||o==="text"||o==="json"?h.responseText:h.response,status:h.status,statusText:h.statusText,headers:v,config:e,request:h};kb(function(I){n(I),l()},function(I){i(I),l()},x),h=null}if("onloadend"in h?h.onloadend=p:h.onreadystatechange=function(){!h||h.readyState!==4||h.status===0&&!(h.responseURL&&h.responseURL.indexOf("file:")===0)||setTimeout(p)},h.onabort=function(){h&&(i(new Y("Request aborted",Y.ECONNABORTED,e,h)),h=null)},h.onerror=function(){i(new Y("Network Error",Y.ERR_NETWORK,e,h)),h=null},h.ontimeout=function(){let E=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const x=e.transitional||vu;e.timeoutErrorMessage&&(E=e.timeoutErrorMessage),i(new Y(E,x.clarifyTimeoutError?Y.ETIMEDOUT:Y.ECONNABORTED,e,h)),h=null},vt.hasStandardBrowserEnv&&(c&&y.isFunction(c)&&(c=c(e)),c||c!==!1&&Mb(f))){const v=e.xsrfHeaderName&&e.xsrfCookieName&&$b.read(e.xsrfCookieName);v&&s.set(e.xsrfHeaderName,v)}r===void 0&&s.setContentType(null),"setRequestHeader"in h&&y.forEach(s.toJSON(),function(E,x){h.setRequestHeader(x,E)}),y.isUndefined(e.withCredentials)||(h.withCredentials=!!e.withCredentials),o&&o!=="json"&&(h.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&h.addEventListener("progress",lc(e.onDownloadProgress,!0)),typeof e.onUploadProgress=="function"&&h.upload&&h.upload.addEventListener("progress",lc(e.onUploadProgress)),(e.cancelToken||e.signal)&&(a=v=>{h&&(i(!v||v.type?new Ti(null,e,h):v),h.abort(),h=null)},e.cancelToken&&e.cancelToken.subscribe(a),e.signal&&(e.signal.aborted?a():e.signal.addEventListener("abort",a)));const g=zb(f);if(g&&vt.protocols.indexOf(g)===-1){i(new Y("Unsupported protocol "+g+":",Y.ERR_BAD_REQUEST,e));return}h.send(r||null)})},Fr={http:lb,xhr:Ub};y.forEach(Fr,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const uc=e=>`- ${e}`,Nb=e=>y.isFunction(e)||e===null||e===!1,Eu={getAdapter:e=>{e=y.isArray(e)?e:[e];const{length:t}=e;let n,i;const r={};for(let s=0;s<t;s++){n=e[s];let o;if(i=n,!Nb(n)&&(i=Fr[(o=String(n)).toLowerCase()],i===void 0))throw new Y(`Unknown adapter '${o}'`);if(i)break;r[o||"#"+s]=i}if(!i){const s=Object.entries(r).map(([c,a])=>`adapter ${c} `+(a===!1?"is not supported by the environment":"is not available in the build"));let o=t?s.length>1?`since :
`+s.map(uc).join(`
`):" "+uc(s[0]):"as no adapter specified";throw new Y("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return i},adapters:Fr};function lr(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ti(null,e)}function hc(e){return lr(e),e.headers=kt.from(e.headers),e.data=cr.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Eu.getAdapter(e.adapter||To.adapter)(e).then(function(i){return lr(e),i.data=cr.call(e,e.transformResponse,i),i.headers=kt.from(i.headers),i},function(i){return yu(i)||(lr(e),i&&i.response&&(i.response.data=cr.call(e,e.transformResponse,i.response),i.response.headers=kt.from(i.response.headers))),Promise.reject(i)})}const fc=e=>e instanceof kt?{...e}:e;function Ln(e,t){t=t||{};const n={};function i(l,u,h){return y.isPlainObject(l)&&y.isPlainObject(u)?y.merge.call({caseless:h},l,u):y.isPlainObject(u)?y.merge({},u):y.isArray(u)?u.slice():u}function r(l,u,h){if(y.isUndefined(u)){if(!y.isUndefined(l))return i(void 0,l,h)}else return i(l,u,h)}function s(l,u){if(!y.isUndefined(u))return i(void 0,u)}function o(l,u){if(y.isUndefined(u)){if(!y.isUndefined(l))return i(void 0,l)}else return i(void 0,u)}function c(l,u,h){if(h in t)return i(l,u);if(h in e)return i(void 0,l)}const a={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:c,headers:(l,u)=>r(fc(l),fc(u),!0)};return y.forEach(Object.keys(Object.assign({},e,t)),function(u){const h=a[u]||r,f=h(e[u],t[u],u);y.isUndefined(f)&&h!==c||(n[u]=f)}),n}const Ru="1.6.8",Co={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Co[e]=function(i){return typeof i===e||"a"+(t<1?"n ":" ")+e}});const dc={};Co.transitional=function(t,n,i){function r(s,o){return"[Axios v"+Ru+"] Transitional option '"+s+"'"+o+(i?". "+i:"")}return(s,o,c)=>{if(t===!1)throw new Y(r(o," has been removed"+(n?" in "+n:"")),Y.ERR_DEPRECATED);return n&&!dc[o]&&(dc[o]=!0,console.warn(r(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(s,o,c):!0}};function Fb(e,t,n){if(typeof e!="object")throw new Y("options must be an object",Y.ERR_BAD_OPTION_VALUE);const i=Object.keys(e);let r=i.length;for(;r-- >0;){const s=i[r],o=t[s];if(o){const c=e[s],a=c===void 0||o(c,s,e);if(a!==!0)throw new Y("option "+s+" must be "+a,Y.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Y("Unknown option "+s,Y.ERR_BAD_OPTION)}}const Br={assertOptions:Fb,validators:Co},Dt=Br.validators;class as{constructor(t){this.defaults=t,this.interceptors={request:new ac,response:new ac}}async request(t,n){try{return await this._request(t,n)}catch(i){if(i instanceof Error){let r;Error.captureStackTrace?Error.captureStackTrace(r={}):r=new Error;const s=r.stack?r.stack.replace(/^.+\n/,""):"";i.stack?s&&!String(i.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+s):i.stack=s}throw i}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Ln(this.defaults,n);const{transitional:i,paramsSerializer:r,headers:s}=n;i!==void 0&&Br.assertOptions(i,{silentJSONParsing:Dt.transitional(Dt.boolean),forcedJSONParsing:Dt.transitional(Dt.boolean),clarifyTimeoutError:Dt.transitional(Dt.boolean)},!1),r!=null&&(y.isFunction(r)?n.paramsSerializer={serialize:r}:Br.assertOptions(r,{encode:Dt.function,serialize:Dt.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&y.merge(s.common,s[n.method]);s&&y.forEach(["delete","get","head","post","put","patch","common"],g=>{delete s[g]}),n.headers=kt.concat(o,s);const c=[];let a=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(n)===!1||(a=a&&v.synchronous,c.unshift(v.fulfilled,v.rejected))});const l=[];this.interceptors.response.forEach(function(v){l.push(v.fulfilled,v.rejected)});let u,h=0,f;if(!a){const g=[hc.bind(this),void 0];for(g.unshift.apply(g,c),g.push.apply(g,l),f=g.length,u=Promise.resolve(n);h<f;)u=u.then(g[h++],g[h++]);return u}f=c.length;let p=n;for(h=0;h<f;){const g=c[h++],v=c[h++];try{p=g(p)}catch(E){v.call(this,E);break}}try{u=hc.call(this,p)}catch(g){return Promise.reject(g)}for(h=0,f=l.length;h<f;)u=u.then(l[h++],l[h++]);return u}getUri(t){t=Ln(this.defaults,t);const n=_u(t.baseURL,t.url);return gu(n,t.params,t.paramsSerializer)}}y.forEach(["delete","get","head","options"],function(t){as.prototype[t]=function(n,i){return this.request(Ln(i||{},{method:t,url:n,data:(i||{}).data}))}});y.forEach(["post","put","patch"],function(t){function n(i){return function(s,o,c){return this.request(Ln(c||{},{method:t,headers:i?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}as.prototype[t]=n(),as.prototype[t+"Form"]=n(!0)});const Qi=as;class Po{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const i=this;this.promise.then(r=>{if(!i._listeners)return;let s=i._listeners.length;for(;s-- >0;)i._listeners[s](r);i._listeners=null}),this.promise.then=r=>{let s;const o=new Promise(c=>{i.subscribe(c),s=c}).then(r);return o.cancel=function(){i.unsubscribe(s)},o},t(function(s,o,c){i.reason||(i.reason=new Ti(s,o,c),n(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}static source(){let t;return{token:new Po(function(r){t=r}),cancel:t}}}const Bb=Po;function Hb(e){return function(n){return e.apply(null,n)}}function Wb(e){return y.isObject(e)&&e.isAxiosError===!0}const Hr={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Hr).forEach(([e,t])=>{Hr[t]=e});const qb=Hr;function xu(e){const t=new Qi(e),n=su(Qi.prototype.request,t);return y.extend(n,Qi.prototype,t,{allOwnKeys:!0}),y.extend(n,t,null,{allOwnKeys:!0}),n.create=function(r){return xu(Ln(e,r))},n}const Re=xu(To);Re.Axios=Qi;Re.CanceledError=Ti;Re.CancelToken=Bb;Re.isCancel=yu;Re.VERSION=Ru;Re.toFormData=Is;Re.AxiosError=Y;Re.Cancel=Re.CanceledError;Re.all=function(t){return Promise.all(t)};Re.spread=Hb;Re.isAxiosError=Wb;Re.mergeConfig=Ln;Re.AxiosHeaders=kt;Re.formToJSON=e=>wu(y.isHTMLForm(e)?new FormData(e):e);Re.getAdapter=Eu.getAdapter;Re.HttpStatusCode=qb;Re.default=Re;const Kb=Re,Vb="https://api.anilibria.tv/v3/title/updates?page=",Jb={class:"grid gap-[30px] p-[20px] 2xl:grid-cols-6 xl:grid-cols-5 md:grid-cols-4 sm:grid-cols-3 grid-cols-2"},Xb=["onMouseover"],Yb={class:"relative z-0 rounded-[15px] overflow-hidden"},Gb=["src"],Qb={class:"flex flex-col items-center w-full"},Zb={class:"font-medium text-gray-500"},ew=Oe({__name:"HomeView",setup(e){Wn(),Te(null),Te(null),Te(null);const t=Te(null),n=async()=>(await Kb.get(`${Vb}1&limit=21`)).data;so(async()=>{if(t.value)return;const r=await n();t.value=r.list,console.log(t.value[0])});const i=Te(null);return(r,s)=>(z(),be(Le,null,[q("div",Jb,[(z(!0),be(Le,null,mr(t.value,o=>(z(),be("div",{key:o},[q("article",{onMouseover:c=>i.value=o,onMouseleave:s[0]||(s[0]=c=>i.value=null),class:"flex flex-col items-center gap-3 cursor-pointer"},[q("div",Yb,[q("img",{src:`https://dl-20240330-7.anilib.moe${o.posters.original.url}`,class:"w-full h-auto"},null,8,Gb),q("div",{class:wt(["flex absolute z-10 top-0 left-0 w-full h-full duration-300 items-center justify-center text-transparent",{"bg-cardOpacity text-white":i.value===o}])},[F(Ji,{width:50,height:50,name:"icon-play"})],2)]),q("div",Qb,[q("h2",{class:wt(["font-medium w-full duration-300 whitespace-nowrap text-ellipsis overflow-hidden",{"text-red-500":i.value===o}])},Tt(o.names.ru),3),q("p",Zb,Tt(o.season.year),1)])],40,Xb)]))),128))]),F(Tv)],64))}}),tw={},nw=q("h1",{class:"text-orange-500"},"about",-1),iw=[nw];function sw(e,t){return z(),be("div",null,iw)}const rw=Ai(tw,[["render",sw]]),ow={},aw={class:"flex justify-center items-center w-[100%] h-[100%]"},cw=q("img",{src:"https://webitnow.co.il/wp-content/uploads/עמודי-404-מה-עושים-1170x640.jpg",alt:""},null,-1),lw=[cw];function uw(e,t){return z(),be("div",aw,lw)}const hw=Ai(ow,[["render",uw]]),fw={class:"flex flex-row w-[911px] h-[190px] p-[20px] shadow-shadowDrop rounded-[10px] justify-between"},dw={class:"flex flex-col font-normal text-[20px]"},pw={class:"text-gray-500"},mw=q("div",{class:"flex flex-row gap-6 h-[100%] items-end"},[q("span",{class:"text-gray-500"},"Смотрю: 0"),q("span",{class:"text-gray-500"},"Просмотрено: 0"),q("span",{class:"text-gray-500"},"Запланировано: 0")],-1),gw=Oe({__name:"Profile",props:{user:{},statusAnime:{}},setup(e){return(t,n)=>{var i,r;return z(),be("div",fw,[F(Nl,{style:"w-[150px] h-[150px]",img:(i=t.user)==null?void 0:i.avatar_url},null,8,["img"]),q("div",dw,[q("span",pw,Tt((r=t.user)==null?void 0:r.name),1),mw]),q("div",null,[F(jn,{text:"Обновить пароль",style:" rounded-[10px] font-medium hover:shadow-shadowDrop",onClick:n[0]||(n[0]=s=>{var o;return t.$emit("recoverPassword",(o=t.user)==null?void 0:o.email)})})])])}}}),vw={class:"flex w-[100%] justify-center mt-3"},bw=Oe({__name:"ProfileView",setup(e){const t=Wn();return(n,i)=>(z(),be("div",vw,[F(gw,{user:le(t).user,statusAnime:null,onRecoverPassword:i[0]||(i[0]=r=>le(t).recoverPassword(r))},null,8,["user"])]))}}),ww=rp({history:Ed("/"),routes:[{path:"/",name:"home",component:ew},{path:"/about",name:"about",component:rw},{path:"/:pathMatch(.*)*",name:"NoFound",component:hw},{path:"/profile",name:"profile",component:bw}]}),ko=Xf(Fg);ko.use(Qf());ko.use(ww);ko.mount("#app");
